(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11693ce8"],{3497:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("v-data-table",{attrs:{headers:t.headers,xs12:"",items:t.documents,id:"documentTable","hide-actions":"","rows-per-page-items":[t.$vuetify.breakpoint.xsOnly?10:20],loading:t.loading,"total-items":t.totalDocuments,pagination:t.pagination,"no-data-text":t.noDataText},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",t._l(e.headers,function(e){return a("th",{key:e.value,class:{"px-1 font-weight-bold black--text body-2":!0,"text-xs-center":"center"===e.align,"text-xs-left":"left"===e.align,"text-xs-right":"right"===e.align},attrs:{width:e.width||!1}},[t._v(t._s(e.text))])}),0)]}},{key:"items",fn:function(e){return[a("tr",[t.hasChildren?a("td",{staticClass:"pa-1 grey--text lighten-1"},[a("v-layout",{attrs:{row:"","justify-center":""}},[t._v("\n                ["),a("router-link",{staticClass:"grey--text lighten-1",attrs:{to:"/"+e.item.boardId}},[t._v(t._s(t.boardItems.some(function(t){return t.boardId===e.item.boardId})?t.$vuetify.breakpoint.smAndUp?t.boardItems.find(function(t){return t.boardId===e.item.boardId}).boardName.replace(/\s/g,"").substring(0,5):t.boardItems.find(function(t){return t.boardId===e.item.boardId}).boardName.replace(t.boardTypeItems[t.board.boardType],"").replace(/\s/g,"").substring(0,2):""))]),t._v("]\n              ")],1)],1):t._e(),!t.hasChildren&&t.board.category&&t.board.category.length>0?a("td",{staticClass:"text-xs-left pa-1"},[t._v(t._s(e.item.category))]):t._e(),a("td",{class:{"text-xs-left py-1 ellipsis cursor-pointer":!0,"px-2":!t.hasChildren,"px-0":t.hasChildren,"font-weight-bold":t.$route.params.documentId===e.item.documentId},on:{click:function(a){a.stopPropagation(),t.$router.push("/"+t.board.boardId+"/"+e.item.documentId)}}},[a("v-layout",{attrs:{row:""}},[a("div",{staticClass:"ellipsis text-xs-left"},[a("router-link",{attrs:{to:"/"+t.board.boardId+"/"+e.item.documentId},nativeOn:{click:function(t){t.stopPropagation()}}},[t._v(t._s(e.item.title))])],1),a("span",{staticClass:"accent--text",attrs:{title:"댓글 수"}},[t._v(t._s(e.item.commentCount>0?"["+e.item.commentCount+"]":""))])])],1),t.$vuetify.breakpoint.smAndUp?a("td",{staticClass:"text-xs-center pa-1 ellipsis"},[t._v(t._s(e.item.nickName))]):t._e(),a("td",{staticClass:"text-xs-right pa-1"},[t._v(t._s(e.item.voteUpCount))]),a("td",{staticClass:"text-xs-right pa-1 grey--text lighten-1"},[t._v(t._s(t.$moment(e.item.writeDateTime,"YYYYMMDDHHmmss").isSame(t.$moment(),"day")?t.$moment(e.item.writeDateTime,"YYYYMMDDHHmmss").format("HH:mm"):t.$moment(e.item.writeDateTime,"YYYYMMDDHHmmss").format(t.$vuetify.breakpoint.xsOnly?"M/D":"Y/M/D")))])])]}}])},[a("template",{slot:"no-data"},[a("tr",[a("td",{staticClass:"text-xs-center multi-row px-0",attrs:{colspan:t.$vuetify.breakpoint.smAndUp?4:3}},[t._v(t._s(t.noDataText))])])])],2)],1),a("v-flex",[a("v-layout",{attrs:{row:"","pa-2":"","align-center":""}},[a("v-spacer"),a("v-flex",{attrs:{xs6:"",sm4:"",id:"searchDocumentForm"}},[a("v-text-field",{staticClass:"dense mt-0 pt-0",attrs:{"hide-details":"",dense:"","append-outer-icon":"search",placeholder:"제목 또는 내용으로 검색"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.stopPropagation(),t.search(e)):null},"click:append-outer":t.search},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"loungeBest"!==t.$route.params.boardId&&"topicBest"!==t.$route.params.boardId||t.documentBoardId&&t.$route.params.documentId,expression:"(($route.params.boardId !== 'loungeBest' && $route.params.boardId !== 'topicBest') || (documentBoardId && $route.params.documentId))"}],staticClass:"short my-0",attrs:{depressed:"",small:"",color:"primary"},on:{click:function(e){t.$emit("write")}}},[t._v("쓰기")])],1)],1),a("v-flex",{attrs:{"text-xs-center":"","mt-2":"",xs12:""}},[a("v-pagination",{attrs:{id:"documentPagination",length:t.pages,"total-visible":t.$vuetify.breakpoint.smAndUp?10:void 0},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},n=[],o=a("5347"),r={name:"DocumentList",mixins:[o["a"]],props:["board","hasChildren","documentBoardId"],data:function(){return{documents:[],totalDocuments:0,loading:!1,pagination:{},page:null,boardId:null,noDataText:"아직 작성된 글이 없습니다. 첫 글을 작성해보세요!",searchQuery:null}},computed:{headers:function(){var t=[{text:"제목",value:"title",sortable:!1,align:"center"},{text:"추천",value:"voteUpCount",sortable:!1,align:"right",width:this.$vuetify.breakpoint.xsOnly?"30":"50"},{text:"날짜",value:"writeDateTime",sortable:!1,align:"right",width:this.$vuetify.breakpoint.xsOnly?"50":"100"}];return this.$vuetify.breakpoint.smAndUp&&t.splice(1,0,{text:"글쓴이",value:"nickName",sortable:!1,align:"center",width:"100"}),!this.hasChildren&&this.board.category&&t.splice(0,0,{text:"카테고리",value:"category",sortable:!1,align:"left"}),this.hasChildren&&t.splice(0,0,{text:this.boardTypeItems[this.board.boardType],value:"boardId",sortable:!1,align:"center",width:this.$vuetify.breakpoint.smAndUp?"100":"50"}),t},boardItems:function(){return this.$store.getters.boards},pages:function(){return this.pagination.rowsPerPage?Math.ceil(this.totalDocuments/this.pagination.rowsPerPage):1}},methods:{getDocuments:function(){var t=this;this.loading=!0,this.$axios.get("/".concat(this.boardId),{params:{page:this.pagination.page,rowsPerPage:this.$vuetify.breakpoint.xsOnly?10:20},headers:{silent:!0}}).then(function(e){t.documents=e.data,t.totalDocuments=t.documents.length>0?t.documents[0].totalCount:0,t.noDataText="아직 작성된 글이 없습니다. 첫 글을 작성해보세요!",t.loading=!1}).catch(function(e){t.loading=!1,console.log(e),t.noDataText=e.response?e.response.data.message:"글 목록을 가져오지 못했습니다.",t.$store.dispatch("showSnackbar",{text:"".concat(e.response?e.response.data.message:"글 목록을 가져오지 못했습니다."),color:"error"})})},search:function(){this.searchQuery&&this.$router.push("/searchDocument?boardId=".concat(this.board.boardId,"&searchQuery=").concat(this.searchQuery))}},created:function(){this.page=1*this.$route.query.page>0&&Number.isInteger(1*this.$route.query.page)?1*this.$route.query.page:1},watch:{"$route.params":{handler:function(t){var e=this;if(this.boardId!==t.boardId){this.documents=[],this.totalDocuments=0;var a=1*this.$route.query.page>0&&Number.isInteger(1*this.$route.query.page)?1*this.$route.query.page:1;this.boardId=t.boardId,this.$nextTick(function(){e.pagination.page=a,e.page=a,e.getDocuments()})}},deep:!0,immediate:!0},page:function(t){this.pagination.page!==t&&(this.pagination.page=t,this.getDocuments())}}},i=r,d=(a("aea3"),a("0c7c")),c=Object(d["a"])(i,s,n,!1,null,null,null);e["default"]=c.exports},"8f80":function(t,e,a){},aea3:function(t,e,a){"use strict";var s=a("8f80"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-11693ce8-legacy.a301e289.js.map