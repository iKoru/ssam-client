{"version":3,"sources":["webpack:///./src/components/board/survey/Survey.vue?ab10","webpack:///./src/components/board/CommentItem.vue?1409","webpack:///./src/components/mixins/BoardMixins.js","webpack:///./src/static/img/defaultUser.png","webpack:///./src/components/board/survey/Survey.vue?310d","webpack:///src/components/board/survey/Survey.vue","webpack:///./src/components/board/survey/Survey.vue?559f","webpack:///./src/components/board/survey/Survey.vue","webpack:///./src/components/board/ViewDocument.vue?896a","webpack:///./src/components/board/CommentWriter.vue?3960","webpack:///./src/components/board/ViewDocument.vue?4351","webpack:///./src/components/board/CommentWriter.vue?65a8","webpack:///src/components/board/CommentWriter.vue","webpack:///./src/components/board/CommentWriter.vue?2168","webpack:///./src/components/board/CommentWriter.vue","webpack:///./src/components/UserLink.vue?eb8b","webpack:///src/components/UserLink.vue","webpack:///./src/components/UserLink.vue?0589","webpack:///./src/components/UserLink.vue","webpack:///./src/components/board/ViewComments.vue?fd3b","webpack:///./src/components/board/CommentItem.vue?15bc","webpack:///src/components/board/CommentItem.vue","webpack:///./src/components/board/CommentItem.vue?9bd1","webpack:///./src/components/board/CommentItem.vue","webpack:///src/components/board/ViewComments.vue","webpack:///./src/components/board/ViewComments.vue?fc83","webpack:///./src/components/board/ViewComments.vue","webpack:///src/components/board/ViewDocument.vue","webpack:///./src/components/board/ViewDocument.vue?ac8c","webpack:///./src/components/board/ViewDocument.vue","webpack:///./src/components/board/ViewComments.vue?7cef"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_Survey_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_Survey_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentItem_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentItem_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","BoardMixins","data","boardTypeItems","T","L","D","X","E","N","webUrl","process","methods","uuid","partialUUID","Math","random","toString","substring","dataURItoBlob","dataURI","byteString","split","indexOf","atob","unescape","mimeString","ia","Uint8Array","length","i","charCodeAt","Blob","type","timeParser","timestamp","moment","fromNow","module","exports","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","column","row","align-center","mx-2","_v","directives","name","rawName","value","expression","staticStyle","white-space","_s","survey","participants","_l","surveyContents","item","index","key","id","title","_e","choice","answerIndex","class","ans-voted final multi-row","selected","font-weight-bold","mostVotes","votes","percent","text","style","width","ans-no-vote multi-row","active","on","click","$event","handleVote","questions","participated","onlyView","justify-center","my-2","small","showSurveyResult","color","disabled","finalResults","completeSurvey","staticRenderFns","Surveyvue_type_script_lang_js_","props","created","formatSurvey","currentSurvey","computed","otherAnswers","surveyAnswers","forEach","q","qIndex","objectArray","max","totalVotes","choices","choiceIndex","push","isNaN","round","parseInt","getAnswerArray","answers","allowMultipleChoice","answerArray","c","cIndex","findIndex","_this","every","question","some","$store","dispatch","answer","$axios","post","documentId","$route","params","then","response","console","log","get","concat","boardId","catch","error","status","message","questionIndex","a","survey_Surveyvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewDocument_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewDocument_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentWriter_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentWriter_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","primary-title","to","document","mt-1","text-xs-right","nickName","boardType","board","commentCount","viewCount","$moment","writeDateTime","format","xs12","domProps","innerHTML","documentHTML","hasSurvey","sm10","md8","mx-3","text-xs-center","voteDocument","voteUpCount","notices","setNotice","pr-2","attach","x","insert","primary--text","showAttach","filter","deleteDocument","$vuetify","breakpoint","xsOnly","tag","open-on-hover","bottom","lazy","offset-y","model","callback","$$v","scrapMenu","slot","dense","stopPropagation","scrapGroupId","scrapDocument","scrapGroupName","reportMenu","isWriter","two-line","reportTypeId","reportDocument","reportTypeName","reportTypeDescription","mt-2","wrap","px-2","xs6","md4","xl2","attach_path","target","download","attach_name","mb-4","isAnonymous","allowAnonymous","isCommentWritable","reportTypes","best","bestComments","pages","CommentWritervue_type_template_id_7b69626d_render","px-3","ref","options","editorOption","content","py-2","hide-details","label","anonymous","my-0","ml-0","flat","selectImage","depressed","loading","postComment","defaultComment","$emit","CommentWritervue_type_template_id_7b69626d_staticRenderFns","CommentWritervue_type_script_lang_js_","mixins","placeholder","modules","magicUrl","urlRegularExpression","globalRegularExpression","normalizeRegularExpression","toolbar","undefined","imageDrop","imageResize","formData","theme","originImages","components","mounted","image","contents","JSON","parse","ops","hasOwnProperty","find","$refs","commentEditor","quill","setContents","onEditorChange","_ref","html","_this2","input","createElement","setAttribute","onchange","file","files","reader","FileReader","readAsDataURL","onload","test","range","getSelection","insertEmbed","getLength","result","onerror","attachImages","_this3","editor","delta","includes","imgSrc","imageName","append","src","revertImages","_this4","imgName","img","_postComment","_asyncToGenerator","regenerator_default","mark","_callee","_this5","_context","prev","next","headers","silent","t0","abrupt","assign","getters","boards","boardName","trim","FormData","updateComment","stringify","commentTo","res","setText","stop","apply","arguments","_updateComment","_callee2","modifiedBody","_this6","_context2","confirm","parentCommentId","commentId","processFileChange","put","_processFileChange","_callee3","attachFromServer","currentImageId","deleteImageP","uploadFileP","fileCount","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","pair","_this7","_context3","map","startsWith","attach_id","delete","entries","Symbol","iterator","done","return","finish","Promise","all","err","board_CommentWritervue_type_script_lang_js_","CommentWriter","UserLinkvue_type_template_id_b24e0464_render","userLinkMenu","showProfile","sendMessage","max-width","dialog","size","profile","picturePath","alt","xs4","xs8","userAuthItems","auth","region","groupItems","major","grade","UserLinkvue_type_template_id_b24e0464_staticRenderFns","groupName","M","G","R","Z","UserLinkvue_type_script_lang_js_","A","chatType","$router","chatId","groups","groupType","sort","b","previous","splice","divider","header","groupId","components_UserLinkvue_type_script_lang_js_","UserLink_component","UserLink","ViewCommentsvue_type_template_id_160962ce_render","comment","commentIndex","isBest","update","getCommentList","openRecomment","children","prepend-icon","action","$set","avatar","y","childItem","childIndex","inset","openRecommentIndex","total-visible","smAndUp","page","ViewCommentsvue_type_template_id_160962ce_staticRenderFns","CommentItemvue_type_template_id_52d16680_render","updatingComment","commentContents ql-editor pa-0 px-3","body-1","isDeleted","grey--text","lighten-1","deltaToHTML","revokeUpdate","text-xs-left","animalName","isSame","childCount","voteUp","deleteComment","reportComment","CommentItemvue_type_template_id_52d16680_staticRenderFns","CommentItemvue_type_script_lang_js_","tempCont","quill_default","attributes","link","slicer","newText","getElementsByClassName","replace","slice","getImagePath","imagePath","attachName","attachPath","board_CommentItemvue_type_script_lang_js_","CommentItem_component","CommentItem","ViewCommentsvue_type_script_lang_js_","commentList","Array","isArray","watch","$route.params","handler","$nextTick","deep","immediate","val","board_ViewCommentsvue_type_script_lang_js_","ViewComments_component","ViewComments","ViewDocumentvue_type_script_lang_js_","scrapGroups","Survey","getScrapGroups","getReportTypes","userBoards","statusAuth","userBoard","writeRestrictDate","isBefore","allGroupAuth","allowedGroups","_userBoard","ceil","getDocument","_this8","_this9","isAdd","_this10","isNotice","board_ViewDocumentvue_type_script_lang_js_","ViewDocument_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewComments_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewComments_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-369ab7b7-legacy.f5d9fa2a.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&lang=css&\"","import moment from 'moment'\nconst BoardMixins = {\n  data () {\n    return {\n      boardTypeItems: {\n        T: '토픽',\n        L: '라운지',\n        D: '아카이브',\n        X: '게시판',\n        E: '전직교사',\n        N: '예비교사'\n      },\n      webUrl: process.env.VUE_APP_WEB_URL\n    }\n  },\n  methods: {\n    uuid () {\n      let partialUUID = () => {\n        return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n      };\n      return partialUUID() + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + partialUUID() + partialUUID()\n    },\n    dataURItoBlob (dataURI) {\n      // convert base64/URLEncoded data component to raw binary data held in a string\n      var byteString;\n      if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n        byteString = atob(dataURI.split(',')[1]);\n      } else {\n        byteString = unescape(dataURI.split(',')[1]);\n      }\n\n      var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n      // write the bytes of the string to a typed array\n      var ia = new Uint8Array(byteString.length);\n      for (var i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n      }\n      return new Blob([ia], { type: mimeString });\n    },\n    timeParser (timestamp) {\n      return moment(timestamp, 'YYYYMMDDHHmmss').fromNow()\n    }\n  }\n}\n\nexport default BoardMixins\n","module.exports = __webpack_public_path__ + \"img/defaultUser.8cc93c28.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.survey)?_c('v-layout',{staticClass:\"border-light py-2\",attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"mx-2\":\"\"}},[(_vm.onlyView)?_c('span',{staticClass:\"subheading\"},[_vm._v(\"글 작성 후에 수정/삭제가 불가능합니다.\")]):_c('span',{staticClass:\"subheading\"},[_vm._v(\"설문조사\")]),_c('v-spacer'),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.finalResults),expression:\"finalResults\"}],staticStyle:{\"white-space\":\"nowrap\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.survey.participants)+\"명 참여\\n      \")])],1)],1),_vm._l((_vm.survey.surveyContents.questions),function(item,index){return _c('v-flex',{key:index,staticClass:\"px-3 pt-2\"},[_c('div',{attrs:{\"id\":\"poll\"}},[_c('div',{staticClass:\"font-weight-bold body-2 mb-2\"},[_vm._v(_vm._s((index+1) + '. ' + item.title)),(item.allowMultipleChoice)?_c('small',{staticClass:\"grey--text lighten-1\"},[_vm._v(\"(복수응답)\")]):_vm._e()]),_c('div',{staticClass:\"ans-cnt\"},_vm._l((item.choices),function(choice,answerIndex){return _c('div',{key:answerIndex,staticClass:\"ans\"},[(_vm.finalResults)?[_c('div',{class:{'ans-voted final multi-row':true, 'selected': choice.selected, 'font-weight-bold':item.mostVotes == choice.votes}},[(choice.percent)?_c('span',{staticClass:\"percent\"},[_vm._v(_vm._s(choice.percent))]):_vm._e(),_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(choice.text))])]),_c('span',{staticClass:\"bg\",style:({ width: choice.percent })})]:[_c('div',{class:{ 'ans-no-vote multi-row': true, active: choice.selected },on:{\"click\":function($event){return _vm.handleVote(index, choice)}}},[_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(choice.text))])]),_c('span',{staticClass:\"bg\"})]],2)}),0)]),(index + 1 !== _vm.survey.surveyContents.questions.length)?_c('v-divider',{key:'divider'+index,staticClass:\"mt-3\"}):_vm._e()],1)}),(!_vm.survey.participated && !_vm.onlyView)?_c('v-flex',[_c('v-layout',{attrs:{\"justify-center\":\"\",\"my-2\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.showSurveyResult = !_vm.showSurveyResult}}},[_vm._v(\"\\n        \"+_vm._s(_vm.showSurveyResult? '돌아가기':'결과보기')+\"\\n      \")]),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.finalResults},on:{\"click\":_vm.completeSurvey}},[_vm._v(\"응답하기\")])],1)],1):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout column class=\"border-light py-2\" v-if=\"survey\">\n    <v-flex>\n      <v-layout row align-center mx-2>\n        <span v-if=\"onlyView\" class=\"subheading\">글 작성 후에 수정/삭제가 불가능합니다.</span>\n        <span v-else class=\"subheading\">설문조사</span>\n        <v-spacer/>\n        <span v-show=\"finalResults\" style=\"white-space:nowrap;\">\n          {{survey.participants}}명 참여\n        </span>\n      </v-layout>\n    </v-flex>\n    <v-flex v-for=\"(item, index) in survey.surveyContents.questions\" :key=\"index\" class=\"px-3 pt-2\">\n      <div id=\"poll\">\n        <div class=\"font-weight-bold body-2 mb-2\">{{(index+1) + '. ' + item.title}}<small v-if=\"item.allowMultipleChoice\" class=\"grey--text lighten-1\">(복수응답)</small></div>\n        <div class=\"ans-cnt\">\n          <div v-for=\"(choice,answerIndex) in item.choices\" :key=\"answerIndex\" class=\"ans\">\n            <template v-if=\"finalResults\">\n              <div :class=\"{'ans-voted final multi-row':true, 'selected': choice.selected, 'font-weight-bold':item.mostVotes == choice.votes}\">\n                <span v-if=\"choice.percent\" class=\"percent\">{{choice.percent}}</span>\n                <span class=\"txt\">{{choice.text}}</span>\n              </div>\n              <span class=\"bg\" :style=\"{ width: choice.percent }\"></span>\n            </template>\n            <template v-else>\n              <div :class=\"{ 'ans-no-vote multi-row': true, active: choice.selected }\" @click=\"handleVote(index, choice)\">\n                <span class=\"txt\">{{choice.text}}</span>\n              </div>\n              <span class=\"bg\"></span>\n            </template>\n          </div>\n        </div>\n      </div>\n      <v-divider v-if=\"index + 1 !== survey.surveyContents.questions.length\" :key=\"'divider'+index\" class=\"mt-3\"></v-divider>\n    </v-flex>\n    <v-flex v-if=\"!survey.participated && !onlyView\">\n      <v-layout justify-center my-2>\n        <v-btn small @click=\"showSurveyResult = !showSurveyResult\">\n          {{showSurveyResult? '돌아가기':'결과보기'}}\n        </v-btn>\n        <v-btn small color=\"primary\" @click=\"completeSurvey\" :disabled=\"finalResults\">응답하기</v-btn>\n      </v-layout>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\nexport default {\n  props: ['currentSurvey', 'onlyView'],\n  data () {\n    return {\n      showSurveyResult: false,\n      survey: null\n    };\n  },\n  created () {\n    this.survey = this.formatSurvey(this.currentSurvey);\n  },\n  computed: {\n    finalResults () {\n      return this.survey.participated || this.showSurveyResult\n    }\n  },\n  methods: {\n    formatSurvey (survey) {\n      let otherAnswers = survey.surveyAnswers\n      survey.surveyContents.questions.forEach((q, qIndex) => {\n        let objectArray = []\n        let max = 0;\n        let totalVotes = 0;\n        q.choices.forEach((choice, choiceIndex) => {\n          if (otherAnswers.length > qIndex) {\n            objectArray.push({ 'text': choice, 'selected': false, 'votes': otherAnswers[qIndex][choiceIndex] })\n            if (otherAnswers[qIndex][choiceIndex] > max) {\n              max = otherAnswers[qIndex][choiceIndex];\n            }\n            totalVotes += otherAnswers[qIndex][choiceIndex];\n          } else {\n            objectArray.push({ 'text': choice, 'selected': false, 'votes': 0 })\n          }\n        })\n        q.mostVotes = max\n        q.totalVotes = totalVotes\n        if (totalVotes === 0) {\n          objectArray.forEach(choice => {\n            choice.percent = '0%'\n          })\n        } else {\n          // Calculate percent\n          objectArray.forEach(choice => {\n            choice.percent = !isNaN(choice.votes) && choice.votes > 0 ? (Math.round((parseInt(choice.votes) / totalVotes) * 100)) + '%' : '0%'\n          })\n        }\n        q.choices = objectArray\n      })\n      return survey\n    },\n    getAnswerArray (questions) {\n      let answers = [];\n      questions.forEach(q => {\n        if (!q.allowMultipleChoice) {\n          answers.push(q.choices.findIndex(c => c.selected))\n        } else {\n          let answerArray = []\n          q.choices.forEach((c, cIndex) => {\n            if (c.selected) answerArray.push(cIndex)\n          })\n          answers.push(answerArray)\n        }\n      })\n      return answers;\n    },\n    completeSurvey () {\n      if (this.survey.surveyContents.questions.every(question => question.choices.some(choice => choice.selected))) {\n        if (this.survey.participated) {\n          this.$store.dispatch('showSnackbar', { text: '이미 참여한 설문입니다.', color: 'info' });\n          return;\n        }\n        let answer = this.getAnswerArray(this.survey.surveyContents.questions)\n        this.$axios\n          .post(`/survey`, {\n            documentId: this.$route.params.documentId,\n            answer: answer\n          })\n          .then(response => {\n            console.log(response);\n            if (!response.data.survey) {\n              this.$axios\n                .get(`/${this.$route.params.boardId}/${this.$route.params.documentId}`)\n                .then(response => {\n                  this.survey = this.formatSurvey(response.data.survey)\n                  console.log(this.survey)\n                  this.showSurveyResult = true\n                })\n                .catch(error => {\n                  console.log(error);\n                });\n            } else {\n              this.survey = this.formatSurvey(response.data.survey)\n              this.showSurveyResult = true\n            }\n          })\n          .catch(error => {\n            if (error.response && error.response.status === 409) {\n              this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '설문 응답을 등록하지 못했습니다.' : '설문 응답을 등록하지 못했습니다.', color: 'info' });\n            } else {\n              this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '설문 응답을 등록하지 못했습니다.' : '설문 응답을 등록하지 못했습니다.', color: 'error' });\n            }\n          });\n      } else {\n        this.$store.dispatch('showSnackbar', { text: (this.survey.surveyContents.questions.findIndex(question => !question.choices.some(choice => choice.selected)) + 1) + '번 질문의 응답을 선택해주세요.', color: 'warning' });\n      }\n    },\n    handleVote (questionIndex, a) {\n      if (!this.survey.surveyContents.questions[questionIndex].allowMultipleChoice) {\n        if (!a.selected) {\n          this.survey.surveyContents.questions[questionIndex].choices.forEach(choice => (choice.selected = false))\n        }\n      }\n      a.selected = !a.selected\n    }\n  }\n};\n</script>\n<style>\n#poll .ans-cnt{\n  margin: 5px 0;\n}\n#poll .ans-cnt .ans{\n  position: relative;\n  border-radius: 8px;\n  overflow:hidden;\n  margin-top: 8px;\n}\n#poll .ans-cnt .ans:first-child{\n  margin-top: 0;\n}\n\n#poll .ans-cnt .ans-no-vote, #poll .ans-cnt .ans-voted{\n  background-color: #E1E8ED;\n  border-radius: 8px;\n  padding: 5px 10px;\n}\n#poll .ans-cnt .ans-voted .txt,\n#poll .ans-cnt .ans-voted .percent{\n  z-index: 1;\n  position: relative;\n}\n#poll .ans-cnt .ans-no-vote.active{\n  background: #d5d5d5;\n}\n#poll .ans-cnt .ans-no-vote.active .txt::before{\n  content:'✔';\n  width: 20px;\n  margin-right:4px;\n}\n#poll .ans-cnt .ans-voted .percent{\n  min-width: 44px;\n  display: inline-block;\n}\n#poll .ans-cnt .ans .bg{\n  position: absolute;\n  width: 0%;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 0;\n  background-color: #77C7F7;\n  transition: width .3s ease-in-out;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Survey.vue?vue&type=template&id=798320d7&\"\nimport script from \"./Survey.vue?vue&type=script&lang=js&\"\nexport * from \"./Survey.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Survey.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.document)?_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',{staticClass:\"w-100\"},[_c('router-link',{staticClass:\"title mb-0 multi-row\",attrs:{\"to\":'/'+_vm.document.boardId+'/'+_vm.documentId}},[_vm._v(_vm._s(_vm.document.title))]),_c('v-layout',{attrs:{\"row\":\"\",\"mt-1\":\"\"}},[_c('v-spacer'),_c('v-flex',{attrs:{\"text-xs-right\":\"\"}},[_c('user-link',{attrs:{\"nickName\":_vm.document.nickName,\"boardType\":_vm.board.boardType}}),_vm._v(\"\\n            | 댓글 \"+_vm._s(_vm.document.commentCount)+\" | 조회 \"+_vm._s(_vm.document.viewCount)+\" | \"+_vm._s(_vm.$moment(_vm.document.writeDateTime, \"YYYYMMDDHHmmss\").format(\"Y.MM.DD HH:mm:ss\"))+\"\\n          \")],1)],1)],1)])],1),_c('v-divider'),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card-text',{staticClass:\"px-0\"},[_c('div',{staticClass:\"ql-editor py-0 px-3\",attrs:{\"id\":\"documentContents\"},domProps:{\"innerHTML\":_vm._s(_vm.documentHTML)}})])],1),(_vm.document.hasSurvey && _vm.document.survey)?_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm10\":\"\",\"md8\":\"\",\"mx-3\":\"\"}},[_c('survey',{attrs:{\"currentSurvey\":_vm.document.survey}})],1)],1):_vm._e(),_c('v-flex',{attrs:{\"text-xs-center\":\"\",\"my-2\":\"\"}},[_c('v-btn',{staticClass:\"font-weight-bold short\",on:{\"click\":_vm.voteDocument}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"small\":\"\"}},[_vm._v(\"thumb_up\")]),_vm._v(\" \\n      \"),_c('span',[_vm._v(_vm._s(_vm.document.voteUpCount))])],1)],1),_c('v-divider'),_c('v-flex',{staticClass:\"my-2\"},[_c('v-layout',{attrs:{\"row\":\"\"}},[(_vm.board.isOwner)?_c('v-flex',[(_vm.board.notices.indexOf(_vm.documentId)>=0)?_c('v-btn',{staticClass:\"ma-0 px-2 short\",on:{\"click\":function($event){return _vm.setNotice(false)}}},[_vm._v(\"공지해제\")]):_c('v-btn',{staticClass:\"ma-0 px-2 short\",on:{\"click\":function($event){return _vm.setNotice(true)}}},[_vm._v(\"공지지정\")])],1):_vm._e(),_c('v-spacer'),_c('v-flex',{attrs:{\"pr-2\":\"\",\"text-xs-right\":\"\"}},[_c('v-btn-toggle',{attrs:{\"id\":\"bottomBottons\"}},[(_vm.document.attach && _vm.document.attach.some(function (x){ return !x.insert; }))?[_c('v-btn',{class:{'primary--text':_vm.showAttach},attrs:{\"title\":\"첨부파일 보기\"},on:{\"click\":function($event){_vm.showAttach=!_vm.showAttach}}},[_vm._v(\"첨부파일(\"+_vm._s(_vm.document.attach.filter(function (x){ return !x.insert; }).length)+\")\")])]:_vm._e(),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.document.isWriter),expression:\"document.isWriter\"}],staticClass:\"short\",attrs:{\"to\":(\"/\" + (_vm.$route.params.boardId) + \"/\" + (_vm.document.documentId) + \"/edit\")}},[_c('span',[_vm._v(\"수정\")])]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.document.isWriter),expression:\"document.isWriter\"}],staticClass:\"short\",on:{\"click\":_vm.deleteDocument}},[_vm._v(\"삭제\")]),_c(_vm.$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu',{tag:\"component\",attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"lazy\":\"\",\"offset-y\":\"\"},model:{value:(_vm.scrapMenu),callback:function ($$v) {_vm.scrapMenu=$$v},expression:\"scrapMenu\"}},[_c('v-btn',{staticClass:\"short\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"스크랩\")]),_c('v-list',{attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"v-list__tile font-weight-bold\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"스크랩 그룹 선택\")]),_vm._l((_vm.scrapGroups),function(item){return _c('v-list-tile',{key:item.scrapGroupId,on:{\"click\":function($event){return _vm.scrapDocument(item)}}},[_c('v-list-tile-title',[_vm._v(_vm._s(item.scrapGroupName))])],1)})],2)],1),_c(_vm.$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu',{tag:\"component\",attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"lazy\":\"\",\"offset-y\":\"\"},model:{value:(_vm.reportMenu),callback:function ($$v) {_vm.reportMenu=$$v},expression:\"reportMenu\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.document.isWriter),expression:\"!document.isWriter\"}],staticClass:\"short\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"신고\")]),_c('v-list',{attrs:{\"two-line\":\"\"}},[_c('div',{staticClass:\"font-weight-bold mx-3 my-2\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"신고사유 선택\")]),_vm._l((_vm.reportTypes),function(item){return _c('v-list-tile',{key:item.reportTypeId,on:{\"click\":function($event){return _vm.reportDocument(item)}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(item.reportTypeName))]),_c('v-list-tile-sub-title',[_vm._v(_vm._s(item.reportTypeDescription))])],1)],1)})],2)],1)],2)],1)],1),_c('v-slide-y-transition',[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-layout',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAttach),expression:\"showAttach\"}],attrs:{\"row\":\"\",\"mt-2\":\"\",\"wrap\":\"\"}},_vm._l((_vm.document.attach.filter(function (x){ return !x.insert; })),function(item,index){return _c('v-flex',{key:index,attrs:{\"px-2\":\"\",\"xs6\":\"\",\"md4\":\"\",\"xl2\":\"\"}},[_c('router-link',{staticClass:\"ellipsis underline\",attrs:{\"to\":_vm.webUrl + '/' + item.attach_path,\"target\":\"_blank\",\"download\":item.attach_name}},[_vm._v(_vm._s(item.attach_name))])],1)}),1),_c('v-divider',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAttach),expression:\"showAttach\"}],staticClass:\"mb-2\"})],1)],1)],1),_c('v-flex',{attrs:{\"mb-4\":\"\"}},[_c('ViewComments',{attrs:{\"isAnonymous\":_vm.document.isWriter && _vm.document.nickName === '',\"allowAnonymous\":_vm.document.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable,\"reportTypes\":_vm.reportTypes,\"boardId\":_vm.document.boardId,\"best\":_vm.document.bestComments,\"pages\":_vm.pages}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"column\":\"\",\"px-3\":\"\"}},[_c('v-flex',{staticClass:\"comment-editor\"},[_c('quill-editor',{ref:\"commentEditor\",attrs:{\"options\":_vm.editorOption},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('v-flex',[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"py-2\":\"\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowAnonymous),expression:\"allowAnonymous\"}],staticClass:\"ml-3\"},[_c('v-checkbox',{staticClass:\"pt-0 mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"익명\",\"disabled\":_vm.isCommentWritable !== 'AVAILABLE' && _vm.isCommentWritable !== 'NEEDSUBSCRIPTION'},model:{value:(_vm.anonymous),callback:function ($$v) {_vm.anonymous=$$v},expression:\"anonymous\"}})],1),_c('v-btn',{class:{'my-0':true, 'ml-0':!_vm.allowAnonymous},attrs:{\"flat\":\"\",\"disabled\":_vm.isCommentWritable !== 'AVAILABLE' && _vm.isCommentWritable !== 'NEEDSUBSCRIPTION'},on:{\"click\":_vm.selectImage}},[_c('v-icon',[_vm._v(\"image\")]),_vm._v(\"이미지\\n      \")],1),_c('v-spacer'),_c('v-btn',{staticClass:\"short\",attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\",\"disabled\":_vm.isCommentWritable !== 'AVAILABLE' && _vm.isCommentWritable !== 'NEEDSUBSCRIPTION',\"loading\":_vm.loading},on:{\"click\":_vm.postComment}},[_vm._v(\"\\n        \"+_vm._s(_vm.defaultComment?'수정':'등록')+\"\\n      \")]),(_vm.defaultComment)?_c('v-btn',{staticClass:\"short\",attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"default\"},on:{\"click\":function($event){return _vm.$emit('revokeUpdate')}}},[_vm._v(\"취소\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout column px-3>\n    <v-flex class=\"comment-editor\">\n      <quill-editor v-model=\"content\" ref=\"commentEditor\" :options=\"editorOption\">\n      </quill-editor>\n    </v-flex>\n    <v-flex>\n      <v-layout row align-center py-2>\n        <span class=\"ml-3\" v-show=\"allowAnonymous\">\n          <v-checkbox hide-details label=\"익명\" v-model=\"anonymous\" class=\"pt-0 mt-0\" :disabled=\"isCommentWritable !== 'AVAILABLE' && isCommentWritable !== 'NEEDSUBSCRIPTION'\"></v-checkbox>\n        </span>\n        <v-btn @click=\"selectImage\" flat :class=\"{'my-0':true, 'ml-0':!allowAnonymous}\" :disabled=\"isCommentWritable !== 'AVAILABLE' && isCommentWritable !== 'NEEDSUBSCRIPTION'\">\n          <v-icon>image</v-icon>이미지\n        </v-btn>\n        <v-spacer/>\n        <v-btn small depressed @click=\"postComment\" color=\"primary\" class=\"short\" :disabled=\"isCommentWritable !== 'AVAILABLE' && isCommentWritable !== 'NEEDSUBSCRIPTION'\" :loading=\"loading\">\n          {{defaultComment?'수정':'등록'}}\n        </v-btn>\n        <v-btn v-if=\"defaultComment\" small depressed @click=\"$emit('revokeUpdate')\" color=\"default\" class=\"short\" >취소</v-btn>\n      </v-layout>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\nimport BoardMixins from '@/components/mixins/BoardMixins';\n\nexport default {\n  name: 'WriteComment',\n  mixins: [BoardMixins],\n  props: ['commentTo', 'isAnonymous', 'allowAnonymous', 'isCommentWritable', 'boardId', 'defaultComment'],\n  data () {\n    return {\n      editorOption: {\n        placeholder: this.isCommentWritable === 'AVAILABLE' ? '댓글을 입력해주세요.' : this.isCommentWritable === 'UNAVAILABLE' ? '댓글을 작성할 수 있는 권한이 없습니다.' : this.isCommentWritable === 'RESTRICTED' ? '글쓰기가 제한되어 있습니다.' : this.isCommentWritable === 'DELETED' ? '삭제된 글입니다.' : '토픽 구독 후 입력된 댓글이 등록됩니다.',\n        modules: {\n          magicUrl: {\n            urlRegularExpression: /(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/,\n            globalRegularExpression: /(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/,\n            normalizeRegularExpression: /(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/\n          },\n          toolbar: undefined,\n          imageDrop: true,\n          imageResize: true\n        },\n        formData: undefined,\n        theme: 'bubble'\n      },\n      content: '',\n      anonymous: this.isAnonymous | true,\n      originImages: [],\n      loading: false\n    };\n  },\n  components: {},\n  mounted () {\n    if (this.defaultComment) {\n      console.log(this.defaultComment)\n      let contents = JSON.parse(this.defaultComment.contents)\n      console.log(contents)\n      if (this.defaultComment.attach) {\n        let image;\n        contents.ops.forEach(item => {\n          if (item.insert.hasOwnProperty('image')) {\n            image = this.defaultComment.attach.find(x => x.attach_name === item.insert.image);\n            console.log(image)\n            if (image) {\n              image.insert = true;\n              item.insert.image = this.webUrl + '/' + image.attach_path\n            }\n          }\n        })\n      }\n      console.log(contents)\n      this.$refs.commentEditor.quill.setContents(contents)\n    }\n  },\n  methods: {\n    onEditorChange ({ quill, html, text }) {\n      this.content = html;\n    },\n    selectImage () {\n      const input = document.createElement('input');\n      input.setAttribute('type', 'file');\n      input.setAttribute('accept', 'image/*');\n      input.click();\n      // Listen upload local image and save to server\n      input.onchange = () => {\n        const file = input.files[0];\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => {\n          // file type is only image.\n          if (/^image\\//.test(file.type)) {\n            let commentEditor = this.$refs.commentEditor\n            let range = commentEditor.quill.getSelection()\n            console.log(range)\n            commentEditor.quill.insertEmbed(range == null ? commentEditor.quill.getLength() : range.index, 'image', reader.result);\n          } else {\n            this.$store.dispatch('showSnackbar', { text: '이미지 파일만 업로드할 수 있습니다.', color: 'error' })\n          }\n        };\n        reader.onerror = function (error) {\n          console.log('Error: ', error);\n        };\n      };\n    },\n    attachImages () {\n      return this.$refs.commentEditor.quill.editor.delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty('image')) {\n          if (item.insert.image.includes('data:image')) {\n            let imgSrc = item.insert.image;\n            let imageName = this.uuid() + '.' + imgSrc.substring('data:image/'.length, imgSrc.indexOf(';base64'));\n            this.formData.append('attach', this.dataURItoBlob(imgSrc), imageName);\n            item.insert.image = imageName;\n            this.originImages.push({ name: imageName, src: imgSrc });\n          }\n        }\n      });\n    },\n    revertImages () {\n      this.$refs.commentEditor.quill.editor.delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty('image')) {\n          // random generated uuid should given here\n          let imgName = item.insert.image;\n          item.insert.image = this.originImages.find(img => img.name === imgName).src;\n        }\n      });\n      this.originImages = [];\n    },\n    async postComment () {\n      this.loading = true;\n      if (this.isCommentWritable === 'NEEDSUBSCRIPTION') {\n        try {\n          await this.$axios.post('/user/board', { boardId: this.boardId }, { headers: { silent: true } });\n        } catch (error) {\n          if (!error.response || error.response.status !== 409) {\n            this.loading = false;\n            this.$store.dispatch('showSnackbar', { text: `${error && error.response && error.response.data ? error.response.data.message || '댓글을 쓰기 위한 구독을 하지 못했습니다.' : '댓글을 쓰기 위한 구독을 하지 못했습니다.'}`, color: 'error' });\n            return;\n          }\n        }\n        this.$store.dispatch('addUserBoard', Object.assign({}, this.$store.getters.boards.find(x => x.boardId === this.boardId)));\n        this.$store.dispatch('showSnackbar', { text: `${this.$store.getters.boards.find(x => x.boardId === this.boardId).boardName} 토픽을 구독하였습니다.`, color: 'info' });\n      }\n\n      if (!this.content || this.content.trim() === '') {\n        this.$store.dispatch('showSnackbar', { text: '댓글 내용을 입력해주세요.', color: 'error' })\n        return;\n      }\n      if (!this.formData) this.formData = new FormData();\n      await this.attachImages();\n      if (this.defaultComment) {\n        await this.updateComment();\n        return;\n      }\n      this.formData.append('documentId', this.$route.params.documentId);\n      this.formData.append('contents', JSON.stringify(this.$refs.commentEditor.quill.editor.delta));\n      this.formData.append('isAnonymous', this.anonymous);\n      if (this.commentTo) {\n        this.formData.append('parentCommentId', this.commentTo);\n      }\n      this.$axios\n        .post('/comment', this.formData, { headers: { silent: true } })\n        .then(res => {\n          this.$refs.commentEditor.quill.setText('');\n          this.revertImages();\n          this.loading = false;\n          this.$emit('update');\n          delete this.formData;\n        })\n        .catch(error => {\n          console.log(error);\n          delete this.formData;\n          this.revertImages();\n          this.loading = false;\n          this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '댓글을 등록하지 못했습니다.'}`, color: 'error' });\n        });\n    },\n    async updateComment () {\n      if (!confirm('댓글을 수정하시겠습니까?')) {\n        this.loading = false;\n        return;\n      }\n      // Convert Images And Upload First\n      try {\n        if (!this.formData) this.formData = new FormData();\n        if (this.defaultComment.parentCommentId) {\n          this.formData.append('parentCommentId', this.defaultComment.parentCommentId);\n        }\n        this.formData.append('documentId', this.$route.params.documentId);\n        this.formData.append('commentId', this.defaultComment.commentId)\n        await this.attachImages(); // change image url here\n        await this.processFileChange()\n        let modifiedBody = {\n          documentId: this.$route.params.documentId,\n          commentId: this.defaultComment.commentId,\n          contents: JSON.stringify(this.$refs.commentEditor.quill.editor.delta)\n        }\n        console.log(modifiedBody)\n        return this.$axios\n          .put(`/comment`, modifiedBody)\n          .then(response => {\n            this.loading = false;\n            if (response.status === 200) {\n              console.log(response)\n              this.$store.dispatch('showSnackbar', { text: '댓글을 수정하였습니다', color: 'success' })\n              this.$emit('update');\n            }\n          })\n          .catch(error => {\n            this.loading = false;\n            this.$store.dispatch('showSnackbar', { text: '댓글 수정에 실패했습니다. 다시 시도해주세요', color: 'error' })\n            console.log(error.response);\n          })\n      } catch (err) {\n        this.loading = false;\n        console.log(err)\n        this.$store.dispatch('showSnackbar', { text: '댓글 수정에 실패했습니다. 다시 시도해주세요', color: 'error' })\n        this.revertImages();\n        delete this.formData\n      }\n    },\n    async processFileChange () {\n      let attachFromServer = this.defaultComment.attach.filter(a => a !== null)\n      let currentImageId = this.$refs.commentEditor.quill.editor.delta.ops.map(item => {\n        if (item.insert.hasOwnProperty('image')) {\n          if (item.insert.image.startsWith('/attach')) {\n            // '/attach/:documentId(^[\\\\d]+$)/:attachId\n            return attachFromServer.find(a => item.insert.image === '/' + a.attach_path).attach_id\n          }\n        }\n      });\n      let deleteImageP, uploadFileP\n      attachFromServer.forEach(a => {\n        if (a.insert && !currentImageId.filter(i => i !== undefined).includes(a.attach_id)) {\n          deleteImageP = this.$axios\n            .delete(`/comment/attach/${this.documentId}/${a.attach_id}`)\n            .then(response => {\n              if (response.status === 200) {\n                console.log(response)\n              }\n            })\n            .catch(error => {\n              console.log(error.response);\n            });\n        }\n      })\n      let fileCount = 0;\n      for (let pair of this.formData.entries()) {\n        if (pair[0] === 'attach') fileCount += 1;\n      }\n      if (fileCount > 0) {\n        uploadFileP = this.$axios\n          .post(`/comment/attach`, this.formData)\n          .then(response => {\n            if (response.status === 200) {\n              console.log(response)\n            }\n          })\n          .catch(error => {\n            console.log(error.response);\n          });\n      }\n      await Promise.all([deleteImageP, uploadFileP])\n        .then(res => {\n          console.log(res)\n        })\n        .catch(err => {\n          console.log(err)\n          this.$store.dispatch('showSnackbar', { text: ' 댓글 수정에 실패했습니다. 다시 시도해주세요', color: 'error' })\n        })\n    }\n  }\n};\n</script>\n<style>\n.comment-editor .ql-container.ql-bubble {\n  min-height: 5rem;\n  border: 1px solid #e8e8e8;\n  border-top: 1px solid #e8e8e8;\n}\n.comment-editor .quill-editor .ql-bubble .ql-tooltip {\n  z-index: 1;\n}\n.comment-editor .ql-bubble .ql-picker.ql-size {\n  width: 60px;\n}\n.comment-editor .ql-editor.ql-blank::before {\n  font-style: normal;\n}\n.comment-editor .video-container {\n  position: relative;\n  height: 0;\n  width: 100%;\n  padding-bottom: 56%;\n}\n.comment-editor .video-container iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentWriter.vue?vue&type=template&id=7b69626d&\"\nimport script from \"./CommentWriter.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentWriter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentWriter.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"d-inline-flex\"},[(_vm.nickName !== '')?[_c(_vm.$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu',{tag:\"component\",attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"lazy\":\"\",\"offset-y\":\"\"},model:{value:(_vm.userLinkMenu),callback:function ($$v) {_vm.userLinkMenu=$$v},expression:\"userLinkMenu\"}},[_c('span',{staticClass:\"cursor-pointer font-weight-bold body--text\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(_vm._s(_vm.nickName))]),_c('v-list',{attrs:{\"dense\":\"\"}},[(_vm.boardType !== 'T')?_c('v-list-tile',{on:{\"click\":_vm.showProfile}},[_c('v-list-tile-title',[_vm._v(\"\\n            프로필보기\\n          \")])],1):_vm._e(),_c('v-list-tile',{on:{\"click\":_vm.sendMessage}},[_c('v-list-tile-title',[_vm._v(\"\\n            메시지 보내기\\n          \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500\",\"lazy\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\",attrs:{\"primary-title\":\"\"}},[_c('span',[_vm._v(\"프로필\")]),_c('v-spacer'),_c('v-icon',{on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"close\")])],1),_c('v-card-text',[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('div',{staticClass:\"text-xs-center justify-center align-center\"},[_c('p',[_c('v-avatar',{attrs:{\"size\":\"200\"}},[_c('img',{attrs:{\"src\":_vm.profile.picturePath? _vm.webUrl+ _vm.profile.picturePath : require('@/static/img/defaultUser.png'),\"alt\":\"프로필 이미지\"}})])],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"라운지 필명\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.nickName))])]),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"회원 구분\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.userAuthItems[_vm.profile.auth]))])]),(_vm.profile.isOpenInfo)?[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"지역\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.region && _vm.groupItems.some(function (x){ return x.value === _vm.profile.region; }) ? _vm.groupItems.find(function (x){ return x.value === _vm.profile.region; }).text : '지역정보 없음'))])]),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"전공\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.major && _vm.groupItems.some(function (x){ return x.value === _vm.profile.major; }) ? _vm.groupItems.find(function (x){ return x.value === _vm.profile.major; }).text : '전공정보 없음'))])]),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"학년\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.grade && _vm.groupItems.some(function (x){ return x.value === _vm.profile.grade; }) ? _vm.groupItems.find(function (x){ return x.value === _vm.profile.grade; }).text : '학년정보 없음'))])])]:_c('div',{staticClass:\"text-xs-center flex mt-3\"},[_vm._v(\"상세 프로필이 비공개로 설정되어 있습니다.\")])],2)],1)])],1),_c('v-card-actions',[_c('v-layout',{attrs:{\"row\":\"\",\"text-xs-center\":\"\"}},[_c('v-spacer'),_c('v-btn',{on:{\"click\":_vm.sendMessage}},[_vm._v(\"메시지 보내기\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"닫기\")])],1)],1)],1)],1)]:_c('span',{staticClass:\"grey--text lighten-1\"},[_vm._v(\"익명\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"d-inline-flex\">\n    <template v-if=\"nickName !== ''\">\n      <component :is=\"$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu'\" v-model=\"userLinkMenu\" open-on-hover bottom lazy offset-y>\n        <span slot=\"activator\" class=\"cursor-pointer font-weight-bold body--text\">{{nickName}}</span>\n        <v-list dense>\n          <v-list-tile v-if=\"boardType !== 'T'\" @click=\"showProfile\">\n            <v-list-tile-title>\n              프로필보기\n            </v-list-tile-title>\n          </v-list-tile>\n          <v-list-tile @click=\"sendMessage\">\n            <v-list-tile-title>\n              메시지 보내기\n            </v-list-tile-title>\n          </v-list-tile>\n        </v-list>\n      </component>\n      <v-dialog v-model=\"dialog\" max-width=\"500\" lazy>\n        <v-card>\n          <v-card-title class=\"headline\" primary-title>\n            <span>프로필</span>\n            <v-spacer/>\n            <v-icon @click=\"dialog = false\">close</v-icon>\n          </v-card-title>\n          <v-card-text>\n            <v-flex xs12>\n              <div class=\"text-xs-center justify-center align-center\">\n                <p>\n                  <v-avatar size=\"200\">\n                    <img :src=\"profile.picturePath? webUrl+ profile.picturePath : require('@/static/img/defaultUser.png')\" alt=\"프로필 이미지\">\n                  </v-avatar>\n                </p>\n                <v-layout row wrap>\n                  <v-flex xs4>\n                    <v-subheader>라운지 필명</v-subheader>\n                  </v-flex>\n                  <v-flex xs8>\n                    <div class=\"v-subheader\">{{profile.nickName}}</div>\n                  </v-flex>\n                  <v-flex xs4>\n                    <v-subheader>회원 구분</v-subheader>\n                  </v-flex>\n                  <v-flex xs8>\n                    <div class=\"v-subheader\">{{userAuthItems[profile.auth]}}</div>\n                  </v-flex>\n                  <template v-if=\"profile.isOpenInfo\">\n                    <v-flex xs4>\n                      <v-subheader>지역</v-subheader>\n                    </v-flex>\n                    <v-flex xs8>\n                      <div class=\"v-subheader\">{{profile.region && groupItems.some(x=>x.value === profile.region) ? groupItems.find(x=>x.value === profile.region).text : '지역정보 없음'}}</div>\n                    </v-flex>\n                    <v-flex xs4>\n                      <v-subheader>전공</v-subheader>\n                    </v-flex>\n                    <v-flex xs8>\n                      <div class=\"v-subheader\">{{profile.major && groupItems.some(x=>x.value === profile.major) ? groupItems.find(x=>x.value === profile.major).text : '전공정보 없음'}}</div>\n                    </v-flex>\n                    <v-flex xs4>\n                      <v-subheader>학년</v-subheader>\n                    </v-flex>\n                    <v-flex xs8>\n                      <div class=\"v-subheader\">{{profile.grade && groupItems.some(x=>x.value === profile.grade) ? groupItems.find(x=>x.value === profile.grade).text : '학년정보 없음'}}</div>\n                    </v-flex>\n                  </template>\n                  <div v-else class=\"text-xs-center flex mt-3\">상세 프로필이 비공개로 설정되어 있습니다.</div>\n                </v-layout>\n              </div>\n\n            </v-flex>\n          </v-card-text>\n          <v-card-actions>\n            <v-layout row text-xs-center>\n              <v-spacer/>\n              <v-btn @click=\"sendMessage\">메시지 보내기</v-btn>\n              <v-btn color=\"primary\" @click=\"dialog = false\">닫기</v-btn>\n            </v-layout>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </template>\n    <span v-else class=\"grey--text lighten-1\">익명</span>\n  </span>\n</template>\n<script>\nimport BoardMixins from '@/components/mixins/BoardMixins';\nconst groupName = { M: '전공', G: '학년', N: '일반', R: '지역', Z: '인증' };\nexport default {\n  name: 'UserLink',\n  props: ['nickName', 'boardType'],\n  data () {\n    return {\n      userLinkMenu: false,\n      dialog: false,\n      profile: {},\n      groupItems: [],\n      userAuthItems: {\n        N: '예비교사(미인증)',\n        A: '현직교사(인증)',\n        E: '전직교사(인증 만료)',\n        D: '인증제한'\n      }\n    };\n  },\n  mixins: [BoardMixins],\n  methods: {\n    sendMessage () {\n      this.$axios.post('/message/list', { nickName: this.nickName, chatType: this.boardType === 'T' ? 'T' : 'L' })\n        .then(response => {\n          this.$router.push('/message?chatId=' + response.data.chatId);\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409 && error.response.data.chatId) {\n            this.$router.push('/message?chatId=' + error.response.data.chatId);\n          } else {\n            console.log(error);\n            this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '채팅을 만들지 못했습니다.'}`, color: 'error' });\n          }\n        })\n    },\n    showProfile () {\n      if (this.profile && this.profile.nickName === this.nickName) {\n        this.dialog = true;\n      } else {\n        this.$axios.get('/profile', { params: { nickName: this.nickName } })\n          .then(response => {\n            this.profile = response.data\n            this.dialog = true;\n          })\n          .catch(error => {\n            console.log(error);\n            this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '프로필을 불러오지 못했습니다.'}`, color: 'error' });\n          })\n      }\n    }\n  },\n  created () {\n    if (this.$store.getters.groups) {\n      this.groupItems = this.$store.getters.groups;\n    } else {\n      this.$axios\n        .get('/group', { headers: { silent: true } })\n        .then(response => {\n          response.data.forEach(x => {\n            if (x.groupType === 'N' || x.groupType === 'D' || x.groupType === 'E') {\n              x.groupType = 'Z';\n            }\n          });\n          this.groupItems = response.data.sort((a, b) => (a.groupType < b.groupType ? -1 : a.groupType === b.groupType ? 0 : 1));\n          let previous = null;\n          let i = 0;\n          while (i < this.groupItems.length) {\n            if (previous !== this.groupItems[i].groupType) {\n              if (previous) {\n                previous = this.groupItems[i].groupType;\n                this.groupItems.splice(i, 0, { divider: true });\n                i++;\n              } else {\n                previous = this.groupItems[i].groupType;\n              }\n              this.groupItems.splice(i, 0, { header: groupName[previous] });\n              i++;\n            }\n            i++;\n          }\n          this.groupItems = this.groupItems.map(x => (x.groupName ? { text: x.groupName, value: x.groupId } : x));\n          this.$store.dispatch('setGroups', this.groupItems);\n        })\n        .catch(error => {\n          this.$store.dispatch('showSnackbar', { text: `그룹 목록을 가져오지 못했습니다.${error && error.response && error.response.data ? '[' + error.response.data.message + ']' : ''}` });\n        });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLink.vue?vue&type=template&id=b24e0464&\"\nimport script from \"./UserLink.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLink.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[(_vm.best && _vm.best.length > 0)?_c('v-card',{staticClass:\"mb-3 elevation-1\",attrs:{\"flat\":\"\"}},[_c('v-list',{staticClass:\"commentList py-0\",attrs:{\"two-line\":\"\"}},[_vm._l((_vm.best),function(item,index){return [_c('v-list-tile',{key:'best'+index,staticClass:\"bestComment\"},[_c('comment-item',{attrs:{\"comment\":item,\"commentIndex\":index,\"reportTypes\":_vm.reportTypes,\"isBest\":true},on:{\"update\":_vm.getCommentList}})],1),_c('v-divider',{key:'bestDivider'+index})]})],2)],1):_vm._e(),_c('v-card',[_c('v-list',{staticClass:\"commentList py-0 pb-1\",attrs:{\"two-line\":\"\"}},[_vm._l((_vm.commentList),function(item,index){return [_c('v-list-tile',{key:index},[_c('comment-item',{attrs:{\"comment\":item,\"commentIndex\":index,\"reportTypes\":_vm.reportTypes,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"openRecomment\":_vm.openRecomment,\"update\":_vm.getCommentList}})],1),(item.children)?_c('div',{key:'child'+index},[(item.children.length > 5)?_c('v-list-group',{key:item.title,attrs:{\"prepend-icon\":item.action,\"lazy\":\"\"},model:{value:(item.active),callback:function ($$v) {_vm.$set(item, \"active\", $$v)},expression:\"item.active\"}},[_c('v-list-tile',{attrs:{\"slot\":\"activator\",\"avatar\":\"\"},slot:\"activator\"},[_c('v-list-tile-action'),_c('v-list-tile-title',{staticClass:\"text-xs-center\"},[_c('small',[_vm._v(_vm._s(item.active?'답글 숨기기':'이전 '+(item.children.length - 5)+'개의 답글 펼치기'))])])],1),_vm._l((item.children.filter(function (x, y) { return y < (item.children.length - 5); })),function(childItem,childIndex){return _c('div',{key:'hidden'+childIndex},[_c('v-divider',{attrs:{\"inset\":\"\"}}),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-action'),_c('comment-item',{attrs:{\"comment\":childItem,\"commentIndex\":childIndex,\"children\":true,\"reportTypes\":_vm.reportTypes,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"update\":_vm.getCommentList}})],1)],1)})],2):_vm._e(),(item.children.length > 5)?void 0:_vm._e(),_vm._l(((item.children.length > 5 ? item.children.filter(function (x, y) { return y >= (item.children.length - 5); }) : item.children)),function(childItem,childIndex){return _c('div',{key:childIndex},[_c('v-divider',{attrs:{\"inset\":\"\"}}),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-action'),_c('comment-item',{attrs:{\"comment\":childItem,\"commentIndex\":childIndex,\"children\":true,\"reportTypes\":_vm.reportTypes,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"update\":_vm.getCommentList}})],1)],1)})],2):_vm._e(),(_vm.openRecommentIndex === index && _vm.isCommentWritable !== 'DELETED')?_c('v-list-tile',{key:'writer'+index,staticClass:\"pl-5\"},[_c('CommentWriter',{attrs:{\"commentTo\":item.commentId,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable,\"boardId\":_vm.boardId},on:{\"update\":_vm.getCommentList}})],1):_vm._e(),_c('v-divider',{key:'divider'+index})]})],2),(_vm.pages > 1)?_c('v-flex',{attrs:{\"text-xs-center\":\"\",\"mt-2\":\"\",\"xs12\":\"\"}},[_c('v-pagination',{attrs:{\"id\":\"commentPagination\",\"length\":_vm.pages,\"total-visible\":_vm.$vuetify.breakpoint.smAndUp?10:undefined},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1):_vm._e(),(_vm.isCommentWritable !== 'DELETED')?_c('div',{staticClass:\"pt-2\"},[_c('comment-writer',{attrs:{\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"update\":_vm.getCommentList}})],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list-tile-content',{staticClass:\"py-1 px-0\"},[_c('v-list-tile-title',[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[(_vm.isBest)?_c('v-chip',{staticClass:\"white--text ml-0 my-0 ml-3\",attrs:{\"label\":\"\",\"small\":\"\",\"color\":\"primary\"}},[_vm._v(\"베스트\")]):_vm._e()],1),(!_vm.updatingComment)?_c('v-flex',[_c('div',{class:{'commentContents ql-editor pa-0 px-3':true, 'body-1':_vm.comment.isDeleted,'grey--text':_vm.comment.isDeleted, 'lighten-1':_vm.comment.isDeleted},domProps:{\"innerHTML\":_vm._s(_vm.comment.isDeleted?_vm.comment.contents:_vm.deltaToHTML(JSON.parse(_vm.comment.contents)))}})]):_vm._e()],1)],1),(!_vm.comment.isDeleted)?_c('v-list-tile-sub-title',{staticClass:\"px-3\"},[(!_vm.updatingComment)?_c('v-layout',{staticClass:\"body-1\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"text-xs-left\":\"\"}},[_c('user-link',{attrs:{\"nickName\":_vm.comment.nickName,\"boardType\":_vm.$store.getters.boardType}}),_c('small',{staticClass:\"accent--text\"},[_vm._v(\"(\"+_vm._s(_vm.comment.animalName)+\")\")]),_c('small',{staticClass:\"ml-1\"},[_vm._v(_vm._s(_vm.$moment(_vm.comment.writeDateTime, 'YYYYMMDDHHmmss').isSame(_vm.$moment(), 'day')?_vm.$moment(_vm.comment.writeDateTime, 'YYYYMMDDHHmmss').format('HH:mm'):_vm.timeParser(_vm.comment.writeDateTime)))]),(!_vm.children && !_vm.isBest && _vm.isCommentWritable !== 'DELETED')?_c('b',{staticClass:\"cursor-pointer\",attrs:{\"title\":\"답글 쓰기\"},on:{\"click\":function($event){return _vm.$emit('openRecomment', _vm.commentIndex)}}},[_vm._v(\"\\n          답글\"+_vm._s(_vm.comment.childCount > 0? (\"(\" + (_vm.comment.childCount) + \")\"):\"\")+\"\\n        \")]):_vm._e()],1),_c('v-spacer'),_c('v-flex',{attrs:{\"text-xs-right\":\"\",\"px-2\":\"\"}},[(_vm.isBest)?_c('span',{staticClass:\"cursor-pointer\",attrs:{\"title\":\"추천\"},on:{\"click\":_vm.voteUp}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"small\":\"\"}},[_vm._v(\"thumb_up\")]),_c('b',{staticClass:\"mx-1 body--text\"},[_vm._v(_vm._s(_vm.comment.voteUpCount))])],1):[_c('span',{staticClass:\"cursor-pointer\",attrs:{\"title\":\"추천\"},on:{\"click\":_vm.voteUp}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"small\":\"\"}},[_vm._v(\"thumb_up\")]),_c('b',{staticClass:\"mx-1 body--text\"},[_vm._v(_vm._s(_vm.comment.voteUpCount))]),_vm._v(\" |\\n          \")],1),(_vm.comment.isWriter)?[_c('span',{staticClass:\"cursor-pointer\",on:{\"click\":_vm.updateComment}},[_vm._v(\"수정\")]),_vm._v(\" |\\n            \"),_c('span',{staticClass:\"cursor-pointer\",on:{\"click\":_vm.deleteComment}},[_vm._v(\"삭제\")])]:_c('v-menu',{attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"offset-y\":\"\",\"lazy\":\"\"}},[_c('span',{staticClass:\"cursor-pointer\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"신고\")]),_c('v-list',{attrs:{\"two-line\":\"\"}},_vm._l((_vm.reportTypes),function(item,index){return _c('v-list-tile',{key:item.reportTypeId,class:{'mt-2':index>0},on:{\"click\":function($event){return _vm.reportComment(item)}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(item.reportTypeName))]),_c('v-list-tile-sub-title',[_vm._v(_vm._s(item.reportTypeDescription))])],1)],1)}),1)],1)]],2)],1):(_vm.isCommentWritable !== 'DELETED')?_c('v-layout',[_c('comment-writer',{attrs:{\"defaultComment\":_vm.comment,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"revokeUpdate\":function($event){_vm.updatingComment=false},\"update\":function($event){_vm.updatingComment=false; _vm.$emit('update')}}})],1):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list-tile-content class=\"py-1 px-0\">\n    <v-list-tile-title>\n      <v-layout column>\n        <v-flex>\n          <v-chip label small color=\"primary\" class=\"white--text ml-0 my-0 ml-3\" v-if=\"isBest\">베스트</v-chip>\n        </v-flex>\n        <v-flex v-if=\"!updatingComment\">\n          <div v-html=\"comment.isDeleted?comment.contents:deltaToHTML(JSON.parse(comment.contents))\" :class=\"{'commentContents ql-editor pa-0 px-3':true, 'body-1':comment.isDeleted,'grey--text':comment.isDeleted, 'lighten-1':comment.isDeleted}\"></div>\n        </v-flex>\n      </v-layout>\n    </v-list-tile-title>\n    <v-list-tile-sub-title v-if=\"!comment.isDeleted\" class=\"px-3\">\n      <v-layout v-if=\"!updatingComment\" row class=\"body-1\" wrap>\n        <!--prettyhtml-ignore-->\n        <v-flex text-xs-left>\n          <user-link :nickName=\"comment.nickName\" :boardType=\"$store.getters.boardType\"/>\n          <small class=\"accent--text\">({{comment.animalName}})</small><small class=\"ml-1\">{{$moment(comment.writeDateTime, 'YYYYMMDDHHmmss').isSame($moment(), 'day')?$moment(comment.writeDateTime, 'YYYYMMDDHHmmss').format('HH:mm'):timeParser(comment.writeDateTime)}}</small>\n          <b v-if=\"!children && !isBest && isCommentWritable !== 'DELETED'\" class=\"cursor-pointer\" @click=\"$emit('openRecomment', commentIndex)\" title=\"답글 쓰기\">\n            답글{{comment.childCount > 0? `(${comment.childCount})`:\"\"}}\n          </b>\n        </v-flex>\n        <v-spacer/>\n        <v-flex text-xs-right px-2>\n          <span @click=\"voteUp\" class=\"cursor-pointer\" title=\"추천\" v-if=\"isBest\">\n            <v-icon color=\"primary\" small>thumb_up</v-icon>\n            <b class=\"mx-1 body--text\">{{comment.voteUpCount}}</b>\n          </span>\n          <template v-else>\n            <span @click=\"voteUp\" class=\"cursor-pointer\" title=\"추천\">\n              <v-icon color=\"primary\" small>thumb_up</v-icon>\n              <b class=\"mx-1 body--text\">{{comment.voteUpCount}}</b> |\n            </span>\n            <template v-if=\"comment.isWriter\">\n              <span class=\"cursor-pointer\" @click=\"updateComment\">수정</span> |\n              <span class=\"cursor-pointer\" @click=\"deleteComment\">삭제</span>\n            </template>\n            <v-menu open-on-hover bottom offset-y lazy v-else>\n              <span class=\"cursor-pointer\" slot=\"activator\">신고</span>\n              <v-list two-line>\n                <v-list-tile v-for=\"(item, index) in reportTypes\" :key=\"item.reportTypeId\" @click=\"reportComment(item)\" :class=\"{'mt-2':index>0}\">\n                  <v-list-tile-content>\n                    <v-list-tile-title>{{ item.reportTypeName }}</v-list-tile-title>\n                    <v-list-tile-sub-title>{{item.reportTypeDescription}}</v-list-tile-sub-title>\n                  </v-list-tile-content>\n                </v-list-tile>\n              </v-list>\n            </v-menu>\n          </template>\n        </v-flex>\n      </v-layout>\n      <v-layout v-else-if=\"isCommentWritable !== 'DELETED'\">\n        <comment-writer :defaultComment=\"comment\" @revokeUpdate=\"updatingComment=false\" @update=\"updatingComment=false; $emit('update')\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n      </v-layout>\n    </v-list-tile-sub-title>\n  </v-list-tile-content>\n</template>\n\n<script>\nimport BoardMixins from '@/components/mixins/BoardMixins';\nimport UserLink from '@/components/UserLink';\nimport CommentWriter from './CommentWriter';\nimport Quill from 'quill';\n\nexport default {\n  props: ['comment', 'commentIndex', 'children', 'reportTypes', 'isBest', 'isAnonymous', 'allowAnonymous', 'isCommentWritable'],\n  mixins: [BoardMixins],\n  components: {\n    UserLink, CommentWriter\n  },\n  data () {\n    return {\n      updatingComment: false\n    }\n  },\n  methods: {\n    voteUp () {\n      this.$axios\n        .post('/vote/comment', { commentId: this.comment.commentId }, { headers: { silent: true } })\n        .then(response => {\n          this.comment.voteUpCount = response.data.voteUpCount;\n        })\n        .catch(error => {\n          this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '추천하지 못했습니다.'}`, color: 'error' });\n        });\n    },\n    deleteComment () {\n      this.$axios\n        .put('/comment', { commentId: this.comment.commentId, isDeleted: true })\n        .then(response => {\n          this.comment.contents = '삭제된 댓글입니다.'\n          this.comment.isDeleted = true;\n          this.$store.dispatch('showSnackbar', { text: '댓글을 삭제하였습니다.', color: 'success' });\n        })\n        .catch(error => {\n          console.log(error);\n          this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '댓글을 삭제하지 못했습니다.'}`, color: 'error' });\n        });\n    },\n    updateComment () {\n      this.updatingComment = true\n    },\n    reportComment (item) {\n      this.$axios\n        .post('/report/comment', { commentId: this.comment.commentId, reportTypeId: item.reportTypeId })\n        .then(response => {\n          this.$store.dispatch('showSnackbar', { text: '댓글을 신고하였습니다.', color: 'success' });\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409) {\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '댓글을 신고하지 못했습니다.' : '댓글을 신고하지 못했습니다.', color: 'info' });\n          } else {\n            console.log(error);\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '댓글을 신고하지 못했습니다.' : '댓글을 신고하지 못했습니다.', color: 'error' });\n          }\n        });\n    },\n    deltaToHTML (delta) {\n      var tempCont = document.createElement('div');\n      let quill = new Quill(tempCont);\n      delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty('image')) {\n          if (this.comment.attach.some(x => x.attach_name === item.insert.image)) {\n            item.attributes = {\n              download: item.insert.image,\n              alt: item.insert.image\n            };\n            item.insert.image = this.webUrl + this.comment.attach.find(x => x.attach_name === item.insert.image).attach_path;\n            item.attributes.link = item.insert.image;\n          }\n        }\n      });\n      quill.setContents(delta);\n      // Clean spaces between tags\n      let newText = tempCont.getElementsByClassName('ql-editor')[0].innerHTML.replace(/(<(pre|script|style|textarea)[^]+?<\\/\\2)|(^|>)\\s+|\\s+(?=<|$)/g, '$1$3')\n\n      // Clean empty paragraphs before the content\n      // <p><br/><p> && <p></p>\n      let slicer;\n      while (newText.slice(0, 7) === '<p></p>' || newText.slice(0, 11) === '<p><br></p>') {\n        if (newText.slice(0, 7) === '<p></p>') slicer = 7\n        else slicer = 11\n        newText = newText.substring(slicer, newText.length)\n      }\n\n      // Clean empty paragraphs after the content\n      while (newText.slice(-7) === '<p></p>' || newText.slice(-11) === '<p><br></p>') {\n        if (newText.slice(-7) === '<p></p>') slicer = 7\n        else slicer = 11\n        newText = newText.substring(0, newText.length - slicer)\n      }\n      // Return the clean Text\n      return newText\n    },\n    getImagePath (imagePath) {\n      console.log(this.comment);\n      let attach = this.comment.attach;\n      return this.webUrl + attach.find(item => item.attachName === imagePath).attachPath;\n    }\n  }\n};\n</script>\n<style>\n.commentContents p {\n  margin-bottom: 3px;\n  word-break:break-all;\n}\n.commentContents p img {\n  max-width: 100%;\n}\n.commentContents .video-container{\n  position:relative;\n  height:0;\n  width:100%;\n  padding-bottom:56%;\n}\n.commentContents .video-container iframe{\n  position:absolute;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n}\n@media (max-width: 600px) {\n  .commentContents p img {\n    max-width: calc(100% + 32px);\n    margin-left: -16px;\n    margin-right: -16px;\n  }\n  .commentContents .video-container{\n    position:relative;\n    height:0;\n    width:calc(100% + 32px);\n    margin-left:-16px;\n    margin-right:-16px;\n    padding-bottom:56%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=52d16680&\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-layout row>\n    <v-flex xs12>\n      <v-card class=\"mb-3 elevation-1\" flat v-if=\"best && best.length > 0\">\n        <v-list two-line class=\"commentList py-0\">\n          <template v-for=\"(item, index) in best\">\n            <v-list-tile :key=\"'best'+index\" class=\"bestComment\">\n              <comment-item :comment=\"item\" :commentIndex=\"index\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isBest=\"true\"/>\n            </v-list-tile>\n            <v-divider :key=\"'bestDivider'+index\"></v-divider>\n          </template>\n        </v-list>\n      </v-card>\n      <v-card>\n        <v-list two-line class=\"commentList py-0 pb-1\">\n          <template v-for=\"(item, index) in commentList\">\n            <v-list-tile :key=\"index\">\n              <comment-item :comment=\"item\" :commentIndex=\"index\" @openRecomment=\"openRecomment\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n            </v-list-tile>\n            <div :key=\"'child'+index\" v-if=\"item.children\">\n              <v-list-group v-model=\"item.active\" :key=\"item.title\" :prepend-icon=\"item.action\" v-if=\"item.children.length > 5\" lazy>\n                <v-list-tile slot=\"activator\" avatar>\n                  <v-list-tile-action></v-list-tile-action>\n                  <v-list-tile-title class=\"text-xs-center\">\n                    <small>{{item.active?'답글 숨기기':'이전 '+(item.children.length - 5)+'개의 답글 펼치기'}}</small>\n                  </v-list-tile-title>\n                </v-list-tile>\n                <div v-for=\"(childItem, childIndex) in item.children.filter((x, y) => y < (item.children.length - 5))\" :key=\"'hidden'+childIndex\">\n                  <v-divider inset/>\n                  <v-list-tile avatar>\n                    <v-list-tile-action></v-list-tile-action>\n                    <comment-item :comment=\"childItem\" :commentIndex=\"childIndex\" :children=\"true\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n                  </v-list-tile>\n                </div>\n              </v-list-group>\n              <template v-if=\"item.children.length > 5\"></template>\n              <div v-for=\"(childItem, childIndex) in (item.children.length > 5 ? item.children.filter((x, y) => y >= (item.children.length - 5)) : item.children)\" :key=\"childIndex\">\n                <v-divider inset/>\n                <v-list-tile avatar>\n                  <v-list-tile-action></v-list-tile-action>\n                  <comment-item :comment=\"childItem\" :commentIndex=\"childIndex\" :children=\"true\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n                </v-list-tile>\n              </div>\n            </div>\n            <v-list-tile :key=\"'writer'+index\" v-if=\"openRecommentIndex === index && isCommentWritable !== 'DELETED'\" class=\"pl-5\">\n              <CommentWriter :commentTo=\"item.commentId\" @update=\"getCommentList\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\" :boardId=\"boardId\"/>\n            </v-list-tile>\n            <v-divider :key=\"'divider'+index\"></v-divider>\n          </template>\n        </v-list>\n        <v-flex text-xs-center mt-2 xs12 v-if=\"pages > 1\">\n          <v-pagination id=\"commentPagination\" v-model=\"page\" :length=\"pages\" :total-visible=\"$vuetify.breakpoint.smAndUp?10:undefined\"></v-pagination>\n        </v-flex>\n        <div class=\"pt-2\" v-if=\"isCommentWritable !== 'DELETED'\">\n          <comment-writer @update=\"getCommentList\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n        </div>\n      </v-card>\n    </v-flex>\n  </v-layout>\n</template>\n<script>\nimport BoardMixins from '@/components/mixins/BoardMixins';\nimport CommentItem from './CommentItem';\nimport CommentWriter from './CommentWriter';\n\nexport default {\n  mixins: [BoardMixins],\n  components: {\n    CommentItem,\n    CommentWriter\n  },\n  props: ['isAnonymous', 'allowAnonymous', 'isCommentWritable', 'reportTypes', 'boardId', 'best', 'pages'],\n  data () {\n    return {\n      commentList: [],\n      openRecommentIndex: -1,\n      page: undefined,\n      documentId: this.$route.params.documentId\n    };\n  },\n  methods: {\n    getCommentList () {\n      this.openRecommentIndex = -1;\n      this.$axios\n        .get('/comment', { params: { documentId: this.$route.params.documentId, page: this.page }, headers: { silent: true } })\n        .then(res => {\n          res.data.forEach(x => {\n            if (Array.isArray(x.attach)) {\n              x.attach = x.attach.filter(x => x);\n            }\n          });\n          this.commentList = res.data;\n        })\n        .catch(err => console.log(err));\n    },\n    openRecomment (commentIndex) {\n      if (this.openRecommentIndex === commentIndex) this.openRecommentIndex = -1;\n      else this.openRecommentIndex = commentIndex;\n    }\n  },\n  watch: {\n    '$route.params': {\n      handler () {\n        if (!this.page || this.documentId !== this.$route.params.documentId) {\n          this.$nextTick(() => {\n            this.documentId = this.$route.params.documentId;\n            this.page = this.pages;\n          });\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    page (val) {\n      this.getCommentList();\n    },\n    documentId (val) {\n      this.getCommentList();\n    },\n    pages (val) {\n      this.page = this.pages;\n    }\n  }\n};\n</script>\n<style>\n.commentList .v-list__tile__title {\n  white-space: unset;\n  overflow: visible;\n  height:auto;\n}\n.commentList.v-list--two-line .v-list__tile {\n  height: auto;\n  padding: 8px 0;\n}\n.commentList .v-list__tile__content {\n  height: auto;\n  padding: 0 16px;\n}\n.commentList .bestComment {\n  background-color: #b3e5fc;\n}\n#commentPagination .v-pagination__item,\n#commentPagination .v-pagination__item--active,\n#commentPagination .v-pagination__navigation {\n  box-shadow: none;\n  margin: 0;\n  padding: 0;\n}\n#commentPagination .v-pagination__item--active {\n  color: black;\n  font-weight: bold;\n  background-color: white !important;\n  border-color: white !important;\n}\n.commentList.v-list .v-list__group--active:before,\n.commentList.v-list .v-list__group--active:after {\n  display: none;\n}\n@media (max-width: 599px) {\n  .commentList.theme--light.v-list .v-list__group__header:hover {\n    background-color: #fff;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewComments.vue?vue&type=template&id=160962ce&\"\nimport script from \"./ViewComments.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewComments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewComments.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-layout column v-if=\"document\">\n    <v-flex>\n      <v-card-title primary-title>\n        <div class=\"w-100\">\n          <router-link :to=\"'/'+document.boardId+'/'+documentId\" class=\"title mb-0 multi-row\">{{document.title}}</router-link>\n          <v-layout row mt-1>\n            <v-spacer/>\n            <v-flex text-xs-right>\n              <user-link :nickName=\"document.nickName\" :boardType=\"board.boardType\"/>\n              | 댓글 {{document.commentCount}} | 조회 {{document.viewCount}} | {{$moment(document.writeDateTime, \"YYYYMMDDHHmmss\").format(\"Y.MM.DD HH:mm:ss\")}}\n            </v-flex>\n          </v-layout>\n        </div>\n      </v-card-title>\n    </v-flex>\n    <v-divider/>\n    <v-flex xs12>\n      <v-card-text class=\"px-0\">\n        <div v-html=\"documentHTML\" id=\"documentContents\" class=\"ql-editor py-0 px-3\"></div>\n      </v-card-text>\n    </v-flex>\n    <v-layout row justify-center v-if=\"document.hasSurvey && document.survey\">\n      <v-flex xs12 sm10 md8 mx-3>\n        <survey :currentSurvey=\"document.survey\"/>\n      </v-flex>\n    </v-layout>\n    <v-flex text-xs-center my-2>\n      <v-btn @click=\"voteDocument\" class=\"font-weight-bold short\">\n        <v-icon color=\"primary\" small>thumb_up</v-icon>&nbsp;\n        <span>{{document.voteUpCount}}</span>\n      </v-btn>\n    </v-flex>\n    <v-divider/>\n    <v-flex class=\"my-2\">\n      <v-layout row>\n        <v-flex v-if=\"board.isOwner\">\n          <v-btn v-if=\"board.notices.indexOf(documentId)>=0\" @click=\"setNotice(false)\" class=\"ma-0 px-2 short\">공지해제</v-btn>\n          <v-btn v-else @click=\"setNotice(true)\" class=\"ma-0 px-2 short\">공지지정</v-btn>\n        </v-flex>\n        <v-spacer/>\n        <v-flex pr-2 text-xs-right>\n          <v-btn-toggle id=\"bottomBottons\">\n            <template v-if=\"document.attach && document.attach.some(x=>!x.insert)\">\n              <v-btn @click=\"showAttach=!showAttach\" title=\"첨부파일 보기\" :class=\"{'primary--text':showAttach}\">첨부파일({{document.attach.filter(x=>!x.insert).length}})</v-btn>\n            </template>\n            <v-btn class=\"short\" v-show=\"document.isWriter\" :to=\"`/${$route.params.boardId}/${document.documentId}/edit`\">\n              <span>수정</span>\n            </v-btn>\n            <v-btn class=\"short\" v-show=\"document.isWriter\" @click=\"deleteDocument\">삭제</v-btn>\n            <component :is=\"$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu'\" v-model=\"scrapMenu\" open-on-hover bottom lazy offset-y>\n              <v-btn slot=\"activator\" class=\"short\">스크랩</v-btn>\n              <v-list dense>\n                <div class=\"v-list__tile font-weight-bold\" @click.stop>스크랩 그룹 선택</div>\n                <v-list-tile v-for=\"item in scrapGroups\" :key=\"item.scrapGroupId\" @click=\"scrapDocument(item)\">\n                  <v-list-tile-title>{{ item.scrapGroupName }}</v-list-tile-title>\n                </v-list-tile>\n              </v-list>\n            </component>\n            <component :is=\"$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu'\" v-model=\"reportMenu\" open-on-hover bottom lazy offset-y>\n              <v-btn slot=\"activator\" class=\"short\" v-show=\"!document.isWriter\">신고</v-btn>\n              <v-list two-line>\n                <div class=\"font-weight-bold mx-3 my-2\" @click.stop>신고사유 선택</div>\n                <v-list-tile v-for=\"item in reportTypes\" :key=\"item.reportTypeId\" @click=\"reportDocument(item)\">\n                  <v-list-tile-content>\n                    <v-list-tile-title>{{ item.reportTypeName }}</v-list-tile-title>\n                    <v-list-tile-sub-title>{{item.reportTypeDescription}}</v-list-tile-sub-title>\n                  </v-list-tile-content>\n                </v-list-tile>\n              </v-list>\n            </component>\n          </v-btn-toggle>\n        </v-flex>\n      </v-layout>\n      <v-slide-y-transition>\n        <v-layout column>\n          <v-layout row v-show=\"showAttach\" mt-2 wrap>\n            <v-flex px-2 xs6 md4 xl2 :key=\"index\" v-for=\"(item, index) in document.attach.filter(x=>!x.insert)\">\n              <router-link :to=\"webUrl + '/' + item.attach_path\" target=\"_blank\" :download=\"item.attach_name\" class=\"ellipsis underline\">{{item.attach_name}}</router-link>\n            </v-flex>\n          </v-layout>\n          <v-divider v-show=\"showAttach\" class=\"mb-2\"/>\n        </v-layout>\n      </v-slide-y-transition>\n    </v-flex>\n    <v-flex mb-4>\n      <ViewComments :isAnonymous=\"document.isWriter && document.nickName === ''\" :allowAnonymous=\"document.allowAnonymous\" :isCommentWritable=\"isCommentWritable\" :reportTypes=\"reportTypes\" :boardId=\"document.boardId\" :best=\"document.bestComments\" :pages=\"pages\"/>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\n// import LinkPrevue from '@/components/LinkPrevue'\nimport Survey from '@/components/board/survey/Survey';\nimport CommentWriter from '@/components/board/CommentWriter';\nimport UserLink from '@/components/UserLink';\nimport ViewComments from '@/components/board/ViewComments';\nimport BoardMixins from '@/components/mixins/BoardMixins';\nimport Quill from 'quill';\n\nexport default {\n  props: ['board', 'boardId', 'documentId'],\n  data () {\n    return {\n      document: null,\n      documentHTML: null,\n      showAttach: false,\n      scrapGroups: null,\n      reportTypes: null,\n      scrapMenu: false,\n      reportMenu: false\n    };\n  },\n  components: {\n    Survey,\n    CommentWriter,\n    ViewComments,\n    UserLink\n  },\n  mixins: [BoardMixins],\n  created () {\n    this.getScrapGroups();\n    this.getReportTypes();\n  },\n  computed: {\n    isCommentWritable () {\n      let board = this.board.boardId === this.document.boardId ? this.board : this.$store.getters.boards.find(x => x.boardId === this.document.boardId);\n      if (!board) {\n        return 'UNAVAILABLE';\n      } else if (this.document.isDeleted) {\n        return 'DELETED';\n      }\n\n      const profile = this.$store.getters.profile;\n      const userBoards = this.$store.getters.userBoards;\n      if (board.statusAuth.comment.includes(profile.auth)) {\n        if (board.boardType === 'T') {\n          if (userBoards.some(x => x.boardId === board.boardId)) {\n            const userBoard = userBoards.find(x => x.boardId === board.boardId);\n            if (!userBoard.writeRestrictDate || this.$moment(userBoard.writeRestrictDate, 'YYYYMMDD').isBefore(this.$moment())) {\n              return 'AVAILABLE';\n            } else {\n              return 'RESTRICTED';\n            }\n          } else {\n            // need subscription\n            if (board.allGroupAuth === 'READWRITE' || board.allowedGroups.some(x => x === profile.region || x === profile.major || x === profile.grade || profile.groups.includes(x))) {\n              // i can subscribe this board!\n              return 'NEEDSUBSCRIPTION';\n            } else {\n              return 'UNAVAILABLE';\n            }\n          }\n        } else {\n          if (board.allowedGroups.some(x => x === profile.region || x === profile.major || x === profile.grade || profile.groups.includes(x))) {\n            if (userBoards.some(x => x.boardId === board.boardId)) {\n              const userBoard = userBoards.find(x => x.boardId === board.boardId);\n              if (!userBoard.writeRestrictDate || this.$moment(userBoard.writeRestrictDate, 'YYYYMMDD').isBefore(this.$moment())) {\n                return 'AVAILABLE';\n              } else {\n                return 'RESTRICTED';\n              }\n            } else {\n              return 'AVAILABLE';\n            }\n          } else {\n            return 'UNAVAILABLE';\n          }\n        }\n      } else {\n        return 'UNAVAILABLE';\n      }\n    },\n    pages () {\n      return this.document.commentCount === 0 ? 1 : Math.ceil(this.document.commentCount / (process.env.NODE_ENV === 'development' ? 10 : 100));\n    }\n  },\n  methods: {\n    getDocument: function () {\n      this.$axios\n        .get(`/${this.boardId}/${this.documentId}`)\n        .then(response => {\n          if (response.data.isDeleted) {\n            this.$router.replace('/' + this.boardId);\n            this.$store.dispatch('showSnackbar', { text: '삭제된 글입니다.', color: 'warning' });\n            return;\n          }\n          if (Array.isArray(response.data.attach)) {\n            response.data.attach = response.data.attach.filter(x => x !== null);\n          }\n          this.document = response.data;\n          this.documentHTML = this.document.isDeleted ? this.document.contents : this.deltaToHTML(JSON.parse(this.document.contents));\n          this.showAttach = false;\n          this.$emit('update:documentBoardId', this.document.boardId);\n        })\n        .catch(error => {\n          console.log(error);\n          this.$router.replace('/error?error=' + (error && error.response ? error.response.status || '404' : '404'));\n        });\n    },\n    deleteDocument () {\n      if (confirm('이 글을 삭제하시겠습니까?')) {\n        this.$axios\n          .put('/document', { documentId: this.documentId, isDeleted: true })\n          .then(response => {\n            this.$store.dispatch('showSnackbar', { text: '글을 삭제하였습니다.', color: 'success' });\n            this.$router.push(`/${this.boardId}`);\n          })\n          .catch(error => {\n            this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '글을 삭제하지 못했습니다.'}`, color: 'error' });\n          });\n      }\n    },\n    voteDocument () {\n      this.$axios\n        .post('/vote/document', { documentId: this.document.documentId }, { headers: { silent: true } })\n        .then(res => {\n          this.document.voteUpCount = res.data.voteUpCount;\n        })\n        .catch(error => {\n          console.log(error.response);\n          this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '추천하지 못했습니다.'}`, color: 'error' });\n        });\n    },\n    deltaToHTML (delta) {\n      let tempCont = document.createElement('div');\n      let quill = new Quill(tempCont);\n      let image;\n      delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty('image')) {\n          image = this.document.attach.find(x => x.attach_name === item.insert.image);\n          if (image) {\n            image.insert = true;\n            item.attributes = {\n              download: item.insert.image,\n              alt: item.insert.image\n            };\n            item.insert.image = this.webUrl + image.attach_path;\n            /* item.insert.image = {\n              src: this.webUrl + \"/\" + image.attach_path,\n              download: item.insert.image,\n              alt: item.insert.image\n            } */\n            item.attributes.link = item.insert.image;\n          }\n        }\n      });\n      quill.setContents(delta);\n      // Clean spaces between tags\n      let newText = tempCont.getElementsByClassName('ql-editor')[0].innerHTML.replace(/(<(pre|script|style|textarea)[^]+?<\\/\\2)|(^|>)\\s+|\\s+(?=<|$)/g, '$1$3');\n\n      // Clean empty paragraphs before the content\n      // <p><br/><p> && <p></p>\n      let slicer;\n      while (newText.slice(0, 7) === '<p></p>' || newText.slice(0, 11) === '<p><br></p>') {\n        if (newText.slice(0, 7) === '<p></p>') slicer = 7;\n        else slicer = 11;\n        newText = newText.substring(slicer, newText.length);\n      }\n\n      // Clean empty paragraphs after the content\n      while (newText.slice(-7) === '<p></p>' || newText.slice(-11) === '<p><br></p>') {\n        if (newText.slice(-7) === '<p></p>') slicer = 7;\n        else slicer = 11;\n        newText = newText.substring(0, newText.length - slicer);\n      }\n      // Return the clean Text\n      return newText;\n    },\n    reportDocument (item) {\n      this.$axios\n        .post('/report/document', { documentId: this.document.documentId, reportTypeId: item.reportTypeId })\n        .then(response => {\n          this.reportMenu = false;\n          this.$store.dispatch('showSnackbar', { text: '이 글을 신고하였습니다.', color: 'success' });\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409) {\n            this.reportMenu = false;\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '글을 신고하지 못했습니다.' : '글을 신고하지 못했습니다.', color: 'info' });\n          } else {\n            console.log(error);\n            this.reportMenu = false;\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '글을 신고하지 못했습니다.' : '글을 신고하지 못했습니다.', color: 'error' });\n          }\n        });\n    },\n    scrapDocument (item) {\n      this.$axios\n        .post('/scrap', { scrapGroupId: item.scrapGroupId, documentId: this.document.documentId })\n        .then(response => {\n          this.scrapMenu = false;\n          this.$store.dispatch('showSnackbar', { text: '이 글을 스크랩하였습니다.', color: 'success' });\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409) {\n            this.scrapMenu = false;\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '스크랩에 추가하지 못했습니다.' : '스크랩에 추가하지 못했습니다.', color: 'info' });\n          } else {\n            console.log(error);\n            this.scrapMenu = false;\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '스크랩에 추가하지 못했습니다.' : '스크랩에 추가하지 못했습니다.', color: 'error' });\n          }\n        });\n    },\n    getScrapGroups () {\n      if (!this.scrapGroups) {\n        if (this.$store.getters.scrapGroups) {\n          this.scrapGroups = this.$store.getters.scrapGroups;\n        } else {\n          this.$axios\n            .get('/scrap/group', { headers: { silent: true } })\n            .then(response => {\n              this.$store.dispatch('setScrapGroups', response.data);\n              this.scrapGroups = response.data;\n            })\n            .catch(error => {\n              console.log(error);\n              this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '스크랩 그룹 목록을 가져오지 못했습니다.' : '스크랩 그룹 목록을 가져오지 못했습니다.', color: 'error' });\n            });\n        }\n      }\n    },\n    getReportTypes () {\n      if (!this.reportTypes) {\n        if (this.$store.getters.reportTypes) {\n          this.reportTypes = this.$store.getters.reportTypes;\n        } else {\n          this.$axios\n            .get('/report/type', { headers: { silent: true } })\n            .then(response => {\n              this.$store.dispatch('setReportTypes', response.data);\n              this.reportTypes = response.data;\n            })\n            .catch(error => {\n              console.log(error);\n              this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '신고 타입을 가져오지 못했습니다.' : '신고 타입을 가져오지 못했습니다.', color: 'error' });\n            });\n        }\n      }\n    },\n    setNotice (isAdd) {\n      this.$axios\n        .put('/board/notice', { boardId: this.document.boardId, documentId: this.document.documentId, isAdd: isAdd })\n        .then(response => {\n          this.$store.dispatch('showSnackbar', { text: isAdd ? '이 글을 공지로 지정했습니다.' : '이 글을 공지에서 해제했습니다.', color: 'success' });\n          if (isAdd) {\n            this.$store.getters.boards.find(x => x.boardId === this.document.boardId).notices.push({ documentId: this.document.documentId, isNotice: true, boardId: this.document.boardId, title: this.document.title });\n          } else {\n            const notices = this.$store.getters.boards.find(x => x.boardId === this.document.boardId).notices;\n            notices.splice(notices.findIndex(x => x.documentId === this.document.documentId), 1);\n          }\n        })\n        .catch(error => {\n          console.log(error);\n          this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '글을 공지로 지정하지 못했습니다.' : '글을 공지로 지정하지 못했습니다.', color: 'error' });\n        });\n    }\n  },\n  watch: {\n    '$route.params': {\n      handler () {\n        this.getDocument();\n      },\n      deep: true,\n      immediate: true\n    }\n  }\n};\n</script>\n<style>\n#bottomBottons .v-btn {\n  opacity: 1;\n  font-weight: bold;\n}\n#documentContents p img,\n#documentContents img {\n  max-width: 100%;\n}\n#documentContents .video-container {\n  position: relative;\n  height: 0;\n  width: 100%;\n  padding-bottom: 56%;\n}\n#documentContents .video-container iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n@media (max-width: 600px) {\n  #documentContents p img,\n  #documentContents img {\n    max-width: calc(100% + 32px);\n    margin-left: -16px;\n    margin-right: -16px;\n  }\n  #documentContents .video-container {\n    position: relative;\n    height: 0;\n    width: calc(100% + 32px);\n    margin-left: -16px;\n    margin-right: -16px;\n    padding-bottom: 56%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewDocument.vue?vue&type=template&id=0c920542&\"\nimport script from \"./ViewDocument.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewDocument.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewDocument.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}