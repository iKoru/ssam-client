{"version":3,"sources":["webpack:///./src/components/board/survey/Survey.vue?ab10","webpack:///./src/components/board/CommentItem.vue?1409","webpack:///./src/components/mixins/BoardMixins.js","webpack:///./src/static/img/defaultUser.png","webpack:///./src/components/board/survey/Survey.vue?25ee","webpack:///src/components/board/survey/Survey.vue","webpack:///./src/components/board/survey/Survey.vue?559f","webpack:///./src/components/board/survey/Survey.vue","webpack:///./src/components/board/ViewDocument.vue?896a","webpack:///./src/components/board/CommentWriter.vue?3960","webpack:///./src/components/board/ViewDocument.vue?4159","webpack:///./src/components/board/CommentWriter.vue?c764","webpack:///src/components/board/CommentWriter.vue","webpack:///./src/components/board/CommentWriter.vue?2168","webpack:///./src/components/board/CommentWriter.vue","webpack:///./src/components/UserLink.vue?da31","webpack:///src/components/UserLink.vue","webpack:///./src/components/UserLink.vue?0589","webpack:///./src/components/UserLink.vue","webpack:///./src/components/board/ViewComments.vue?27b7","webpack:///./src/components/board/CommentItem.vue?0188","webpack:///src/components/board/CommentItem.vue","webpack:///./src/components/board/CommentItem.vue?9bd1","webpack:///./src/components/board/CommentItem.vue","webpack:///src/components/board/ViewComments.vue","webpack:///./src/components/board/ViewComments.vue?fc83","webpack:///./src/components/board/ViewComments.vue","webpack:///src/components/board/ViewDocument.vue","webpack:///./src/components/board/ViewDocument.vue?ac8c","webpack:///./src/components/board/ViewDocument.vue","webpack:///./src/components/board/ViewComments.vue?7cef"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_Survey_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_Survey_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentItem_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentItem_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","BoardMixins","data","boardTypeItems","T","L","D","X","E","N","webUrl","process","methods","uuid","partialUUID","Math","random","toString","substring","dataURItoBlob","dataURI","byteString","split","indexOf","atob","unescape","mimeString","ia","Uint8Array","length","i","charCodeAt","Blob","type","timeParser","timestamp","moment","fromNow","module","exports","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","column","row","align-center","mx-2","_v","directives","name","rawName","value","expression","staticStyle","white-space","_s","survey","participants","_l","surveyContents","item","index","key","id","title","_e","choice","answerIndex","class","ans-voted final multi-row","selected","font-weight-bold","mostVotes","votes","percent","text","style","width","ans-no-vote multi-row","active","on","click","$event","handleVote","questions","participated","onlyView","justify-center","my-2","small","showSurveyResult","color","disabled","finalResults","completeSurvey","staticRenderFns","Surveyvue_type_script_lang_js_","props","created","formatSurvey","currentSurvey","computed","otherAnswers","surveyAnswers","forEach","q","qIndex","objectArray","max","totalVotes","choices","choiceIndex","push","isNaN","round","parseInt","getAnswerArray","answers","allowMultipleChoice","answerArray","c","cIndex","findIndex","_this","every","question","some","$store","dispatch","answer","$axios","post","documentId","$route","params","then","response","console","log","get","concat","boardId","catch","error","status","message","questionIndex","a","survey_Surveyvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewDocument_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewDocument_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentWriter_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentWriter_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","primary-title","to","document","mt-1","text-xs-right","nickName","boardType","board","commentCount","viewCount","$moment","writeDateTime","format","xs12","domProps","innerHTML","documentHTML","hasSurvey","sm10","md8","mx-3","text-xs-center","voteDocument","voteUpCount","pr-2","attach","x","insert","primary--text","showAttach","filter","deleteDocument","$vuetify","breakpoint","xsOnly","tag","open-on-hover","bottom","lazy","offset-y","model","callback","$$v","scrapMenu","slot","dense","stopPropagation","scrapGroupId","scrapDocument","scrapGroupName","reportMenu","isWriter","two-line","reportTypeId","reportDocument","reportTypeName","reportTypeDescription","mt-2","wrap","px-2","xs6","md4","xl2","attach_path","target","download","attach_name","mb-4","isAnonymous","allowAnonymous","isCommentWritable","reportTypes","best","bestComments","pages","CommentWritervue_type_template_id_0f96d231_render","px-3","ref","options","editorOption","content","py-2","hide-details","label","anonymous","my-0","ml-0","flat","selectImage","depressed","loading","postComment","defaultComment","$emit","CommentWritervue_type_template_id_0f96d231_staticRenderFns","CommentWritervue_type_script_lang_js_","mixins","placeholder","modules","magicUrl","urlRegularExpression","globalRegularExpression","normalizeRegularExpression","toolbar","undefined","imageDrop","imageResize","formData","theme","originImages","components","mounted","image","contents","JSON","parse","ops","hasOwnProperty","find","$refs","commentEditor","quill","setContents","onEditorChange","_ref","html","_this2","input","createElement","setAttribute","onchange","file","files","reader","FileReader","readAsDataURL","onload","test","range","getSelection","insertEmbed","getLength","result","onerror","attachImages","_this3","editor","delta","includes","imgSrc","imageName","append","src","revertImages","_this4","imgName","img","_postComment","_asyncToGenerator","regenerator_default","mark","_callee","_this5","_context","prev","next","headers","silent","t0","abrupt","assign","getters","boards","boardName","trim","FormData","updateComment","stringify","commentTo","res","setText","stop","apply","arguments","_updateComment","_callee2","modifiedBody","_this6","_context2","confirm","parentCommentId","commentId","processFileChange","put","_processFileChange","_callee3","attachFromServer","currentImageId","deleteImageP","uploadFileP","fileCount","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","pair","_this7","_context3","map","startsWith","attach_id","delete","entries","Symbol","iterator","done","return","finish","Promise","all","err","board_CommentWritervue_type_script_lang_js_","CommentWriter","UserLinkvue_type_template_id_866c066c_render","userLinkMenu","showProfile","sendMessage","max-width","dialog","size","profile","picturePath","alt","xs4","xs8","userAuthItems","auth","region","groupItems","major","grade","UserLinkvue_type_template_id_866c066c_staticRenderFns","groupName","M","G","R","Z","UserLinkvue_type_script_lang_js_","A","chatType","$router","chatId","groups","groupType","sort","b","previous","splice","divider","header","groupId","components_UserLinkvue_type_script_lang_js_","UserLink_component","UserLink","ViewCommentsvue_type_template_id_d862564e_render","comment","commentIndex","isBest","update","getCommentList","openRecomment","children","prepend-icon","action","no-action","$set","avatar","y","childItem","childIndex","inset","openRecommentIndex","total-visible","smAndUp","page","ViewCommentsvue_type_template_id_d862564e_staticRenderFns","CommentItemvue_type_template_id_040f2036_render","updatingComment","commentContents ql-editor pa-0 px-3","body-1","isDeleted","grey--text","lighten-1","deltaToHTML","revokeUpdate","text-xs-left","animalName","isSame","childCount","voteUp","deleteComment","reportComment","CommentItemvue_type_template_id_040f2036_staticRenderFns","CommentItemvue_type_script_lang_js_","tempCont","quill_default","attributes","link","slicer","newText","getElementsByClassName","replace","slice","getImagePath","imagePath","attachName","attachPath","board_CommentItemvue_type_script_lang_js_","CommentItem_component","CommentItem","ViewCommentsvue_type_script_lang_js_","commentList","Array","isArray","watch","$route.params","handler","$nextTick","deep","immediate","val","board_ViewCommentsvue_type_script_lang_js_","ViewComments_component","ViewComments","ViewDocumentvue_type_script_lang_js_","scrapGroups","currentBoard","Survey","getScrapGroups","getReportTypes","userBoards","statusAuth","userBoard","writeRestrictDate","isBefore","allGroupAuth","allowedGroups","_userBoard","ceil","getDocument","saveddocument","from","href","match","substr","_this8","_this9","board_ViewDocumentvue_type_script_lang_js_","ViewDocument_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewComments_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewComments_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-369ab7b7.d013be39.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&lang=css&\"","import moment from 'moment'\nconst BoardMixins = {\n  data () {\n    return {\n      boardTypeItems: {\n        T: '토픽',\n        L: '라운지',\n        D: '아카이브',\n        X: '게시판',\n        E: '전직교사',\n        N: '예비교사'\n      },\n      webUrl: process.env.VUE_APP_WEB_URL\n    }\n  },\n  methods: {\n    uuid () {\n      let partialUUID = () => {\n        return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n      };\n      return partialUUID() + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + partialUUID() + partialUUID()\n    },\n    dataURItoBlob (dataURI) {\n      // convert base64/URLEncoded data component to raw binary data held in a string\n      var byteString;\n      if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n        byteString = atob(dataURI.split(',')[1]);\n      } else {\n        byteString = unescape(dataURI.split(',')[1]);\n      }\n\n\n      var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n      // write the bytes of the string to a typed array\n      var ia = new Uint8Array(byteString.length);\n      for (var i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n      }\n      return new Blob([ia], { type: mimeString });\n    },\n    timeParser (timestamp) {\n      return moment(timestamp, 'YYYYMMDDHHmmss').fromNow()\n    }\n  }\n}\n\nexport default BoardMixins\n","module.exports = __webpack_public_path__ + \"img/defaultUser.8cc93c28.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.survey)?_c('v-layout',{staticClass:\"border-light py-2\",attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"mx-2\":\"\"}},[(_vm.onlyView)?_c('span',{staticClass:\"subheading\"},[_vm._v(\"글 작성 후에 수정/삭제가 불가능합니다.\")]):_c('span',{staticClass:\"subheading\"},[_vm._v(\"설문조사\")]),_c('v-spacer'),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.finalResults),expression:\"finalResults\"}],staticStyle:{\"white-space\":\"nowrap\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.survey.participants)+\"명 참여\\n      \")])],1)],1),_vm._l((_vm.survey.surveyContents.questions),function(item,index){return _c('v-flex',{key:index,staticClass:\"px-3 pt-2\"},[_c('div',{attrs:{\"id\":\"poll\"}},[_c('div',{staticClass:\"font-weight-bold body-2 mb-2\"},[_vm._v(_vm._s((index+1) + '. ' + item.title)),(item.allowMultipleChoice)?_c('small',{staticClass:\"grey--text lighten-1\"},[_vm._v(\"(복수응답)\")]):_vm._e()]),_c('div',{staticClass:\"ans-cnt\"},_vm._l((item.choices),function(choice,answerIndex){return _c('div',{key:answerIndex,staticClass:\"ans\"},[(_vm.finalResults)?[_c('div',{class:{'ans-voted final multi-row':true, 'selected': choice.selected, 'font-weight-bold':item.mostVotes == choice.votes}},[(choice.percent)?_c('span',{staticClass:\"percent\"},[_vm._v(_vm._s(choice.percent))]):_vm._e(),_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(choice.text))])]),_c('span',{staticClass:\"bg\",style:({ width: choice.percent })})]:[_c('div',{class:{ 'ans-no-vote multi-row': true, active: choice.selected },on:{\"click\":function($event){_vm.handleVote(index, choice)}}},[_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(choice.text))])]),_c('span',{staticClass:\"bg\"})]],2)}),0)]),(index + 1 !== _vm.survey.surveyContents.questions.length)?_c('v-divider',{key:'divider'+index,staticClass:\"mt-3\"}):_vm._e()],1)}),(!_vm.survey.participated && !_vm.onlyView)?_c('v-flex',[_c('v-layout',{attrs:{\"justify-center\":\"\",\"my-2\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.showSurveyResult = !_vm.showSurveyResult}}},[_vm._v(\"\\n        \"+_vm._s(_vm.showSurveyResult? '돌아가기':'결과보기')+\"\\n      \")]),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.finalResults},on:{\"click\":_vm.completeSurvey}},[_vm._v(\"응답하기\")])],1)],1):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout column class=\"border-light py-2\" v-if=\"survey\">\n    <v-flex>\n      <v-layout row align-center mx-2>\n        <span v-if=\"onlyView\" class=\"subheading\">글 작성 후에 수정/삭제가 불가능합니다.</span>\n        <span v-else class=\"subheading\">설문조사</span>\n        <v-spacer/>\n        <span v-show=\"finalResults\" style=\"white-space:nowrap;\">\n          {{survey.participants}}명 참여\n        </span>\n      </v-layout>\n    </v-flex>\n    <v-flex v-for=\"(item, index) in survey.surveyContents.questions\" :key=\"index\" class=\"px-3 pt-2\">\n      <div id=\"poll\">\n        <div class=\"font-weight-bold body-2 mb-2\">{{(index+1) + '. ' + item.title}}<small v-if=\"item.allowMultipleChoice\" class=\"grey--text lighten-1\">(복수응답)</small></div>\n        <div class=\"ans-cnt\">\n          <div v-for=\"(choice,answerIndex) in item.choices\" :key=\"answerIndex\" class=\"ans\">\n            <template v-if=\"finalResults\">\n              <div :class=\"{'ans-voted final multi-row':true, 'selected': choice.selected, 'font-weight-bold':item.mostVotes == choice.votes}\">\n                <span v-if=\"choice.percent\" class=\"percent\">{{choice.percent}}</span>\n                <span class=\"txt\">{{choice.text}}</span>\n              </div>\n              <span class=\"bg\" :style=\"{ width: choice.percent }\"></span>\n            </template>\n            <template v-else>\n              <div :class=\"{ 'ans-no-vote multi-row': true, active: choice.selected }\" @click=\"handleVote(index, choice)\">\n                <span class=\"txt\">{{choice.text}}</span>\n              </div>\n              <span class=\"bg\"></span>\n            </template>\n          </div>\n        </div>\n      </div>\n      <v-divider v-if=\"index + 1 !== survey.surveyContents.questions.length\" :key=\"'divider'+index\" class=\"mt-3\"></v-divider>\n    </v-flex>\n    <v-flex v-if=\"!survey.participated && !onlyView\">\n      <v-layout justify-center my-2>\n        <v-btn small @click=\"showSurveyResult = !showSurveyResult\">\n          {{showSurveyResult? '돌아가기':'결과보기'}}\n        </v-btn>\n        <v-btn small color=\"primary\" @click=\"completeSurvey\" :disabled=\"finalResults\">응답하기</v-btn>\n      </v-layout>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\nexport default {\n  props: [\"currentSurvey\", \"onlyView\"],\n  data() {\n    return {\n      showSurveyResult: false,\n      survey: null\n    };\n  },\n  created(){\n    this.survey = this.formatSurvey(this.currentSurvey);\n  },\n  computed: {\n    finalResults () {\n      return this.survey.participated || this.showSurveyResult\n    }\n  },\n  methods: {\n    formatSurvey (survey) {\n      let otherAnswers = survey.surveyAnswers\n      survey.surveyContents.questions.forEach((q, qIndex) => {\n        let objectArray = []\n        let max = 0;\n        let totalVotes = 0;\n        q.choices.forEach((choice, choiceIndex) => {\n          if (otherAnswers.length > qIndex) {\n            objectArray.push({ 'text': choice, 'selected': false, 'votes': otherAnswers[qIndex][choiceIndex] })\n            if(otherAnswers[qIndex][choiceIndex] > max){\n              max = otherAnswers[qIndex][choiceIndex];\n            }\n            totalVotes += otherAnswers[qIndex][choiceIndex];\n          } else {\n            objectArray.push({ 'text': choice, 'selected': false, 'votes': 0 })\n          }\n        })\n        q.mostVotes = max\n        q.totalVotes = totalVotes\n        if (totalVotes === 0) {\n          objectArray.forEach(choice => {\n            choice.percent = '0%'\n          })\n        }else{\n          // Calculate percent\n          objectArray.forEach(choice => {\n            choice.percent = !isNaN(choice.votes) && choice.votes > 0?(Math.round((parseInt(choice.votes) / totalVotes) * 100)) + '%':'0%'\n          })\n        }\n        q.choices = objectArray\n      })\n      return survey\n    },\n    getAnswerArray (questions) {\n      let answers = [];\n      questions.forEach(q => {\n        if(!q.allowMultipleChoice) {\n          answers.push(q.choices.findIndex(c => c.selected))\n        } else {\n          let answerArray = []\n          q.choices.forEach((c, cIndex) => {\n            if(c.selected) answerArray.push(cIndex)\n          })\n          answers.push(answerArray)\n        }\n      })\n      return answers;\n    },\n    completeSurvey() {\n      if(this.survey.surveyContents.questions.every(question => question.choices.some(choice => choice.selected))){\n        if(this.survey.participated){\n          this.$store.dispatch('showSnackbar', {text:'이미 참여한 설문입니다.', color:'info'});\n          return;\n        }\n        let answer = this.getAnswerArray(this.survey.surveyContents.questions)\n        this.$axios\n          .post(`/survey`, {\n            documentId: this.$route.params.documentId,\n            answer: answer\n          })\n          .then(response => {\n            console.log(response);\n            if(!response.data.survey) {\n              this.$axios\n                .get(`/${this.$route.params.boardId}/${this.$route.params.documentId}`)\n                .then(response => {\n                  this.survey = this.formatSurvey(response.data.survey)\n                  console.log(this.survey)\n                  this.showSurveyResult = true\n                })\n                .catch(error => {\n                  console.log(error);\n               });\n            }else{\n              this.survey = this.formatSurvey(response.data.survey)\n              this.showSurveyResult = true\n            }\n          })\n          .catch(error => {\n            if(error.response && error.response.status === 409){\n              this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"설문 응답을 등록하지 못했습니다.\" : \"설문 응답을 등록하지 못했습니다.\", color: \"info\"});\n            }else{\n              this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"설문 응답을 등록하지 못했습니다.\" : \"설문 응답을 등록하지 못했습니다.\", color: \"error\"});\n            }\n          });\n      } else {\n        this.$store.dispatch('showSnackbar', {text:(this.survey.surveyContents.questions.findIndex(question => !question.choices.some(choice => choice.selected)) + 1) + '번 질문의 응답을 선택해주세요.', color:'warning'});\n      }\n    },\n    handleVote (questionIndex, a) {\n      if (!this.survey.surveyContents.questions[questionIndex].allowMultipleChoice) {\n        if (!a.selected) {\n          this.survey.surveyContents.questions[questionIndex].choices.forEach(choice => (choice.selected = false))\n        }\n      }\n      a.selected = !a.selected\n    }\n  }\n};\n</script>\n<style>\n#poll .ans-cnt{\n  margin: 5px 0;\n}\n#poll .ans-cnt .ans{\n  position: relative;\n  border-radius: 8px;\n  overflow:hidden;\n  margin-top: 8px;\n}\n#poll .ans-cnt .ans:first-child{\n  margin-top: 0;\n}\n\n#poll .ans-cnt .ans-no-vote, #poll .ans-cnt .ans-voted{\n  background-color: #E1E8ED;\n  border-radius: 8px;\n  padding: 5px 10px;\n}\n#poll .ans-cnt .ans-voted .txt,\n#poll .ans-cnt .ans-voted .percent{\n  z-index: 1;\n  position: relative;\n}\n#poll .ans-cnt .ans-no-vote.active{\n  background: #d5d5d5;\n}\n#poll .ans-cnt .ans-no-vote.active .txt::before{\n  content:'✔';\n  width: 20px;\n  margin-right:4px;\n}\n#poll .ans-cnt .ans-voted .percent{\n  min-width: 44px;\n  display: inline-block;\n}\n#poll .ans-cnt .ans .bg{\n  position: absolute;\n  width: 0%;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 0;\n  background-color: #77C7F7;\n  transition: width .3s ease-in-out;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Survey.vue?vue&type=template&id=02c71251&\"\nimport script from \"./Survey.vue?vue&type=script&lang=js&\"\nexport * from \"./Survey.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Survey.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.document)?_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',{staticClass:\"w-100\"},[_c('router-link',{staticClass:\"title mb-0 multi-row\",attrs:{\"to\":'/'+_vm.document.boardId+'/'+_vm.document.documentId}},[_vm._v(_vm._s(_vm.document.title))]),_c('v-layout',{attrs:{\"row\":\"\",\"mt-1\":\"\"}},[_c('v-spacer'),_c('v-flex',{attrs:{\"text-xs-right\":\"\"}},[_c('user-link',{attrs:{\"nickName\":_vm.document.nickName,\"boardType\":_vm.board.boardType}}),_vm._v(\"\\n             | 댓글 \"+_vm._s(_vm.document.commentCount)+\" | 조회 \"+_vm._s(_vm.document.viewCount)+\" | \"+_vm._s(_vm.$moment(_vm.document.writeDateTime, \"YYYYMMDDHHmmss\").format(\"Y.MM.DD HH:mm:ss\"))+\"\\n          \")],1)],1)],1)])],1),_c('v-divider'),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card-text',{staticClass:\"px-0\"},[_c('div',{staticClass:\"ql-editor py-0 px-3\",attrs:{\"id\":\"documentContents\"},domProps:{\"innerHTML\":_vm._s(_vm.documentHTML)}})])],1),(_vm.document.hasSurvey && _vm.document.survey)?_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm10\":\"\",\"md8\":\"\",\"mx-3\":\"\"}},[_c('survey',{attrs:{\"currentSurvey\":_vm.document.survey}})],1)],1):_vm._e(),_c('v-flex',{attrs:{\"text-xs-center\":\"\",\"my-2\":\"\"}},[_c('v-btn',{staticClass:\"font-weight-bold short\",on:{\"click\":_vm.voteDocument}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"small\":\"\"}},[_vm._v(\"thumb_up\")]),_vm._v(\" \\n      \"),_c('span',[_vm._v(_vm._s(_vm.document.voteUpCount))])],1)],1),_c('v-divider'),_c('v-flex',{staticClass:\"my-2\"},[_c('v-layout',{attrs:{\"row\":\"\",\"text-xs-right\":\"\"}},[_c('v-flex',{attrs:{\"pr-2\":\"\"}},[_c('v-btn-toggle',{attrs:{\"id\":\"bottomBottons\"}},[(_vm.document.attach && _vm.document.attach.some(function (x){ return !x.insert; }))?[_c('v-btn',{class:{'primary--text':_vm.showAttach},attrs:{\"title\":\"첨부파일 보기\"},on:{\"click\":function($event){_vm.showAttach=!_vm.showAttach}}},[_vm._v(\"첨부파일(\"+_vm._s(_vm.document.attach.filter(function (x){ return !x.insert; }).length)+\")\")])]:_vm._e(),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.document.isWriter),expression:\"document.isWriter\"}],staticClass:\"short\",attrs:{\"to\":(\"/\" + (_vm.$route.params.boardId) + \"/\" + (_vm.document.documentId) + \"/edit\")}},[_c('span',[_vm._v(\"수정\")])]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.document.isWriter),expression:\"document.isWriter\"}],staticClass:\"short\",on:{\"click\":_vm.deleteDocument}},[_vm._v(\"삭제\")]),_c(_vm.$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu',{tag:\"component\",attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"lazy\":\"\",\"offset-y\":\"\"},model:{value:(_vm.scrapMenu),callback:function ($$v) {_vm.scrapMenu=$$v},expression:\"scrapMenu\"}},[_c('v-btn',{staticClass:\"short\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"스크랩\")]),_c('v-list',{attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"v-list__tile font-weight-bold\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"스크랩 그룹 선택\")]),_vm._l((_vm.scrapGroups),function(item){return _c('v-list-tile',{key:item.scrapGroupId,on:{\"click\":function($event){_vm.scrapDocument(item)}}},[_c('v-list-tile-title',[_vm._v(_vm._s(item.scrapGroupName))])],1)})],2)],1),_c(_vm.$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu',{tag:\"component\",attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"lazy\":\"\",\"offset-y\":\"\"},model:{value:(_vm.reportMenu),callback:function ($$v) {_vm.reportMenu=$$v},expression:\"reportMenu\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.document.isWriter),expression:\"!document.isWriter\"}],staticClass:\"short\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"신고\")]),_c('v-list',{attrs:{\"two-line\":\"\"}},[_c('div',{staticClass:\"font-weight-bold mx-3 my-2\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"신고사유 선택\")]),_vm._l((_vm.reportTypes),function(item){return _c('v-list-tile',{key:item.reportTypeId,on:{\"click\":function($event){_vm.reportDocument(item)}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(item.reportTypeName))]),_c('v-list-tile-sub-title',[_vm._v(_vm._s(item.reportTypeDescription))])],1)],1)})],2)],1)],2)],1)],1),_c('v-slide-y-transition',[_c('v-layout',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAttach),expression:\"showAttach\"}],attrs:{\"row\":\"\",\"mt-2\":\"\",\"wrap\":\"\"}},_vm._l((_vm.document.attach.filter(function (x){ return !x.insert; })),function(item,index){return _c('v-flex',{key:index,attrs:{\"px-2\":\"\",\"xs6\":\"\",\"md4\":\"\",\"xl2\":\"\"}},[_c('router-link',{staticClass:\"ellipsis underline\",attrs:{\"to\":_vm.webUrl + '/' + item.attach_path,\"target\":\"_blank\",\"download\":item.attach_name}},[_vm._v(_vm._s(item.attach_name))])],1)}),1)],1)],1),_c('v-flex',{attrs:{\"mb-4\":\"\"}},[_c('ViewComments',{attrs:{\"isAnonymous\":_vm.document.isWriter && _vm.document.nickName === '',\"allowAnonymous\":_vm.document.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable,\"reportTypes\":_vm.reportTypes,\"boardId\":_vm.document.boardId,\"best\":_vm.document.bestComments,\"pages\":_vm.pages}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"column\":\"\",\"px-3\":\"\"}},[_c('v-flex',{staticClass:\"comment-editor\"},[_c('quill-editor',{ref:\"commentEditor\",attrs:{\"options\":_vm.editorOption},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('v-flex',[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"py-2\":\"\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowAnonymous),expression:\"allowAnonymous\"}],staticClass:\"ml-3\"},[_c('v-checkbox',{staticClass:\"pt-0 mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"익명\",\"disabled\":_vm.isCommentWritable !== 'AVAILABLE' && _vm.isCommentWritable !== 'NEEDSUBSCRIPTION'},model:{value:(_vm.anonymous),callback:function ($$v) {_vm.anonymous=$$v},expression:\"anonymous\"}})],1),_c('v-btn',{class:{'my-0':true, 'ml-0':!_vm.allowAnonymous},attrs:{\"flat\":\"\",\"disabled\":_vm.isCommentWritable !== 'AVAILABLE' && _vm.isCommentWritable !== 'NEEDSUBSCRIPTION'},on:{\"click\":_vm.selectImage}},[_c('v-icon',[_vm._v(\"image\")]),_vm._v(\"이미지\\n      \")],1),_c('v-spacer'),_c('v-btn',{staticClass:\"short\",attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\",\"disabled\":_vm.isCommentWritable !== 'AVAILABLE' && _vm.isCommentWritable !== 'NEEDSUBSCRIPTION',\"loading\":_vm.loading},on:{\"click\":_vm.postComment}},[_vm._v(\"\\n        \"+_vm._s(_vm.defaultComment?'수정':'등록')+\"\\n      \")]),(_vm.defaultComment)?_c('v-btn',{staticClass:\"short\",attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"default\"},on:{\"click\":function($event){_vm.$emit('revokeUpdate')}}},[_vm._v(\"취소\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout column px-3>\n    <v-flex class=\"comment-editor\">\n      <quill-editor v-model=\"content\" ref=\"commentEditor\" :options=\"editorOption\">\n      </quill-editor>\n    </v-flex>\n    <v-flex>\n      <v-layout row align-center py-2>\n        <span class=\"ml-3\" v-show=\"allowAnonymous\">\n          <v-checkbox hide-details label=\"익명\" v-model=\"anonymous\" class=\"pt-0 mt-0\" :disabled=\"isCommentWritable !== 'AVAILABLE' && isCommentWritable !== 'NEEDSUBSCRIPTION'\"></v-checkbox>\n        </span>\n        <v-btn @click=\"selectImage\" flat :class=\"{'my-0':true, 'ml-0':!allowAnonymous}\" :disabled=\"isCommentWritable !== 'AVAILABLE' && isCommentWritable !== 'NEEDSUBSCRIPTION'\">\n          <v-icon>image</v-icon>이미지\n        </v-btn>\n        <v-spacer/>\n        <v-btn small depressed @click=\"postComment\" color=\"primary\" class=\"short\" :disabled=\"isCommentWritable !== 'AVAILABLE' && isCommentWritable !== 'NEEDSUBSCRIPTION'\" :loading=\"loading\">\n          {{defaultComment?'수정':'등록'}}\n        </v-btn>\n        <v-btn v-if=\"defaultComment\" small depressed @click=\"$emit('revokeUpdate')\" color=\"default\" class=\"short\" >취소</v-btn>\n      </v-layout>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\nimport BoardMixins from \"@/components/mixins/BoardMixins\";\n\nexport default {\n  name: \"WriteComment\",\n  mixins: [BoardMixins],\n  props: [\"commentTo\", \"isAnonymous\", \"allowAnonymous\", \"isCommentWritable\", \"boardId\", \"defaultComment\"],\n  data() {\n    return {\n      editorOption: {\n        placeholder: this.isCommentWritable === \"AVAILABLE\" ? \"댓글을 입력해주세요.\" : this.isCommentWritable === \"UNAVAILABLE\" ? \"댓글을 작성할 수 있는 권한이 없습니다.\" : this.isCommentWritable === \"RESTRICTED\" ? \"글쓰기가 제한되어 있습니다.\" : \"토픽 구독 후 입력된 댓글이 등록됩니다.\",\n        modules: {\n          magicUrl: {\n            urlRegularExpression: /(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/,\n            globalRegularExpression: /(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/,\n            normalizeRegularExpression: /(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/\n          },\n          toolbar: undefined,\n          imageDrop: true,\n          imageResize: true\n        },\n        formData: undefined,\n        theme: \"bubble\"\n      },\n      content: \"\",\n      anonymous: this.isAnonymous | true,\n      originImages: [],\n      loading: false\n    };\n  },\n  components: {},\n  mounted() {\n    if(this.defaultComment) {\n      console.log(this.defaultComment)\n          let contents = JSON.parse(this.defaultComment.contents)\n          console.log(contents)\n          if(this.defaultComment.attach) {\n            let image;\n            contents.ops.forEach(item => {\n              if (item.insert.hasOwnProperty(\"image\")) {\n                image = this.defaultComment.attach.find(x => x.attach_name === item.insert.image);\n                console.log(image)\n                if (image) {\n                  image.insert = true;\n                  item.insert.image = this.webUrl + \"/\" + image.attach_path\n                }\n              }\n            })\n          }\n          console.log(contents)\n      this.$refs.commentEditor.quill.setContents(contents)\n    }\n  },\n  methods: {\n    onEditorChange({quill, html, text}) {\n      this.content = html;\n    },\n    selectImage() {\n      const input = document.createElement('input');\n      input.setAttribute('type', 'file');\n      input.setAttribute('accept', 'image/*');\n      input.click();\n      // Listen upload local image and save to server\n      input.onchange = () => {\n        const file = input.files[0];\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => {\n          // file type is only image.\n          if (/^image\\//.test(file.type)) {\n            let commentEditor = this.$refs.commentEditor\n            let range = commentEditor.quill.getSelection()\n            console.log(range)\n            commentEditor.quill.insertEmbed(range == null ? commentEditor.quill.getLength() : range.index , 'image', reader.result);\n          } else {\n            this.$store.dispatch('showSnackbar', {text:'이미지 파일만 업로드할 수 있습니다.', color:'error'})\n          }\n        };\n        reader.onerror = function (error) {\n         console.log('Error: ', error);\n        };\n      };\n    },\n    attachImages() {\n      return this.$refs.commentEditor.quill.editor.delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty(\"image\")) {\n          if(item.insert.image.includes('data:image')) {\n            let imgSrc = item.insert.image;\n            let imageName = this.uuid() + \".\" + imgSrc.substring(\"data:image/\".length, imgSrc.indexOf(\";base64\"));\n            this.formData.append(\"attach\", this.dataURItoBlob(imgSrc), imageName);\n            item.insert.image = imageName;\n            this.originImages.push({name: imageName, src: imgSrc});\n          }\n        }\n      });\n    },\n    revertImages() {\n      this.$refs.commentEditor.quill.editor.delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty(\"image\")) {\n          // random generated uuid should given here\n          let imgName = item.insert.image;\n          item.insert.image = this.originImages.find(img => img.name === imgName).src;\n        }\n      });\n      this.originImages = [];\n    },\n    async postComment() {\n      this.loading = true;\n      if (this.isCommentWritable === \"NEEDSUBSCRIPTION\") {\n        try {\n          await this.$axios.post(\"/user/board\", {boardId: this.boardId}, {headers: {silent: true}});\n        } catch (error) {\n          if (!error.response || error.response.status !== 409) {\n            this.loading = false;\n            this.$store.dispatch(\"showSnackbar\", {text: `${error && error.response && error.response.data ? error.response.data.message || \"댓글을 쓰기 위한 구독을 하지 못했습니다.\" : \"댓글을 쓰기 위한 구독을 하지 못했습니다.\"}`, color: \"error\"});\n            return;\n          }\n        }\n        this.$store.dispatch(\"addUserBoard\", Object.assign({}, this.$store.getters.boards.find(x => x.boardId === this.boardId)));\n        this.$store.dispatch(\"showSnackbar\", {text: `${this.$store.getters.boards.find(x => x.boardId === this.boardId).boardName} 토픽을 구독하였습니다.`, color: \"info\"});\n      }\n      \n      if(!this.content || this.content.trim() === ''){\n        this.$store.dispatch('showSnackbar', {text:'댓글 내용을 입력해주세요.', color:'error'})\n        return;\n      }\n      if (!this.formData) this.formData = new FormData();\n      await this.attachImages();\n      if (this.defaultComment) {\n        await this.updateComment();\n        return;\n      }\n      this.formData.append(\"documentId\", this.$route.params.documentId);\n      this.formData.append(\"contents\", JSON.stringify(this.$refs.commentEditor.quill.editor.delta));\n      this.formData.append(\"isAnonymous\", this.anonymous);\n      if (this.commentTo) {\n        this.formData.append(\"parentCommentId\", this.commentTo);\n      }\n      this.$axios\n        .post(\"/comment\", this.formData, {headers: {silent: true}})\n        .then(res => {\n          this.$refs.commentEditor.quill.setText(\"\");\n          this.revertImages();\n          this.loading = false;\n          this.$emit(\"update\");\n          delete this.formData;\n        })\n        .catch(error => {\n          console.log(error);\n          delete this.formData;\n          this.revertImages();\n          this.loading = false;\n          this.$store.dispatch(\"showSnackbar\", {text: `${error.response ? error.response.data.message : \"댓글을 등록하지 못했습니다.\"}`, color: \"error\"});\n        });\n    },\n    async updateComment () {\n       if(!confirm('댓글을 수정하시겠습니까?')) {\n        this.loading = false;\n        return;\n      }\n      // Convert Images And Upload First\n      try {\n        if (!this.formData) this.formData = new FormData();\n        if (this.defaultComment.parentCommentId) {\n          this.formData.append(\"parentCommentId\", this.defaultComment.parentCommentId);\n        }\n        this.formData.append(\"documentId\", this.$route.params.documentId);\n        this.formData.append('commentId', this.defaultComment.commentId)\n        await this.attachImages(); // change image url here\n        await this.processFileChange()\n          let modifiedBody = {\n            documentId: this.$route.params.documentId,\n            commentId: this.defaultComment.commentId,\n            contents: JSON.stringify(this.$refs.commentEditor.quill.editor.delta),\n          }\n          console.log(modifiedBody)\n          return this.$axios\n          .put(`/comment`, modifiedBody)\n          .then(response => {\n            this.loading = false;\n            if (response.status === 200) {\n              console.log(response)\n              this.$store.dispatch('showSnackbar', {text:'댓글을 수정하였습니다', color:'success'})\n              this.$emit(\"update\");\n            }\n          })\n          .catch(error => {\n            this.loading = false;\n            this.$store.dispatch('showSnackbar', {text:'댓글 수정에 실패했습니다. 다시 시도해주세요', color:'error'})\n            console.log(error.response);\n          })\n      } catch (err){\n        this.loading = false;\n        console.log(err)\n        this.$store.dispatch('showSnackbar', {text:'댓글 수정에 실패했습니다. 다시 시도해주세요', color:'error'})\n        this.revertImages();\n        delete this.formData\n      }\n    },\n     async processFileChange() {\n      let attachFromServer = this.defaultComment.attach.filter(a => a!==null) \n      let currentImageId = this.$refs.commentEditor.quill.editor.delta.ops.map(item => {\n        if (item.insert.hasOwnProperty(\"image\")) {\n          if(item.insert.image.startsWith('/attach')) {\n            // '/attach/:documentId(^[\\\\d]+$)/:attachId\n            return attachFromServer.find(a => item.insert.image === '/' + a.attach_path).attach_id\n          }\n        }\n      });\n      let deleteImageP, uploadFileP\n      attachFromServer.forEach(a => {\n        if(a.insert && !currentImageId.filter(i=>i!==undefined).includes(a.attach_id)) {\n          deleteImageP = this.$axios\n            .delete(`/comment/attach/${this.documentId}/${a.attach_id}`)\n            .then(response => {\n              if (response.status === 200) {\n                console.log(response)\n              }\n            })\n            .catch(error => {\n              console.log(error.response);\n            });\n        }\n      })\n      let fileCount = 0;\n      for (let pair of this.formData.entries()) {\n        if(pair[0] === 'attach') fileCount += 1;\n      }\n      if(fileCount > 0) {\n        uploadFileP = this.$axios\n          .post(`/comment/attach`, this.formData)\n          .then(response => {\n            if (response.status === 200) {\n              console.log(response)\n            }\n          })\n          .catch(error => {\n            console.log(error.response);\n          });\n      }\n      await Promise.all([deleteImageP, uploadFileP])\n        .then(res => {\n          console.log(res)\n        })\n        .catch(err => {\n          console.log(err)\n          this.$store.dispatch('showSnackbar', {text:' 댓글 수정에 실패했습니다. 다시 시도해주세요', color:'error'})\n        })\n    },\n  }\n};\n</script>\n<style>\n.comment-editor .ql-container.ql-bubble {\n  min-height: 5rem;\n  border: 1px solid #e8e8e8;\n  border-top: 1px solid #e8e8e8;\n}\n.comment-editor .quill-editor .ql-bubble .ql-tooltip {\n  z-index: 1;\n}\n.comment-editor .ql-bubble .ql-picker.ql-size {\n  width: 60px;\n}\n.comment-editor .ql-editor.ql-blank::before {\n  font-style: normal;\n}\n.comment-editor .video-container {\n  position: relative;\n  height: 0;\n  width: 100%;\n  padding-bottom: 56%;\n}\n.comment-editor .video-container iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentWriter.vue?vue&type=template&id=0f96d231&\"\nimport script from \"./CommentWriter.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentWriter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentWriter.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"d-inline-flex\"},[(_vm.nickName !== '')?[_c(_vm.$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu',{tag:\"component\",attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"lazy\":\"\",\"offset-y\":\"\"},model:{value:(_vm.userLinkMenu),callback:function ($$v) {_vm.userLinkMenu=$$v},expression:\"userLinkMenu\"}},[_c('span',{staticClass:\"cursor-pointer font-weight-bold body--text\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(_vm._s(_vm.nickName))]),_c('v-list',{attrs:{\"dense\":\"\"}},[(_vm.boardType !== 'T')?_c('v-list-tile',{on:{\"click\":_vm.showProfile}},[_c('v-list-tile-title',[_vm._v(\"\\n            프로필보기\\n          \")])],1):_vm._e(),_c('v-list-tile',{on:{\"click\":_vm.sendMessage}},[_c('v-list-tile-title',[_vm._v(\"\\n            메시지 보내기\\n          \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500\",\"lazy\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\",attrs:{\"primary-title\":\"\"}},[_c('span',[_vm._v(\"프로필\")]),_c('v-spacer'),_c('v-icon',{on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"close\")])],1),_c('v-card-text',[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('div',{staticClass:\"text-xs-center justify-center align-center\"},[_c('p',[_c('v-avatar',{attrs:{\"size\":\"200\"}},[_c('img',{attrs:{\"src\":_vm.profile.picturePath? _vm.webUrl+ _vm.profile.picturePath : require('@/static/img/defaultUser.png'),\"alt\":\"프로필 이미지\"}})])],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"라운지 필명\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.nickName))])]),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"회원 구분\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.userAuthItems[_vm.profile.auth]))])]),(_vm.profile.isOpenInfo)?[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"지역\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.region && _vm.groupItems.some(function (x){ return x.value === _vm.profile.region; }) ? _vm.groupItems.find(function (x){ return x.value === _vm.profile.region; }).text : '지역정보 없음'))])]),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"전공\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.major && _vm.groupItems.some(function (x){ return x.value === _vm.profile.major; }) ? _vm.groupItems.find(function (x){ return x.value === _vm.profile.major; }).text : '전공정보 없음'))])]),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"학년\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.grade && _vm.groupItems.some(function (x){ return x.value === _vm.profile.grade; }) ? _vm.groupItems.find(function (x){ return x.value === _vm.profile.grade; }).text : '학년정보 없음'))])])]:_c('div',{staticClass:\"text-xs-center flex mt-3\"},[_vm._v(\"상세 프로필이 비공개로 설정되어 있습니다.\")])],2)],1)])],1),_c('v-card-actions',[_c('v-layout',{attrs:{\"row\":\"\",\"text-xs-center\":\"\"}},[_c('v-spacer'),_c('v-btn',{on:{\"click\":_vm.sendMessage}},[_vm._v(\"메시지 보내기\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"닫기\")])],1)],1)],1)],1)]:_c('span',{staticClass:\"grey--text lighten-1\"},[_vm._v(\"익명\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"d-inline-flex\">\n    <template v-if=\"nickName !== ''\">\n      <component :is=\"$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu'\" v-model=\"userLinkMenu\" open-on-hover bottom lazy offset-y>\n        <span slot=\"activator\" class=\"cursor-pointer font-weight-bold body--text\">{{nickName}}</span>\n        <v-list dense>\n          <v-list-tile v-if=\"boardType !== 'T'\" @click=\"showProfile\">\n            <v-list-tile-title>\n              프로필보기\n            </v-list-tile-title>\n          </v-list-tile>\n          <v-list-tile @click=\"sendMessage\">\n            <v-list-tile-title>\n              메시지 보내기\n            </v-list-tile-title>\n          </v-list-tile>\n        </v-list>\n      </component>\n      <v-dialog v-model=\"dialog\" max-width=\"500\" lazy>\n        <v-card>\n          <v-card-title class=\"headline\" primary-title>\n            <span>프로필</span>\n            <v-spacer/>\n            <v-icon @click=\"dialog = false\">close</v-icon>\n          </v-card-title>\n          <v-card-text>\n            <v-flex xs12>\n              <div class=\"text-xs-center justify-center align-center\">\n                <p>\n                  <v-avatar size=\"200\">\n                    <img :src=\"profile.picturePath? webUrl+ profile.picturePath : require('@/static/img/defaultUser.png')\" alt=\"프로필 이미지\">\n                  </v-avatar>\n                </p>\n                <v-layout row wrap>\n                  <v-flex xs4>\n                    <v-subheader>라운지 필명</v-subheader>\n                  </v-flex>\n                  <v-flex xs8>\n                    <div class=\"v-subheader\">{{profile.nickName}}</div>\n                  </v-flex>\n                  <v-flex xs4>\n                    <v-subheader>회원 구분</v-subheader>\n                  </v-flex>\n                  <v-flex xs8>\n                    <div class=\"v-subheader\">{{userAuthItems[profile.auth]}}</div>\n                  </v-flex>\n                  <template v-if=\"profile.isOpenInfo\">\n                    <v-flex xs4>\n                      <v-subheader>지역</v-subheader>\n                    </v-flex>\n                    <v-flex xs8>\n                      <div class=\"v-subheader\">{{profile.region && groupItems.some(x=>x.value === profile.region) ? groupItems.find(x=>x.value === profile.region).text : '지역정보 없음'}}</div>\n                    </v-flex>\n                    <v-flex xs4>\n                      <v-subheader>전공</v-subheader>\n                    </v-flex>\n                    <v-flex xs8>\n                      <div class=\"v-subheader\">{{profile.major && groupItems.some(x=>x.value === profile.major) ? groupItems.find(x=>x.value === profile.major).text : '전공정보 없음'}}</div>\n                    </v-flex>\n                    <v-flex xs4>\n                      <v-subheader>학년</v-subheader>\n                    </v-flex>\n                    <v-flex xs8>\n                      <div class=\"v-subheader\">{{profile.grade && groupItems.some(x=>x.value === profile.grade) ? groupItems.find(x=>x.value === profile.grade).text : '학년정보 없음'}}</div>\n                    </v-flex>\n                  </template>\n                  <div v-else class=\"text-xs-center flex mt-3\">상세 프로필이 비공개로 설정되어 있습니다.</div>\n                </v-layout>\n              </div>\n              \n            </v-flex>\n          </v-card-text>\n          <v-card-actions>\n            <v-layout row text-xs-center>\n              <v-spacer/>\n              <v-btn @click=\"sendMessage\">메시지 보내기</v-btn>\n              <v-btn color=\"primary\" @click=\"dialog = false\">닫기</v-btn>\n            </v-layout>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </template>\n    <span v-else class=\"grey--text lighten-1\">익명</span>\n  </span>\n</template>\n<script>\nconst groupName = {M: \"전공\", G: \"학년\", N: \"일반\", R: \"지역\", Z: \"인증\"};\nimport BoardMixins from \"@/components/mixins/BoardMixins\";\nexport default {\n  name: \"UserLink\",\n  props: [\"nickName\", \"boardType\"],\n  data() {\n    return {\n      userLinkMenu:false,\n      dialog:false,\n      profile:{},\n      groupItems: [],\n      userAuthItems: {\n        N: \"예비교사(미인증)\",\n        A: \"현직교사(인증)\",\n        E: \"전직교사(인증 만료)\",\n        D: \"인증제한\"\n      }\n    };\n  },\n  mixins: [BoardMixins],\n  methods:{\n    sendMessage(){\n      this.$axios.post('/message/list', {nickName:this.nickName, chatType:this.boardType === 'T'?'T':'L'})\n      .then(response => {\n          this.$router.push('/message?chatId='+response.data.chatId);\n      })\n      .catch(error => {\n        if(error.response && error.response.status === 409 && error.response.data.chatId){\n          this.$router.push('/message?chatId='+error.response.data.chatId);\n        }else{\n          console.log(error);\n          this.$store.dispatch(\"showSnackbar\", {text: `${error.response ? error.response.data.message : \"채팅을 만들지 못했습니다.\"}`, color: \"error\"});\n        }\n      })\n    },\n    showProfile(){\n      if(this.profile && this.profile.nickName === this.nickName){\n        this.dialog = true;\n      }else{\n        this.$axios.get('/profile', {params:{nickName:this.nickName}})\n        .then(response => {\n          this.profile = response.data\n          this.dialog = true;\n        })\n        .catch(error => {\n          console.log(error);\n          this.$store.dispatch(\"showSnackbar\", {text: `${error.response ? error.response.data.message : \"프로필을 불러오지 못했습니다.\"}`, color: \"error\"});\n        })\n      }\n    }\n  },\n  created(){\n    if (this.$store.getters.groups) {\n      this.groupItems = this.$store.getters.groups;\n    } else {\n      this.$axios\n        .get(\"/group\", {headers: {silent: true}})\n        .then(response => {\n          response.data.forEach(x => {\n            if (x.groupType === \"N\" || x.groupType === \"D\" || x.groupType === \"E\") {\n              x.groupType = \"Z\";\n            }\n          });\n          this.groupItems = response.data.sort((a, b) => (a.groupType < b.groupType ? -1 : a.groupType === b.groupType ? 0 : 1));\n          let previous = null;\n          let i = 0;\n          while (i < this.groupItems.length) {\n            if (previous !== this.groupItems[i].groupType) {\n              if (previous) {\n                previous = this.groupItems[i].groupType;\n                this.groupItems.splice(i, 0, {divider: true});\n                i++;\n              } else {\n                previous = this.groupItems[i].groupType;\n              }\n              this.groupItems.splice(i, 0, {header: groupName[previous]});\n              i++;\n            }\n            i++;\n          }\n          this.groupItems = this.groupItems.map(x => (x.groupName ? {text: x.groupName, value: x.groupId} : x));\n          this.$store.dispatch(\"setGroups\", this.groupItems);\n        })\n        .catch(error => {\n          this.$store.dispatch(\"showSnackbar\", {text: `그룹 목록을 가져오지 못했습니다.${error && error.response && error.response.data ? \"[\" + error.response.data.message + \"]\" : \"\"}`});\n        });\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLink.vue?vue&type=template&id=866c066c&\"\nimport script from \"./UserLink.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLink.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[(_vm.best && _vm.best.length > 0)?_c('v-card',{staticClass:\"mb-3 elevation-1\",attrs:{\"flat\":\"\"}},[_c('v-list',{staticClass:\"commentList py-0\",attrs:{\"two-line\":\"\"}},[_vm._l((_vm.best),function(item,index){return [_c('v-list-tile',{key:'best'+index,staticClass:\"bestComment\"},[_c('comment-item',{attrs:{\"comment\":item,\"commentIndex\":index,\"reportTypes\":_vm.reportTypes,\"isBest\":true},on:{\"update\":_vm.getCommentList}})],1),_c('v-divider',{key:'bestDivider'+index})]})],2)],1):_vm._e(),_c('v-card',[_c('v-list',{staticClass:\"commentList py-0 pb-1\",attrs:{\"two-line\":\"\"}},[_vm._l((_vm.commentList),function(item,index){return [_c('v-list-tile',{key:index},[_c('comment-item',{attrs:{\"comment\":item,\"commentIndex\":index,\"reportTypes\":_vm.reportTypes,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"openRecomment\":_vm.openRecomment,\"update\":_vm.getCommentList}})],1),(item.children)?_c('div',{key:'child'+index},[(item.children.length > 5)?_c('v-list-group',{key:item.title,attrs:{\"prepend-icon\":item.action,\"no-action\":\"\"},model:{value:(item.active),callback:function ($$v) {_vm.$set(item, \"active\", $$v)},expression:\"item.active\"}},[_c('v-list-tile',{attrs:{\"slot\":\"activator\",\"avatar\":\"\"},slot:\"activator\"},[_c('v-list-tile-action'),_c('v-list-tile-title',{staticClass:\"text-xs-center\"},[_c('small',[_vm._v(_vm._s(item.active?'답글 숨기기':'이전 '+(item.children.length - 5)+'개의 답글 펼치기'))])])],1),_vm._l((item.children.filter(function (x, y) { return y < (item.children.length - 5); })),function(childItem,childIndex){return _c('div',{key:'hidden'+childIndex},[_c('v-divider',{attrs:{\"inset\":\"\"}}),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-action'),_c('comment-item',{attrs:{\"comment\":childItem,\"commentIndex\":childIndex,\"children\":true,\"reportTypes\":_vm.reportTypes,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"update\":_vm.getCommentList}})],1)],1)})],2):_vm._e(),(item.children.length > 5)?void 0:_vm._e(),_vm._l(((item.children.length > 5 ? item.children.filter(function (x, y) { return y >= (item.children.length - 5); }) : item.children)),function(childItem,childIndex){return _c('div',{key:childIndex},[_c('v-divider',{attrs:{\"inset\":\"\"}}),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-action'),_c('comment-item',{attrs:{\"comment\":childItem,\"commentIndex\":childIndex,\"children\":true,\"reportTypes\":_vm.reportTypes,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"update\":_vm.getCommentList}})],1)],1)})],2):_vm._e(),(_vm.openRecommentIndex === index)?_c('v-list-tile',{key:'writer'+index,staticClass:\"pl-5\"},[_c('CommentWriter',{attrs:{\"commentTo\":item.commentId,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable,\"boardId\":_vm.boardId},on:{\"update\":_vm.getCommentList}})],1):_vm._e(),_c('v-divider',{key:'divider'+index})]})],2),(_vm.pages > 1)?_c('v-flex',{attrs:{\"text-xs-center\":\"\",\"mt-2\":\"\",\"xs12\":\"\"}},[_c('v-pagination',{attrs:{\"id\":\"commentPagination\",\"length\":_vm.pages,\"total-visible\":_vm.$vuetify.breakpoint.smAndUp?10:undefined},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1):_vm._e(),_c('div',{staticClass:\"pt-2\"},[_c('comment-writer',{attrs:{\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"update\":_vm.getCommentList}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list-tile-content',{staticClass:\"py-1 px-0\"},[_c('v-list-tile-title',[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[(_vm.isBest)?_c('v-chip',{staticClass:\"white--text ml-0 my-0 ml-3\",attrs:{\"label\":\"\",\"small\":\"\",\"color\":\"primary\"}},[_vm._v(\"베스트\")]):_vm._e()],1),(!_vm.updatingComment)?_c('v-flex',[_c('div',{class:{'commentContents ql-editor pa-0 px-3':true, 'body-1':_vm.comment.isDeleted,'grey--text':_vm.comment.isDeleted, 'lighten-1':_vm.comment.isDeleted},domProps:{\"innerHTML\":_vm._s(_vm.comment.isDeleted?_vm.comment.contents:_vm.deltaToHTML(JSON.parse(_vm.comment.contents)))}})]):_vm._e()],1)],1),(!_vm.comment.isDeleted)?_c('v-list-tile-sub-title',{staticClass:\"px-3\"},[(!_vm.updatingComment)?_c('v-layout',{staticClass:\"body-1\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"text-xs-left\":\"\"}},[_c('user-link',{attrs:{\"nickName\":_vm.comment.nickName,\"boardType\":_vm.$store.getters.boardType}}),_c('small',{staticClass:\"accent--text\"},[_vm._v(\"(\"+_vm._s(_vm.comment.animalName)+\")\")]),_vm._v(\" \"+_vm._s(_vm.$moment(_vm.comment.writeDateTime, 'YYYYMMDDHHmmss').isSame(_vm.$moment(), 'day')?_vm.$moment(_vm.comment.writeDateTime, 'YYYYMMDDHHmmss').format('HH:mm'):_vm.timeParser(_vm.comment.writeDateTime))+\"\\n        \"),(!_vm.children && !_vm.isBest)?_c('b',{staticClass:\"cursor-pointer\",attrs:{\"title\":\"답글 쓰기\"},on:{\"click\":function($event){_vm.$emit('openRecomment', _vm.commentIndex)}}},[_vm._v(\"\\n          답글\"+_vm._s(_vm.comment.childCount > 0? (\"(\" + (_vm.comment.childCount) + \")\"):\"\")+\"\\n        \")]):_vm._e()],1),_c('v-spacer'),_c('v-flex',{attrs:{\"text-xs-right\":\"\",\"px-2\":\"\"}},[(_vm.isBest)?_c('span',{staticClass:\"cursor-pointer\",attrs:{\"title\":\"추천\"},on:{\"click\":_vm.voteUp}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"small\":\"\"}},[_vm._v(\"thumb_up\")]),_c('b',{staticClass:\"mx-1 body--text\"},[_vm._v(_vm._s(_vm.comment.voteUpCount))])],1):[_c('span',{staticClass:\"cursor-pointer\",attrs:{\"title\":\"추천\"},on:{\"click\":_vm.voteUp}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"small\":\"\"}},[_vm._v(\"thumb_up\")]),_c('b',{staticClass:\"mx-1 body--text\"},[_vm._v(_vm._s(_vm.comment.voteUpCount))]),_vm._v(\" |\\n          \")],1),(_vm.comment.isWriter)?[_c('span',{staticClass:\"cursor-pointer\",on:{\"click\":_vm.updateComment}},[_vm._v(\"수정\")]),_vm._v(\" |\\n            \"),_c('span',{staticClass:\"cursor-pointer\",on:{\"click\":_vm.deleteComment}},[_vm._v(\"삭제\")])]:_c('v-menu',{attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"offset-y\":\"\",\"lazy\":\"\"}},[_c('span',{staticClass:\"cursor-pointer\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"신고\")]),_c('v-list',{attrs:{\"two-line\":\"\"}},_vm._l((_vm.reportTypes),function(item,index){return _c('v-list-tile',{key:item.reportTypeId,class:{'mt-2':index>0},on:{\"click\":function($event){_vm.reportComment(item)}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(item.reportTypeName))]),_c('v-list-tile-sub-title',[_vm._v(_vm._s(item.reportTypeDescription))])],1)],1)}),1)],1)]],2)],1):_c('v-layout',[_c('comment-writer',{attrs:{\"defaultComment\":_vm.comment,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"revokeUpdate\":function($event){_vm.updatingComment=false},\"update\":function($event){_vm.updatingComment=false; _vm.$emit('update')}}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list-tile-content class=\"py-1 px-0\">\n    <v-list-tile-title>\n      <v-layout column>\n        <v-flex>\n          <v-chip label small color=\"primary\" class=\"white--text ml-0 my-0 ml-3\" v-if=\"isBest\">베스트</v-chip>\n        </v-flex>\n        <v-flex v-if=\"!updatingComment\">\n          <div v-html=\"comment.isDeleted?comment.contents:deltaToHTML(JSON.parse(comment.contents))\" :class=\"{'commentContents ql-editor pa-0 px-3':true, 'body-1':comment.isDeleted,'grey--text':comment.isDeleted, 'lighten-1':comment.isDeleted}\"></div>\n        </v-flex>\n      </v-layout>\n    </v-list-tile-title>\n    <v-list-tile-sub-title v-if=\"!comment.isDeleted\" class=\"px-3\">\n      <v-layout v-if=\"!updatingComment\" row class=\"body-1\" wrap>\n        <!--prettyhtml-ignore-->\n        <v-flex text-xs-left>\n          <user-link :nickName=\"comment.nickName\" :boardType=\"$store.getters.boardType\"/>\n          <small class=\"accent--text\">({{comment.animalName}})</small> {{$moment(comment.writeDateTime, 'YYYYMMDDHHmmss').isSame($moment(), 'day')?$moment(comment.writeDateTime, 'YYYYMMDDHHmmss').format('HH:mm'):timeParser(comment.writeDateTime)}}\n          <b v-if=\"!children && !isBest\" class=\"cursor-pointer\" @click=\"$emit('openRecomment', commentIndex)\" title=\"답글 쓰기\">\n            답글{{comment.childCount > 0? `(${comment.childCount})`:\"\"}}\n          </b>\n        </v-flex>\n        <v-spacer/>\n        <v-flex text-xs-right px-2>\n          <span @click=\"voteUp\" class=\"cursor-pointer\" title=\"추천\" v-if=\"isBest\">\n            <v-icon color=\"primary\" small>thumb_up</v-icon>\n            <b class=\"mx-1 body--text\">{{comment.voteUpCount}}</b>\n          </span>\n          <template v-else>\n            <span @click=\"voteUp\" class=\"cursor-pointer\" title=\"추천\">\n              <v-icon color=\"primary\" small>thumb_up</v-icon>\n              <b class=\"mx-1 body--text\">{{comment.voteUpCount}}</b> |\n            </span>\n            <template v-if=\"comment.isWriter\">\n              <span class=\"cursor-pointer\" @click=\"updateComment\">수정</span> |\n              <span class=\"cursor-pointer\" @click=\"deleteComment\">삭제</span>\n            </template>\n            <v-menu open-on-hover bottom offset-y lazy v-else>\n              <span class=\"cursor-pointer\" slot=\"activator\">신고</span>\n              <v-list two-line>\n                <v-list-tile v-for=\"(item, index) in reportTypes\" :key=\"item.reportTypeId\" @click=\"reportComment(item)\" :class=\"{'mt-2':index>0}\">\n                  <v-list-tile-content>\n                    <v-list-tile-title>{{ item.reportTypeName }}</v-list-tile-title>\n                    <v-list-tile-sub-title>{{item.reportTypeDescription}}</v-list-tile-sub-title>\n                  </v-list-tile-content>\n                </v-list-tile>\n              </v-list>\n            </v-menu>\n          </template>\n        </v-flex>\n      </v-layout>\n      <v-layout v-else>\n        <comment-writer :defaultComment=\"comment\" @revokeUpdate=\"updatingComment=false\" @update=\"updatingComment=false; $emit('update')\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n      </v-layout>\n    </v-list-tile-sub-title>\n  </v-list-tile-content>\n</template>\n\n<script>\nimport BoardMixins from \"@/components/mixins/BoardMixins\";\nimport UserLink from '@/components/UserLink';\nimport CommentWriter from \"./CommentWriter\";\nimport Quill from \"quill\";\n\nexport default {\n  props: [\"comment\", \"commentIndex\", \"children\", \"reportTypes\", \"isBest\", \"isAnonymous\", \"allowAnonymous\", \"isCommentWritable\"],\n  mixins: [BoardMixins],\n  components:{\n    UserLink, CommentWriter\n  },\n  data () {\n    return {\n      updatingComment: false\n    }\n  },\n  methods: {\n    voteUp() {\n      this.$axios\n        .post(\"/vote/comment\", {commentId: this.comment.commentId}, {headers: {silent: true}})\n        .then(response => {\n          this.comment.voteUpCount = response.data.voteUpCount;\n        })\n        .catch(error => {\n          this.$store.dispatch(\"showSnackbar\", {text: `${error.response ? error.response.data.message : \"추천하지 못했습니다.\"}`, color: \"error\"});\n        });\n    },\n    deleteComment() {\n      this.$axios\n        .put(\"/comment\", {commentId: this.comment.commentId, isDeleted: true})\n        .then(response => {\n          this.comment.contents = '삭제된 댓글입니다.'\n          this.comment.isDeleted = true;\n          this.$store.dispatch(\"showSnackbar\", {text: \"댓글을 삭제하였습니다.\", color: \"success\"});\n        })\n        .catch(error => {\n          console.log(error);\n          this.$store.dispatch(\"showSnackbar\", {text: `${error.response ? error.response.data.message : \"댓글을 삭제하지 못했습니다.\"}`, color: \"error\"});\n        });\n    },\n    updateComment() {\n      this.updatingComment = true\n    },\n    reportComment(item) {\n      this.$axios\n        .post(\"/report/comment\", {commentId: this.comment.commentId, reportTypeId: item.reportTypeId})\n        .then(response => {\n          this.$store.dispatch(\"showSnackbar\", {text: \"댓글을 신고하였습니다.\", color: \"success\"});\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409) {\n            this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"댓글을 신고하지 못했습니다.\" : \"댓글을 신고하지 못했습니다.\", color: \"info\"});\n          } else {\n            console.log(error);\n            this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"댓글을 신고하지 못했습니다.\" : \"댓글을 신고하지 못했습니다.\", color: \"error\"});\n          }\n        });\n    },\n    deltaToHTML(delta) {\n      var tempCont = document.createElement(\"div\");\n      let quill = new Quill(tempCont);\n      delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty(\"image\")) {\n          if (this.comment.attach.some(x => x.attach_name === item.insert.image)) {\n            item.attributes = {\n              download: item.insert.image,\n              alt: item.insert.image\n            };\n            item.insert.image = this.webUrl + \"/\" + this.comment.attach.find(x => x.attach_name === item.insert.image).attach_path;\n            item.attributes.link = item.insert.image;\n          }\n        }\n      });\n      quill.setContents(delta);\n       // Clean spaces between tags\n      let newText = tempCont.getElementsByClassName(\"ql-editor\")[0].innerHTML.replace(/(<(pre|script|style|textarea)[^]+?<\\/\\2)|(^|>)\\s+|\\s+(?=<|$)/g, \"$1$3\")\n      \n      // Clean empty paragraphs before the content\n      // <p><br/><p> && <p></p>\n      let slicer;\n      while (newText.slice(0, 7) === '<p></p>' || newText.slice(0, 11) === '<p><br></p>') {\n        if (newText.slice(0,7) === '<p></p>') slicer = 7\n        else slicer = 11\n        newText = newText.substring(slicer, newText.length)\n      }\n    \n        // Clean empty paragraphs after the content\n      while (newText.slice(-7) === '<p></p>' || newText.slice(-11) === '<p><br></p>') {\n        if (newText.slice(-7) === '<p></p>') slicer = 7\n        else slicer = 11\n        newText = newText.substring(0, newText.length - slicer)\n      }\n      // Return the clean Text\n      return newText\n    },\n    getImagePath(imagePath) {\n      console.log(this.comment);\n      let attach = this.comment.attach;\n      return this.webUrl + attach.find(item => item.attachName === imagePath).attachPath;\n    }\n  }\n};\n</script>\n<style>\n.commentContents p {\n  margin-bottom: 3px;\n  word-break:break-all;\n}\n.commentContents p img {\n  max-width: 100%;\n}\n.commentContents .video-container{\n  position:relative;\n  height:0;\n  width:100%;\n  padding-bottom:56%;\n}\n.commentContents .video-container iframe{\n  position:absolute;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n}\n@media (max-width: 600px) {\n  .commentContents p img {\n    max-width: calc(100% + 32px);\n    margin-left: -16px;\n    margin-right: -16px;\n  }\n  .commentContents .video-container{\n    position:relative;\n    height:0;\n    width:calc(100% + 32px);\n    margin-left:-16px;\n    margin-right:-16px;\n    padding-bottom:56%;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=040f2036&\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-layout row>\n    <v-flex xs12>\n      <v-card class=\"mb-3 elevation-1\" flat v-if=\"best && best.length > 0\">\n        <v-list two-line class=\"commentList py-0\">\n          <template v-for=\"(item, index) in best\">\n            <v-list-tile :key=\"'best'+index\" class=\"bestComment\">\n              <comment-item :comment=\"item\" :commentIndex=\"index\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isBest=\"true\"/>\n            </v-list-tile>\n            <v-divider :key=\"'bestDivider'+index\"></v-divider>\n          </template>\n        </v-list>\n      </v-card>\n      <v-card>\n        <v-list two-line class=\"commentList py-0 pb-1\">\n          <template v-for=\"(item, index) in commentList\">\n            <v-list-tile :key=\"index\">\n              <comment-item :comment=\"item\" :commentIndex=\"index\" @openRecomment=\"openRecomment\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n            </v-list-tile>\n            <div :key=\"'child'+index\" v-if=\"item.children\">\n              <v-list-group v-model=\"item.active\" :key=\"item.title\" :prepend-icon=\"item.action\" no-action v-if=\"item.children.length > 5\">\n                <v-list-tile slot=\"activator\" avatar>\n                  <v-list-tile-action></v-list-tile-action>\n                  <v-list-tile-title class=\"text-xs-center\"><small>{{item.active?'답글 숨기기':'이전 '+(item.children.length - 5)+'개의 답글 펼치기'}}</small></v-list-tile-title>\n                </v-list-tile>\n                <div v-for=\"(childItem, childIndex) in item.children.filter((x, y) => y < (item.children.length - 5))\" :key=\"'hidden'+childIndex\">\n                  <v-divider inset/>\n                  <v-list-tile avatar>\n                    <v-list-tile-action></v-list-tile-action>\n                    <comment-item :comment=\"childItem\" :commentIndex=\"childIndex\" :children=\"true\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n                  </v-list-tile>\n                </div>\n              </v-list-group>\n              <template v-if=\"item.children.length > 5\">\n              </template>\n              <div v-for=\"(childItem, childIndex) in (item.children.length > 5 ? item.children.filter((x, y) => y >= (item.children.length - 5)) : item.children)\" :key=\"childIndex\">\n                <v-divider inset/>\n                <v-list-tile avatar>\n                  <v-list-tile-action></v-list-tile-action>\n                  <comment-item :comment=\"childItem\" :commentIndex=\"childIndex\" :children=\"true\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n                </v-list-tile>\n              </div>\n            </div>\n            <v-list-tile :key=\"'writer'+index\" v-if=\"openRecommentIndex === index\" class=\"pl-5\">\n              <CommentWriter :commentTo=\"item.commentId\" @update=\"getCommentList\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\" :boardId=\"boardId\"/>\n            </v-list-tile>\n            <v-divider :key=\"'divider'+index\"></v-divider>\n          </template>\n        </v-list>\n        <v-flex text-xs-center mt-2 xs12 v-if=\"pages > 1\">\n          <v-pagination id=\"commentPagination\" v-model=\"page\" :length=\"pages\" :total-visible=\"$vuetify.breakpoint.smAndUp?10:undefined\"></v-pagination>\n        </v-flex>\n        <div class=\"pt-2\">\n          <comment-writer @update=\"getCommentList\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n        </div>\n      </v-card>\n    </v-flex>\n  </v-layout>\n</template>\n<script>\nimport BoardMixins from \"@/components/mixins/BoardMixins\";\nimport CommentItem from \"./CommentItem\";\nimport CommentWriter from \"./CommentWriter\";\n\nexport default {\n  mixins: [BoardMixins],\n  components: {\n    CommentItem,\n    CommentWriter\n  },\n  props: [\"isAnonymous\", \"allowAnonymous\", \"isCommentWritable\", \"reportTypes\", \"boardId\", \"best\", \"pages\"],\n  data() {\n    return {\n      commentList: [],\n      openRecommentIndex: -1,\n      page:undefined\n    };\n  },\n  methods: {\n    getCommentList() {\n      console.log('getcomments')\n      this.openRecommentIndex = -1;\n      this.$axios\n        .get(\"/comment\", {params: {documentId: this.$route.params.documentId, page:this.page}, headers: {silent: true}})\n        .then(res => {\n          res.data.forEach(x => {\n            if (Array.isArray(x.attach)) {\n              x.attach = x.attach.filter(x => x);\n            }\n          });\n          this.commentList = res.data;\n        })\n        .catch(err => console.log(err));\n    },\n    openRecomment(commentIndex) {\n      if (this.openRecommentIndex === commentIndex) this.openRecommentIndex = -1;\n      else this.openRecommentIndex = commentIndex;\n    }\n  },\n  watch: {\n    \"$route.params\": {\n      handler() {\n        if(!this.page){\n          this.$nextTick(() => {\n            this.page = this.pages;\n          })\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    page(val){\n      this.getCommentList();\n    },\n    pages(val){\n      this.page = this.pages\n    }\n  }\n};\n</script>\n<style>\n.commentList .v-list__tile__title {\n  white-space: unset;\n  overflow: visible;\n  height: fit-content;\n}\n.commentList.v-list--two-line .v-list__tile {\n  height: fit-content;\n  padding: 8px 0;\n}\n.commentList .v-list__tile__content {\n  height: fit-content;\n  padding: 0 16px;\n}\n.commentList .bestComment{\n  background-color:#B3E5FC;\n}\n#commentPagination .v-pagination__item,\n#commentPagination .v-pagination__item--active,\n#commentPagination .v-pagination__navigation {\n  box-shadow: none;\n  margin: 0;\n  padding: 0;\n}\n#commentPagination .v-pagination__item--active {\n  color: black;\n  font-weight: bold;\n  background-color: white !important;\n  border-color: white !important;\n}\n.commentList.v-list .v-list__group--active:before, .commentList.v-list .v-list__group--active:after{\n  display:none;\n}\n@media(max-width:599px){\n  .commentList.theme--light.v-list .v-list__group__header:hover {\n    background-color:#fff;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewComments.vue?vue&type=template&id=d862564e&\"\nimport script from \"./ViewComments.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewComments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewComments.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-layout column v-if=\"document\">\n    <v-flex>\n      <v-card-title primary-title>\n        <div class=\"w-100\">\n          <router-link :to=\"'/'+document.boardId+'/'+document.documentId\" class=\"title mb-0 multi-row\">{{document.title}}</router-link>\n          <v-layout row mt-1>\n            <v-spacer/>\n            <v-flex text-xs-right>\n              <!--<span :class=\"{'font-weight-bold':document.nickName !== ''}\">{{document.nickName === ''? '(익명)' : document.nickName}}</span>-->\n              <user-link :nickName=\"document.nickName\" :boardType=\"board.boardType\"/>\n               | 댓글 {{document.commentCount}} | 조회 {{document.viewCount}} | {{$moment(document.writeDateTime, \"YYYYMMDDHHmmss\").format(\"Y.MM.DD HH:mm:ss\")}}\n            </v-flex>\n          </v-layout>\n        </div>\n      </v-card-title>\n    </v-flex>\n    <v-divider/>\n    <v-flex xs12>\n      <v-card-text class=\"px-0\">\n        <div v-html=\"documentHTML\" id=\"documentContents\" class=\"ql-editor py-0 px-3\"></div>\n      </v-card-text>\n    </v-flex>\n    <v-layout row justify-center v-if=\"document.hasSurvey && document.survey\">\n      <v-flex xs12 sm10 md8 mx-3>\n        <survey :currentSurvey=\"document.survey\"/>\n      </v-flex>\n    </v-layout>\n    <v-flex text-xs-center my-2>\n      <v-btn @click=\"voteDocument\" class=\"font-weight-bold short\">\n        <v-icon color=\"primary\" small>thumb_up</v-icon>&nbsp;\n        <span>{{document.voteUpCount}}</span>\n      </v-btn>\n    </v-flex>\n    <v-divider/>\n    <v-flex class=\"my-2\">\n      <v-layout row text-xs-right>\n        <v-flex pr-2>\n          <v-btn-toggle id=\"bottomBottons\">\n            <template v-if=\"document.attach && document.attach.some(x=>!x.insert)\">\n              <v-btn @click=\"showAttach=!showAttach\" title=\"첨부파일 보기\" :class=\"{'primary--text':showAttach}\">첨부파일({{document.attach.filter(x=>!x.insert).length}})</v-btn>\n            </template>\n            <v-btn class=\"short\" v-show=\"document.isWriter\" :to=\"`/${$route.params.boardId}/${document.documentId}/edit`\">\n              <span>수정</span>\n            </v-btn>\n            <v-btn class=\"short\" v-show=\"document.isWriter\" @click=\"deleteDocument\">삭제</v-btn>\n            <component :is=\"$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu'\" v-model=\"scrapMenu\" open-on-hover bottom lazy offset-y>\n              <v-btn slot=\"activator\" class=\"short\">스크랩</v-btn>\n              <v-list dense>\n                <div class=\"v-list__tile font-weight-bold\" @click.stop>스크랩 그룹 선택</div>\n                <v-list-tile v-for=\"item in scrapGroups\" :key=\"item.scrapGroupId\" @click=\"scrapDocument(item)\">\n                  <v-list-tile-title>{{ item.scrapGroupName }}</v-list-tile-title>\n                </v-list-tile>\n              </v-list>\n            </component>\n            <component :is=\"$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu'\" v-model=\"reportMenu\" open-on-hover bottom lazy offset-y>\n              <v-btn slot=\"activator\" class=\"short\" v-show=\"!document.isWriter\">신고</v-btn>\n              <v-list two-line>\n                <div class=\"font-weight-bold mx-3 my-2\" @click.stop>신고사유 선택</div>\n                <v-list-tile v-for=\"item in reportTypes\" :key=\"item.reportTypeId\" @click=\"reportDocument(item)\">\n                  <v-list-tile-content>\n                    <v-list-tile-title>{{ item.reportTypeName }}</v-list-tile-title>\n                    <v-list-tile-sub-title>{{item.reportTypeDescription}}</v-list-tile-sub-title>\n                  </v-list-tile-content>\n                </v-list-tile>\n              </v-list>\n            </component>\n          </v-btn-toggle>\n        </v-flex>\n      </v-layout>\n      <v-slide-y-transition>\n        <v-layout row v-show=\"showAttach\" mt-2 wrap>\n          <v-flex px-2 xs6 md4 xl2 :key=\"index\" v-for=\"(item, index) in document.attach.filter(x=>!x.insert)\">\n            <router-link :to=\"webUrl + '/' + item.attach_path\" target=\"_blank\" :download=\"item.attach_name\" class=\"ellipsis underline\">{{item.attach_name}}</router-link>\n          </v-flex>\n        </v-layout>\n      </v-slide-y-transition>\n    </v-flex>\n    <v-flex mb-4>\n      <ViewComments :isAnonymous=\"document.isWriter && document.nickName === ''\" :allowAnonymous=\"document.allowAnonymous\" :isCommentWritable=\"isCommentWritable\" :reportTypes=\"reportTypes\" :boardId=\"document.boardId\" :best=\"document.bestComments\" :pages=\"pages\"/>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\n// import LinkPrevue from '@/components/LinkPrevue'\nimport Survey from \"@/components/board/survey/Survey\";\nimport CommentWriter from \"@/components/board/CommentWriter\";\nimport UserLink from '@/components/UserLink';\nimport ViewComments from \"@/components/board/ViewComments\";\nimport BoardMixins from \"@/components/mixins/BoardMixins\";\nimport Quill from \"quill\";\n\nexport default {\n  props: [\"board\", \"boardId\", \"documentId\"],\n  data() {\n    return {\n      document: null,\n      documentHTML: null,\n      showAttach: false,\n      scrapGroups: null,\n      reportTypes: null,\n      currentBoard: null,\n      scrapMenu: false,\n      reportMenu: false\n    };\n  },\n  components: {\n    Survey,\n    CommentWriter,\n    ViewComments,\n    UserLink\n  },\n  mixins: [BoardMixins],\n  created() {\n    this.getScrapGroups();\n    this.getReportTypes();\n  },\n  computed: {\n    isCommentWritable() {\n      let board = this.board.boardId === this.document.boardId ? this.board : this.$store.getters.boards.find(x => x.boardId === this.document.boardId);\n      if (!board) {\n        return \"UNAVAILABLE\";\n      }\n\n      const profile = this.$store.getters.profile;\n      const userBoards = this.$store.getters.userBoards;\n      if (board.statusAuth.comment.includes(profile.auth)) {\n        if (board.boardType === \"T\") {\n          if (userBoards.some(x => x.boardId === board.boardId)) {\n            const userBoard = userBoards.find(x => x.boardId === board.boardId);\n            if (!userBoard.writeRestrictDate || this.$moment(userBoard.writeRestrictDate, \"YYYYMMDD\").isBefore(this.$moment())) {\n              return \"AVAILABLE\";\n            } else {\n              return \"RESTRICTED\";\n            }\n          } else {\n            //need subscription\n            if (board.allGroupAuth === \"READWRITE\" || board.allowedGroups.some(x => x === profile.region || x === profile.major || x === profile.grade || profile.groups.includes(x))) {\n              //i can subscribe this board!\n              return \"NEEDSUBSCRIPTION\";\n            } else {\n              return \"UNAVAILABLE\";\n            }\n          }\n        } else {\n          if (board.allowedGroups.some(x => x === profile.region || x === profile.major || x === profile.grade || profile.groups.includes(x))) {\n            if (userBoards.some(x => x.boardId === board.boardId)) {\n              const userBoard = userBoards.find(x => x.boardId === board.boardId);\n              if (!userBoard.writeRestrictDate || this.$moment(userBoard.writeRestrictDate, \"YYYYMMDD\").isBefore(this.$moment())) {\n                return \"AVAILABLE\";\n              } else {\n                return \"RESTRICTED\";\n              }\n            } else {\n              return \"AVAILABLE\";\n            }\n          } else {\n            return \"UNAVAILABLE\";\n          }\n        }\n      } else {\n        return \"UNAVAILABLE\";\n      }\n    },\n    pages() {\n      return this.document.commentCount === 0? 1 : Math.ceil(this.document.commentCount / (process.env.NODE_ENV === 'development'?10:100));\n    }\n  },\n  methods: {\n    getDocument: function() {\n      this.$axios\n        .get(`/${this.boardId}/${this.documentId}`)\n        .then(response => {\n          if (Array.isArray(response.data.attach)) {\n            response.data.attach = response.data.attach.filter(x => x !== null);\n          }\n          this.document = response.data;\n          this.documentHTML = this.document.isDeleted?this.document.contents:this.deltaToHTML(JSON.parse(this.document.contents));\n          this.showAttach = false;\n          this.$emit(\"update:documentBoardId\", this.document.boardId);\n        })\n        .catch(error => {\n          console.log(error);\n          this.$router.replace(\"/error?error=\" + (error && error.response ? error.response.status || \"404\" : \"404\"));\n        });\n    },\n    deleteDocument() {\n      if (confirm(\"이 글을 삭제하시겠습니까?\")) {\n        this.$axios\n          .put(\"/document\", {documentId: this.documentId, isDeleted: true})\n          .then(response => {\n            this.$store.dispatch(\"showSnackbar\", {text: \"글을 삭제하였습니다.\", color: \"success\"});\n            this.$router.push(`/${this.boardId}`);\n          })\n          .catch(error => {\n            this.$store.dispatch(\"showSnackbar\", {text: `${error.response ? error.response.data.message : \"글을 삭제하지 못했습니다.\"}`, color: \"error\"});\n          });\n      }\n    },\n    voteDocument() {\n      this.$axios\n        .post(\"/vote/document\", {documentId: this.$route.params.documentId}, {headers: {silent: true}})\n        .then(res => {\n          this.document.voteUpCount = res.data.voteUpCount;\n        })\n        .catch(error => {\n          console.log(error.response);\n          this.$store.dispatch(\"showSnackbar\", {text: `${error.response ? error.response.data.message : \"추천하지 못했습니다.\"}`, color: \"error\"});\n        });\n    },\n    deltaToHTML(delta) {\n      let tempCont = document.createElement(\"div\");\n      let quill = new Quill(tempCont);\n      let image;\n      delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty(\"image\")) {\n          image = this.document.attach.find(x => x.attach_name === item.insert.image);\n          if (image) {\n            image.insert = true;\n            item.attributes = {\n              download: item.insert.image,\n              alt: item.insert.image\n            };\n            item.insert.image = this.webUrl + \"/\" + image.attach_path\n            /*item.insert.image = {\n              src: this.webUrl + \"/\" + image.attach_path,\n              download: item.insert.image,\n              alt: item.insert.image\n            }*/\n            item.attributes.link = item.insert.image;\n          }\n        }\n      });\n      quill.setContents(delta);\n      // Clean spaces between tags\n      let newText = tempCont.getElementsByClassName(\"ql-editor\")[0].innerHTML.replace(/(<(pre|script|style|textarea)[^]+?<\\/\\2)|(^|>)\\s+|\\s+(?=<|$)/g, \"$1$3\")\n      \n      // Clean empty paragraphs before the content\n      // <p><br/><p> && <p></p>\n      let slicer;\n      while (newText.slice(0, 7) === '<p></p>' || newText.slice(0, 11) === '<p><br></p>') {\n        if (newText.slice(0,7) === '<p></p>') slicer = 7\n        else slicer = 11\n        newText = newText.substring(slicer, newText.length)\n      }\n    \n      // Clean empty paragraphs after the content\n      while (newText.slice(-7) === '<p></p>' || newText.slice(-11) === '<p><br></p>') {\n        if (newText.slice(-7) === '<p></p>') slicer = 7\n        else slicer = 11\n        newText = newText.substring(0, newText.length - slicer)\n      }\n      // Return the clean Text\n      return newText\n    },\n    saveddocument(to, from) {\n      let href = to.match(/\\bhttps?:\\/\\/\\S+/gi);\n      if (href) {\n        this.link = href[0].substr(0, href[0].indexOf(\"<\"));\n        console.log(this.link);\n      }\n    },\n    reportDocument(item) {\n      this.$axios\n        .post(\"/report/document\", {documentId: this.document.documentId, reportTypeId: item.reportTypeId})\n        .then(response => {\n          this.reportMenu = false;\n          this.$store.dispatch(\"showSnackbar\", {text: \"이 글을 신고하였습니다.\", color: \"success\"});\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409) {\n            this.reportMenu = false;\n            this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"글을 신고하지 못했습니다.\" : \"글을 신고하지 못했습니다.\", color: \"info\"});\n          } else {\n            console.log(error);\n            this.reportMenu = false;\n            this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"글을 신고하지 못했습니다.\" : \"글을 신고하지 못했습니다.\", color: \"error\"});\n          }\n        });\n    },\n    scrapDocument(item) {\n      this.$axios\n        .post(\"/scrap\", {scrapGroupId: item.scrapGroupId, documentId: this.document.documentId})\n        .then(response => {\n          this.scrapMenu = false;\n          this.$store.dispatch(\"showSnackbar\", {text: \"이 글을 스크랩하였습니다.\", color: \"success\"});\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409) {\n            this.scrapMenu = false;\n            this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"스크랩에 추가하지 못했습니다.\" : \"스크랩에 추가하지 못했습니다.\", color: \"info\"});\n          } else {\n            console.log(error);\n            this.scrapMenu = false;\n            this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"스크랩에 추가하지 못했습니다.\" : \"스크랩에 추가하지 못했습니다.\", color: \"error\"});\n          }\n        });\n    },\n    getScrapGroups() {\n      if (!this.scrapGroups) {\n        if (this.$store.getters.scrapGroups) {\n          this.scrapGroups = this.$store.getters.scrapGroups;\n        } else {\n          this.$axios\n            .get(\"/scrap/group\", {headers: {silent: true}})\n            .then(response => {\n              this.$store.dispatch(\"setScrapGroups\", response.data);\n              this.scrapGroups = response.data;\n            })\n            .catch(error => {\n              console.log(error);\n              this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"스크랩 그룹 목록을 가져오지 못했습니다.\" : \"스크랩 그룹 목록을 가져오지 못했습니다.\", color: \"error\"});\n            });\n        }\n      }\n    },\n    getReportTypes() {\n      if (!this.reportTypes) {\n        if (this.$store.getters.reportTypes) {\n          this.reportTypes = this.$store.getters.reportTypes;\n        } else {\n          this.$axios\n            .get(\"/report/type\", {headers: {silent: true}})\n            .then(response => {\n              this.$store.dispatch(\"setReportTypes\", response.data);\n              this.reportTypes = response.data;\n            })\n            .catch(error => {\n              console.log(error);\n              this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"신고 타입을 가져오지 못했습니다.\" : \"신고 타입을 가져오지 못했습니다.\", color: \"error\"});\n            });\n        }\n      }\n    }\n  },\n  watch: {\n    \"$route.params\": {\n      handler() {\n        this.getDocument();\n      },\n      deep: true,\n      immediate: true\n    }\n  }\n};\n</script>\n<style>\n#bottomBottons .v-btn {\n  opacity: 1;\n  font-weight: bold;\n}\n#documentContents p img, #documentContents img {\n  max-width: 100%;\n}\n#documentContents .video-container{\n  position:relative;\n  height:0;\n  width:100%;\n  padding-bottom:56%;\n}\n#documentContents .video-container iframe{\n  position:absolute;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n}\n@media (max-width: 600px) {\n  #documentContents p img, #documentContents img {\n    max-width: calc(100% + 32px);\n    margin-left: -16px;\n    margin-right: -16px;\n  }\n  #documentContents .video-container{\n    position:relative;\n    height:0;\n    width:calc(100% + 32px);\n    margin-left:-16px;\n    margin-right:-16px;\n    padding-bottom:56%;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewDocument.vue?vue&type=template&id=1e68aaf5&\"\nimport script from \"./ViewDocument.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewDocument.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewDocument.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}