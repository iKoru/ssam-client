(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-369ab7b7"],{2558:function(t,e,s){},3962:function(t,e,s){},"437a":function(t,e,s){"use strict";var o=s("2558"),a=s.n(o);a.a},"4bc5":function(t,e,s){},5185:function(t,e,s){"use strict";var o=s("8d4f"),a=s.n(o);a.a},5347:function(t,e,s){"use strict";var o=s("c1df"),a=s.n(o);const r={data(){return{boardTypeItems:{T:"토픽",L:"라운지",D:"아카이브",X:"게시판",E:"전직교사",N:"예비교사"},webUrl:"https://pedagy.com"}},methods:{uuid(){let t=()=>{return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},dataURItoBlob(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var s=t.split(",")[0].split(":")[1].split(";")[0],o=new Uint8Array(e.length),a=0;a<e.length;a++)o[a]=e.charCodeAt(a);return new Blob([o],{type:s})},timeParser(t){return a()(t,"YYYYMMDDHHmmss").fromNow()}}};e["a"]=r},"53c0":function(t,e,s){t.exports=s.p+"img/defaultUser.8cc93c28.png"},"5ae1":function(t,e,s){},"88dd":function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.survey?s("v-layout",{staticClass:"border-light py-2",attrs:{column:""}},[s("v-flex",[s("v-layout",{attrs:{row:"","align-center":"","mx-2":""}},[t.onlyView?s("span",{staticClass:"subheading"},[t._v("글 작성 후에 수정/삭제가 불가능합니다.")]):s("span",{staticClass:"subheading"},[t._v("설문조사")]),s("v-spacer"),s("span",{directives:[{name:"show",rawName:"v-show",value:t.finalResults,expression:"finalResults"}],staticStyle:{"white-space":"nowrap"}},[t._v("\n        "+t._s(t.survey.participants)+"명 참여\n      ")])],1)],1),t._l(t.survey.surveyContents.questions,function(e,o){return s("v-flex",{key:o,staticClass:"px-3 pt-2"},[s("div",{attrs:{id:"poll"}},[s("div",{staticClass:"font-weight-bold body-2 mb-2"},[t._v(t._s(o+1+". "+e.title)),e.allowMultipleChoice?s("small",{staticClass:"grey--text lighten-1"},[t._v("(복수응답)")]):t._e()]),s("div",{staticClass:"ans-cnt"},t._l(e.choices,function(a,r){return s("div",{key:r,staticClass:"ans"},[t.finalResults?[s("div",{class:{"ans-voted final multi-row":!0,selected:a.selected,"font-weight-bold":e.mostVotes==a.votes}},[a.percent?s("span",{staticClass:"percent"},[t._v(t._s(a.percent))]):t._e(),s("span",{staticClass:"txt"},[t._v(t._s(a.text))])]),s("span",{staticClass:"bg",style:{width:a.percent}})]:[s("div",{class:{"ans-no-vote multi-row":!0,active:a.selected},on:{click:function(e){return t.handleVote(o,a)}}},[s("span",{staticClass:"txt"},[t._v(t._s(a.text))])]),s("span",{staticClass:"bg"})]],2)}),0)]),o+1!==t.survey.surveyContents.questions.length?s("v-divider",{key:"divider"+o,staticClass:"mt-3"}):t._e()],1)}),t.survey.participated||t.onlyView?t._e():s("v-flex",[s("v-layout",{attrs:{"justify-center":"","my-2":""}},[s("v-btn",{attrs:{small:""},on:{click:function(e){t.showSurveyResult=!t.showSurveyResult}}},[t._v("\n        "+t._s(t.showSurveyResult?"돌아가기":"결과보기")+"\n      ")]),s("v-btn",{attrs:{small:"",color:"primary",disabled:t.finalResults},on:{click:t.completeSurvey}},[t._v("응답하기")])],1)],1)],2):t._e()},a=[],r={props:["currentSurvey","onlyView"],data(){return{showSurveyResult:!1,survey:null}},created(){this.survey=this.formatSurvey(this.currentSurvey)},computed:{finalResults(){return this.survey.participated||this.showSurveyResult}},methods:{formatSurvey(t){let e=t.surveyAnswers;return t.surveyContents.questions.forEach((t,s)=>{let o=[],a=0,r=0;t.choices.forEach((t,n)=>{e.length>s?(o.push({text:t,selected:!1,votes:e[s][n]}),e[s][n]>a&&(a=e[s][n]),r+=e[s][n]):o.push({text:t,selected:!1,votes:0})}),t.mostVotes=a,t.totalVotes=r,0===r?o.forEach(t=>{t.percent="0%"}):o.forEach(t=>{t.percent=!isNaN(t.votes)&&t.votes>0?Math.round(parseInt(t.votes)/r*100)+"%":"0%"}),t.choices=o}),t},getAnswerArray(t){let e=[];return t.forEach(t=>{if(t.allowMultipleChoice){let s=[];t.choices.forEach((t,e)=>{t.selected&&s.push(e)}),e.push(s)}else e.push(t.choices.findIndex(t=>t.selected))}),e},completeSurvey(){if(this.survey.surveyContents.questions.every(t=>t.choices.some(t=>t.selected))){if(this.survey.participated)return void this.$store.dispatch("showSnackbar",{text:"이미 참여한 설문입니다.",color:"info"});let t=this.getAnswerArray(this.survey.surveyContents.questions);this.$axios.post("/survey",{documentId:this.$route.params.documentId,answer:t}).then(t=>{console.log(t),t.data.survey?(this.survey=this.formatSurvey(t.data.survey),this.showSurveyResult=!0):this.$axios.get(`/${this.$route.params.boardId}/${this.$route.params.documentId}`).then(t=>{this.survey=this.formatSurvey(t.data.survey),console.log(this.survey),this.showSurveyResult=!0}).catch(t=>{console.log(t)})}).catch(t=>{t.response&&409===t.response.status?this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"설문 응답을 등록하지 못했습니다.",color:"info"}):this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"설문 응답을 등록하지 못했습니다.",color:"error"})})}else this.$store.dispatch("showSnackbar",{text:this.survey.surveyContents.questions.findIndex(t=>!t.choices.some(t=>t.selected))+1+"번 질문의 응답을 선택해주세요.",color:"warning"})},handleVote(t,e){this.survey.surveyContents.questions[t].allowMultipleChoice||e.selected||this.survey.surveyContents.questions[t].choices.forEach(t=>t.selected=!1),e.selected=!e.selected}}},n=r,i=(s("437a"),s("0c7c")),c=Object(i["a"])(n,o,a,!1,null,null,null);e["a"]=c.exports},"8a1f":function(t,e,s){"use strict";var o=s("5ae1"),a=s.n(o);a.a},"8aeb":function(t,e,s){"use strict";var o=s("3962"),a=s.n(o);a.a},"8d4f":function(t,e,s){},bd5c:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.document?s("v-layout",{attrs:{column:""}},[s("v-flex",[s("v-card-title",{attrs:{"primary-title":""}},[s("div",{staticClass:"w-100"},[s("router-link",{staticClass:"title mb-0 multi-row",attrs:{to:"/"+t.document.boardId+"/"+t.documentId}},[t._v(t._s(t.document.title))]),s("v-layout",{attrs:{row:"","mt-1":""}},[s("v-spacer"),s("v-flex",{attrs:{"text-xs-right":""}},[s("user-link",{attrs:{nickName:t.document.nickName,boardType:t.board.boardType}}),t._v("\n            | 댓글 "+t._s(t.document.commentCount)+" | 조회 "+t._s(t.document.viewCount)+" | "+t._s(t.$moment(t.document.writeDateTime,"YYYYMMDDHHmmss").format("Y.MM.DD HH:mm:ss"))+"\n          ")],1)],1)],1)])],1),s("v-divider"),s("v-flex",{attrs:{xs12:""}},[s("v-card-text",{staticClass:"px-0"},[s("div",{staticClass:"ql-editor py-0 px-3",attrs:{id:"documentContents"},domProps:{innerHTML:t._s(t.documentHTML)}})])],1),t.document.hasSurvey&&t.document.survey?s("v-layout",{attrs:{row:"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm10:"",md8:"","mx-3":""}},[s("survey",{attrs:{currentSurvey:t.document.survey}})],1)],1):t._e(),s("v-flex",{attrs:{"text-xs-center":"","my-2":""}},[s("v-btn",{staticClass:"font-weight-bold short",on:{click:t.voteDocument}},[s("v-icon",{attrs:{color:"primary",small:""}},[t._v("thumb_up")]),t._v(" \n      "),s("span",[t._v(t._s(t.document.voteUpCount))])],1)],1),s("v-divider"),s("v-flex",{staticClass:"my-2"},[s("v-layout",{attrs:{row:""}},[t.board.isOwner?s("v-flex",[t.board.notices.indexOf(t.documentId)>=0?s("v-btn",{staticClass:"ma-0 px-2 short",on:{click:function(e){return t.setNotice(!1)}}},[t._v("공지해제")]):s("v-btn",{staticClass:"ma-0 px-2 short",on:{click:function(e){return t.setNotice(!0)}}},[t._v("공지지정")])],1):t._e(),s("v-spacer"),s("v-flex",{attrs:{"pr-2":"","text-xs-right":""}},[s("v-btn-toggle",{attrs:{id:"bottomBottons"}},[t.document.attach&&t.document.attach.some(function(t){return!t.insert})?[s("v-btn",{class:{"primary--text":t.showAttach},attrs:{title:"첨부파일 보기"},on:{click:function(e){t.showAttach=!t.showAttach}}},[t._v("첨부파일("+t._s(t.document.attach.filter(function(t){return!t.insert}).length)+")")])]:t._e(),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.document.isWriter,expression:"document.isWriter"}],staticClass:"short",attrs:{to:"/"+t.$route.params.boardId+"/"+t.document.documentId+"/edit"}},[s("span",[t._v("수정")])]),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.document.isWriter,expression:"document.isWriter"}],staticClass:"short",on:{click:t.deleteDocument}},[t._v("삭제")]),s(t.$vuetify.breakpoint.xsOnly?"v-bottom-sheet":"v-menu",{tag:"component",attrs:{"open-on-hover":"",bottom:"",lazy:"","offset-y":""},model:{value:t.scrapMenu,callback:function(e){t.scrapMenu=e},expression:"scrapMenu"}},[s("v-btn",{staticClass:"short",attrs:{slot:"activator"},slot:"activator"},[t._v("스크랩")]),s("v-list",{attrs:{dense:""}},[s("div",{staticClass:"v-list__tile font-weight-bold",on:{click:function(t){t.stopPropagation()}}},[t._v("스크랩 그룹 선택")]),t._l(t.scrapGroups,function(e){return s("v-list-tile",{key:e.scrapGroupId,on:{click:function(s){return t.scrapDocument(e)}}},[s("v-list-tile-title",[t._v(t._s(e.scrapGroupName))])],1)})],2)],1),s(t.$vuetify.breakpoint.xsOnly?"v-bottom-sheet":"v-menu",{tag:"component",attrs:{"open-on-hover":"",bottom:"",lazy:"","offset-y":""},model:{value:t.reportMenu,callback:function(e){t.reportMenu=e},expression:"reportMenu"}},[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.document.isWriter,expression:"!document.isWriter"}],staticClass:"short",attrs:{slot:"activator"},slot:"activator"},[t._v("신고")]),s("v-list",{attrs:{"two-line":""}},[s("div",{staticClass:"font-weight-bold mx-3 my-2",on:{click:function(t){t.stopPropagation()}}},[t._v("신고사유 선택")]),t._l(t.reportTypes,function(e){return s("v-list-tile",{key:e.reportTypeId,on:{click:function(s){return t.reportDocument(e)}}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.reportTypeName))]),s("v-list-tile-sub-title",[t._v(t._s(e.reportTypeDescription))])],1)],1)})],2)],1)],2)],1)],1),s("v-slide-y-transition",[s("v-layout",{attrs:{column:""}},[s("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.showAttach,expression:"showAttach"}],attrs:{row:"","mt-2":"",wrap:""}},t._l(t.document.attach.filter(function(t){return!t.insert}),function(e,o){return s("v-flex",{key:o,attrs:{"px-2":"",xs6:"",md4:"",xl2:""}},[s("router-link",{staticClass:"ellipsis underline",attrs:{to:t.webUrl+"/"+e.attach_path,target:"_blank",download:e.attach_name}},[t._v(t._s(e.attach_name))])],1)}),1),s("v-divider",{directives:[{name:"show",rawName:"v-show",value:t.showAttach,expression:"showAttach"}],staticClass:"mb-2"})],1)],1)],1),s("v-flex",{attrs:{"mb-4":""}},[s("ViewComments",{attrs:{isAnonymous:t.document.isWriter&&""===t.document.nickName,allowAnonymous:t.document.allowAnonymous,isCommentWritable:t.isCommentWritable,reportTypes:t.reportTypes,boardId:t.document.boardId,best:t.document.bestComments,pages:t.pages}})],1)],1):t._e()},a=[],r=s("88dd"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{column:"","px-3":""}},[s("v-flex",{staticClass:"comment-editor"},[s("quill-editor",{ref:"commentEditor",attrs:{options:t.editorOption},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),s("v-flex",[s("v-layout",{attrs:{row:"","align-center":"","py-2":""}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.allowAnonymous,expression:"allowAnonymous"}],staticClass:"ml-3"},[s("v-checkbox",{staticClass:"pt-0 mt-0",attrs:{"hide-details":"",label:"익명",disabled:"AVAILABLE"!==t.isCommentWritable&&"NEEDSUBSCRIPTION"!==t.isCommentWritable},model:{value:t.anonymous,callback:function(e){t.anonymous=e},expression:"anonymous"}})],1),s("v-btn",{class:{"my-0":!0,"ml-0":!t.allowAnonymous},attrs:{flat:"",disabled:"AVAILABLE"!==t.isCommentWritable&&"NEEDSUBSCRIPTION"!==t.isCommentWritable},on:{click:t.selectImage}},[s("v-icon",[t._v("image")]),t._v("이미지\n      ")],1),s("v-spacer"),s("v-btn",{staticClass:"short",attrs:{small:"",depressed:"",color:"primary",disabled:"AVAILABLE"!==t.isCommentWritable&&"NEEDSUBSCRIPTION"!==t.isCommentWritable,loading:t.loading},on:{click:t.postComment}},[t._v("\n        "+t._s(t.defaultComment?"수정":"등록")+"\n      ")]),t.defaultComment?s("v-btn",{staticClass:"short",attrs:{small:"",depressed:"",color:"default"},on:{click:function(e){return t.$emit("revokeUpdate")}}},[t._v("취소")]):t._e()],1)],1)],1)},i=[],c=s("5347"),l={name:"WriteComment",mixins:[c["a"]],props:["commentTo","isAnonymous","allowAnonymous","isCommentWritable","boardId","defaultComment"],data(){return{editorOption:{placeholder:"AVAILABLE"===this.isCommentWritable?"댓글을 입력해주세요.":"UNAVAILABLE"===this.isCommentWritable?"댓글을 작성할 수 있는 권한이 없습니다.":"RESTRICTED"===this.isCommentWritable?"글쓰기가 제한되어 있습니다.":"DELETED"===this.isCommentWritable?"삭제된 글입니다.":"토픽 구독 후 입력된 댓글이 등록됩니다.",modules:{magicUrl:{urlRegularExpression:/(https?:\/\/[\S]+)|(www.[\S]+)|([\S]+.(?:com|kr|org|io|net|me))/,globalRegularExpression:/(https?:\/\/[\S]+)|(www.[\S]+)|([\S]+.(?:com|kr|org|io|net|me))/,normalizeRegularExpression:/(https?:\/\/[\S]+)|(www.[\S]+)|([\S]+.(?:com|kr|org|io|net|me))/},toolbar:void 0,imageDrop:!0,imageResize:!0},formData:void 0,theme:"bubble"},content:"",anonymous:!0|this.isAnonymous,originImages:[],loading:!1}},components:{},mounted(){if(this.defaultComment){console.log(this.defaultComment);let t=JSON.parse(this.defaultComment.contents);if(console.log(t),this.defaultComment.attach){let e;t.ops.forEach(t=>{t.insert.hasOwnProperty("image")&&(e=this.defaultComment.attach.find(e=>e.attach_name===t.insert.image),console.log(e),e&&(e.insert=!0,t.insert.image=this.webUrl+"/"+e.attach_path))})}console.log(t),this.$refs.commentEditor.quill.setContents(t)}},methods:{onEditorChange(t){t.quill;let e=t.html;t.text;this.content=e},selectImage(){const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.click(),t.onchange=(()=>{const e=t.files[0];var s=new FileReader;s.readAsDataURL(e),s.onload=(()=>{if(/^image\//.test(e.type)){let t=this.$refs.commentEditor,e=t.quill.getSelection();console.log(e),t.quill.insertEmbed(null==e?t.quill.getLength():e.index,"image",s.result)}else this.$store.dispatch("showSnackbar",{text:"이미지 파일만 업로드할 수 있습니다.",color:"error"})}),s.onerror=function(t){console.log("Error: ",t)}})},attachImages(){return this.$refs.commentEditor.quill.editor.delta.ops.forEach(t=>{if(t.insert.hasOwnProperty("image")&&t.insert.image.includes("data:image")){let e=t.insert.image,s=this.uuid()+"."+e.substring("data:image/".length,e.indexOf(";base64"));this.formData.append("attach",this.dataURItoBlob(e),s),t.insert.image=s,this.originImages.push({name:s,src:e})}})},revertImages(){this.$refs.commentEditor.quill.editor.delta.ops.forEach(t=>{if(t.insert.hasOwnProperty("image")){let e=t.insert.image;t.insert.image=this.originImages.find(t=>t.name===e).src}}),this.originImages=[]},async postComment(){if(this.loading=!0,"NEEDSUBSCRIPTION"===this.isCommentWritable){try{await this.$axios.post("/user/board",{boardId:this.boardId},{headers:{silent:!0}})}catch(t){if(!t.response||409!==t.response.status)return this.loading=!1,void this.$store.dispatch("showSnackbar",{text:`${t&&t.response&&t.response.data&&t.response.data.message||"댓글을 쓰기 위한 구독을 하지 못했습니다."}`,color:"error"})}this.$store.dispatch("addUserBoard",Object.assign({},this.$store.getters.boards.find(t=>t.boardId===this.boardId))),this.$store.dispatch("showSnackbar",{text:`${this.$store.getters.boards.find(t=>t.boardId===this.boardId).boardName} 토픽을 구독하였습니다.`,color:"info"})}this.content&&""!==this.content.trim()?(this.formData||(this.formData=new FormData),await this.attachImages(),this.defaultComment?await this.updateComment():(this.formData.append("documentId",this.$route.params.documentId),this.formData.append("contents",JSON.stringify(this.$refs.commentEditor.quill.editor.delta)),this.formData.append("isAnonymous",this.anonymous),this.commentTo&&this.formData.append("parentCommentId",this.commentTo),this.$axios.post("/comment",this.formData,{headers:{silent:!0}}).then(t=>{this.$refs.commentEditor.quill.setText(""),this.revertImages(),this.loading=!1,this.$emit("update"),delete this.formData}).catch(t=>{console.log(t),delete this.formData,this.revertImages(),this.loading=!1,this.$store.dispatch("showSnackbar",{text:`${t.response?t.response.data.message:"댓글을 등록하지 못했습니다."}`,color:"error"})}))):this.$store.dispatch("showSnackbar",{text:"댓글 내용을 입력해주세요.",color:"error"})},async updateComment(){if(confirm("댓글을 수정하시겠습니까?"))try{this.formData||(this.formData=new FormData),this.defaultComment.parentCommentId&&this.formData.append("parentCommentId",this.defaultComment.parentCommentId),this.formData.append("documentId",this.$route.params.documentId),this.formData.append("commentId",this.defaultComment.commentId),await this.attachImages(),await this.processFileChange();let e={documentId:this.$route.params.documentId,commentId:this.defaultComment.commentId,contents:JSON.stringify(this.$refs.commentEditor.quill.editor.delta)};return console.log(e),this.$axios.put("/comment",e).then(t=>{this.loading=!1,200===t.status&&(console.log(t),this.$store.dispatch("showSnackbar",{text:"댓글을 수정하였습니다",color:"success"}),this.$emit("update"))}).catch(t=>{this.loading=!1,this.$store.dispatch("showSnackbar",{text:"댓글 수정에 실패했습니다. 다시 시도해주세요",color:"error"}),console.log(t.response)})}catch(t){this.loading=!1,console.log(t),this.$store.dispatch("showSnackbar",{text:"댓글 수정에 실패했습니다. 다시 시도해주세요",color:"error"}),this.revertImages(),delete this.formData}else this.loading=!1},async processFileChange(){let t,e,s=this.defaultComment.attach.filter(t=>null!==t),o=this.$refs.commentEditor.quill.editor.delta.ops.map(t=>{if(t.insert.hasOwnProperty("image")&&t.insert.image.startsWith("/attach"))return s.find(e=>t.insert.image==="/"+e.attach_path).attach_id});s.forEach(e=>{e.insert&&!o.filter(t=>void 0!==t).includes(e.attach_id)&&(t=this.$axios.delete(`/comment/attach/${this.documentId}/${e.attach_id}`).then(t=>{200===t.status&&console.log(t)}).catch(t=>{console.log(t.response)}))});let a=0;for(let r of this.formData.entries())"attach"===r[0]&&(a+=1);a>0&&(e=this.$axios.post("/comment/attach",this.formData).then(t=>{200===t.status&&console.log(t)}).catch(t=>{console.log(t.response)})),await Promise.all([t,e]).then(t=>{console.log(t)}).catch(t=>{console.log(t),this.$store.dispatch("showSnackbar",{text:" 댓글 수정에 실패했습니다. 다시 시도해주세요",color:"error"})})}}},m=l,d=(s("8aeb"),s("0c7c")),u=Object(d["a"])(m,n,i,!1,null,null,null),h=u.exports,p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"d-inline-flex"},[""!==t.nickName?[o(t.$vuetify.breakpoint.xsOnly?"v-bottom-sheet":"v-menu",{tag:"component",attrs:{"open-on-hover":"",bottom:"",lazy:"","offset-y":""},model:{value:t.userLinkMenu,callback:function(e){t.userLinkMenu=e},expression:"userLinkMenu"}},[o("span",{staticClass:"cursor-pointer font-weight-bold body--text",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.nickName))]),o("v-list",{attrs:{dense:""}},["T"!==t.boardType?o("v-list-tile",{on:{click:t.showProfile}},[o("v-list-tile-title",[t._v("\n            프로필보기\n          ")])],1):t._e(),o("v-list-tile",{on:{click:t.sendMessage}},[o("v-list-tile-title",[t._v("\n            메시지 보내기\n          ")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[o("span",[t._v("프로필")]),o("v-spacer"),o("v-icon",{on:{click:function(e){t.dialog=!1}}},[t._v("close")])],1),o("v-card-text",[o("v-flex",{attrs:{xs12:""}},[o("div",{staticClass:"text-xs-center justify-center align-center"},[o("p",[o("v-avatar",{attrs:{size:"200"}},[o("img",{attrs:{src:t.profile.picturePath?t.webUrl+t.profile.picturePath:s("53c0"),alt:"프로필 이미지"}})])],1),o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs4:""}},[o("v-subheader",[t._v("라운지 필명")])],1),o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"v-subheader"},[t._v(t._s(t.profile.nickName))])]),o("v-flex",{attrs:{xs4:""}},[o("v-subheader",[t._v("회원 구분")])],1),o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"v-subheader"},[t._v(t._s(t.userAuthItems[t.profile.auth]))])]),t.profile.isOpenInfo?[o("v-flex",{attrs:{xs4:""}},[o("v-subheader",[t._v("지역")])],1),o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"v-subheader"},[t._v(t._s(t.profile.region&&t.groupItems.some(function(e){return e.value===t.profile.region})?t.groupItems.find(function(e){return e.value===t.profile.region}).text:"지역정보 없음"))])]),o("v-flex",{attrs:{xs4:""}},[o("v-subheader",[t._v("전공")])],1),o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"v-subheader"},[t._v(t._s(t.profile.major&&t.groupItems.some(function(e){return e.value===t.profile.major})?t.groupItems.find(function(e){return e.value===t.profile.major}).text:"전공정보 없음"))])]),o("v-flex",{attrs:{xs4:""}},[o("v-subheader",[t._v("학년")])],1),o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"v-subheader"},[t._v(t._s(t.profile.grade&&t.groupItems.some(function(e){return e.value===t.profile.grade})?t.groupItems.find(function(e){return e.value===t.profile.grade}).text:"학년정보 없음"))])])]:o("div",{staticClass:"text-xs-center flex mt-3"},[t._v("상세 프로필이 비공개로 설정되어 있습니다.")])],2)],1)])],1),o("v-card-actions",[o("v-layout",{attrs:{row:"","text-xs-center":""}},[o("v-spacer"),o("v-btn",{on:{click:t.sendMessage}},[t._v("메시지 보내기")]),o("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("닫기")])],1)],1)],1)],1)]:o("span",{staticClass:"grey--text lighten-1"},[t._v("익명")])],2)},v=[];const g={M:"전공",G:"학년",N:"일반",R:"지역",Z:"인증"};var f={name:"UserLink",props:["nickName","boardType"],data(){return{userLinkMenu:!1,dialog:!1,profile:{},groupItems:[],userAuthItems:{N:"예비교사(미인증)",A:"현직교사(인증)",E:"전직교사(인증 만료)",D:"인증제한"}}},mixins:[c["a"]],methods:{sendMessage(){this.$axios.post("/message/list",{nickName:this.nickName,chatType:"T"===this.boardType?"T":"L"}).then(t=>{this.$router.push("/message?chatId="+t.data.chatId)}).catch(t=>{t.response&&409===t.response.status&&t.response.data.chatId?this.$router.push("/message?chatId="+t.response.data.chatId):(console.log(t),this.$store.dispatch("showSnackbar",{text:`${t.response?t.response.data.message:"채팅을 만들지 못했습니다."}`,color:"error"}))})},showProfile(){this.profile&&this.profile.nickName===this.nickName?this.dialog=!0:this.$axios.get("/profile",{params:{nickName:this.nickName}}).then(t=>{this.profile=t.data,this.dialog=!0}).catch(t=>{console.log(t),this.$store.dispatch("showSnackbar",{text:`${t.response?t.response.data.message:"프로필을 불러오지 못했습니다."}`,color:"error"})})}},created(){this.$store.getters.groups?this.groupItems=this.$store.getters.groups:this.$axios.get("/group",{headers:{silent:!0}}).then(t=>{t.data.forEach(t=>{"N"!==t.groupType&&"D"!==t.groupType&&"E"!==t.groupType||(t.groupType="Z")}),this.groupItems=t.data.sort((t,e)=>t.groupType<e.groupType?-1:t.groupType===e.groupType?0:1);let e=null,s=0;while(s<this.groupItems.length)e!==this.groupItems[s].groupType&&(e?(e=this.groupItems[s].groupType,this.groupItems.splice(s,0,{divider:!0}),s++):e=this.groupItems[s].groupType,this.groupItems.splice(s,0,{header:g[e]}),s++),s++;this.groupItems=this.groupItems.map(t=>t.groupName?{text:t.groupName,value:t.groupId}:t),this.$store.dispatch("setGroups",this.groupItems)}).catch(t=>{this.$store.dispatch("showSnackbar",{text:`그룹 목록을 가져오지 못했습니다.${t&&t.response&&t.response.data?"["+t.response.data.message+"]":""}`})})}},b=f,y=Object(d["a"])(b,p,v,!1,null,null,null),x=y.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[t.best&&t.best.length>0?s("v-card",{staticClass:"mb-3 elevation-1",attrs:{flat:""}},[s("v-list",{staticClass:"commentList py-0",attrs:{"two-line":""}},[t._l(t.best,function(e,o){return[s("v-list-tile",{key:"best"+o,staticClass:"bestComment"},[s("comment-item",{attrs:{comment:e,commentIndex:o,reportTypes:t.reportTypes,isBest:!0},on:{update:t.getCommentList}})],1),s("v-divider",{key:"bestDivider"+o})]})],2)],1):t._e(),s("v-card",[s("v-list",{staticClass:"commentList py-0 pb-1",attrs:{"two-line":""}},[t._l(t.commentList,function(e,o){return[s("v-list-tile",{key:o},[s("comment-item",{attrs:{comment:e,commentIndex:o,reportTypes:t.reportTypes,isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable},on:{openRecomment:t.openRecomment,update:t.getCommentList}})],1),e.children?s("div",{key:"child"+o},[e.children.length>5?s("v-list-group",{key:e.title,attrs:{"prepend-icon":e.action,lazy:""},model:{value:e.active,callback:function(s){t.$set(e,"active",s)},expression:"item.active"}},[s("v-list-tile",{attrs:{slot:"activator",avatar:""},slot:"activator"},[s("v-list-tile-action"),s("v-list-tile-title",{staticClass:"text-xs-center"},[s("small",[t._v(t._s(e.active?"답글 숨기기":"이전 "+(e.children.length-5)+"개의 답글 펼치기"))])])],1),t._l(e.children.filter(function(t,s){return s<e.children.length-5}),function(e,o){return s("div",{key:"hidden"+o},[s("v-divider",{attrs:{inset:""}}),s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-action"),s("comment-item",{attrs:{comment:e,commentIndex:o,children:!0,reportTypes:t.reportTypes,isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable},on:{update:t.getCommentList}})],1)],1)})],2):t._e(),e.children.length>5?void 0:t._e(),t._l(e.children.length>5?e.children.filter(function(t,s){return s>=e.children.length-5}):e.children,function(e,o){return s("div",{key:o},[s("v-divider",{attrs:{inset:""}}),s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-action"),s("comment-item",{attrs:{comment:e,commentIndex:o,children:!0,reportTypes:t.reportTypes,isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable},on:{update:t.getCommentList}})],1)],1)})],2):t._e(),t.openRecommentIndex===o&&"DELETED"!==t.isCommentWritable?s("v-list-tile",{key:"writer"+o,staticClass:"pl-5"},[s("CommentWriter",{attrs:{commentTo:e.commentId,isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable,boardId:t.boardId},on:{update:t.getCommentList}})],1):t._e(),s("v-divider",{key:"divider"+o})]})],2),t.pages>1?s("v-flex",{attrs:{"text-xs-center":"","mt-2":"",xs12:""}},[s("v-pagination",{attrs:{id:"commentPagination",length:t.pages,"total-visible":t.$vuetify.breakpoint.smAndUp?10:void 0},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1):t._e(),"DELETED"!==t.isCommentWritable?s("div",{staticClass:"pt-2"},[s("comment-writer",{attrs:{isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable},on:{update:t.getCommentList}})],1):t._e()],1)],1)],1)},C=[],I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list-tile-content",{staticClass:"py-1 px-0"},[s("v-list-tile-title",[s("v-layout",{attrs:{column:""}},[s("v-flex",[t.isBest?s("v-chip",{staticClass:"white--text ml-0 my-0 ml-3",attrs:{label:"",small:"",color:"primary"}},[t._v("베스트")]):t._e()],1),t.updatingComment?t._e():s("v-flex",[s("div",{class:{"commentContents ql-editor pa-0 px-3":!0,"body-1":t.comment.isDeleted,"grey--text":t.comment.isDeleted,"lighten-1":t.comment.isDeleted},domProps:{innerHTML:t._s(t.comment.isDeleted?t.comment.contents:t.deltaToHTML(JSON.parse(t.comment.contents)))}})])],1)],1),t.comment.isDeleted?t._e():s("v-list-tile-sub-title",{staticClass:"px-3"},[t.updatingComment?"DELETED"!==t.isCommentWritable?s("v-layout",[s("comment-writer",{attrs:{defaultComment:t.comment,isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable},on:{revokeUpdate:function(e){t.updatingComment=!1},update:function(e){t.updatingComment=!1,t.$emit("update")}}})],1):t._e():s("v-layout",{staticClass:"body-1",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{"text-xs-left":""}},[s("user-link",{attrs:{nickName:t.comment.nickName,boardType:t.$store.getters.boardType}}),s("small",{staticClass:"accent--text"},[t._v("("+t._s(t.comment.animalName)+")")]),s("small",{staticClass:"ml-1"},[t._v(t._s(t.$moment(t.comment.writeDateTime,"YYYYMMDDHHmmss").isSame(t.$moment(),"day")?t.$moment(t.comment.writeDateTime,"YYYYMMDDHHmmss").format("HH:mm"):t.timeParser(t.comment.writeDateTime)))]),t.children||t.isBest||"DELETED"===t.isCommentWritable?t._e():s("b",{staticClass:"cursor-pointer",attrs:{title:"답글 쓰기"},on:{click:function(e){return t.$emit("openRecomment",t.commentIndex)}}},[t._v("\n          답글"+t._s(t.comment.childCount>0?"("+t.comment.childCount+")":"")+"\n        ")])],1),s("v-spacer"),s("v-flex",{attrs:{"text-xs-right":"","px-2":""}},[t.isBest?s("span",{staticClass:"cursor-pointer",attrs:{title:"추천"},on:{click:t.voteUp}},[s("v-icon",{attrs:{color:"primary",small:""}},[t._v("thumb_up")]),s("b",{staticClass:"mx-1 body--text"},[t._v(t._s(t.comment.voteUpCount))])],1):[s("span",{staticClass:"cursor-pointer",attrs:{title:"추천"},on:{click:t.voteUp}},[s("v-icon",{attrs:{color:"primary",small:""}},[t._v("thumb_up")]),s("b",{staticClass:"mx-1 body--text"},[t._v(t._s(t.comment.voteUpCount))]),t._v(" |\n          ")],1),t.comment.isWriter?[s("span",{staticClass:"cursor-pointer",on:{click:t.updateComment}},[t._v("수정")]),t._v(" |\n            "),s("span",{staticClass:"cursor-pointer",on:{click:t.deleteComment}},[t._v("삭제")])]:s("v-menu",{attrs:{"open-on-hover":"",bottom:"","offset-y":"",lazy:""}},[s("span",{staticClass:"cursor-pointer",attrs:{slot:"activator"},slot:"activator"},[t._v("신고")]),s("v-list",{attrs:{"two-line":""}},t._l(t.reportTypes,function(e,o){return s("v-list-tile",{key:e.reportTypeId,class:{"mt-2":o>0},on:{click:function(s){return t.reportComment(e)}}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.reportTypeName))]),s("v-list-tile-sub-title",[t._v(t._s(e.reportTypeDescription))])],1)],1)}),1)],1)]],2)],1)],1)],1)},_=[],$=s("9339"),k=s.n($),A={props:["comment","commentIndex","children","reportTypes","isBest","isAnonymous","allowAnonymous","isCommentWritable"],mixins:[c["a"]],components:{UserLink:x,CommentWriter:h},data(){return{updatingComment:!1}},methods:{voteUp(){this.$axios.post("/vote/comment",{commentId:this.comment.commentId},{headers:{silent:!0}}).then(t=>{this.comment.voteUpCount=t.data.voteUpCount}).catch(t=>{this.$store.dispatch("showSnackbar",{text:`${t.response?t.response.data.message:"추천하지 못했습니다."}`,color:"error"})})},deleteComment(){this.$axios.put("/comment",{commentId:this.comment.commentId,isDeleted:!0}).then(t=>{this.comment.contents="삭제된 댓글입니다.",this.comment.isDeleted=!0,this.$store.dispatch("showSnackbar",{text:"댓글을 삭제하였습니다.",color:"success"})}).catch(t=>{console.log(t),this.$store.dispatch("showSnackbar",{text:`${t.response?t.response.data.message:"댓글을 삭제하지 못했습니다."}`,color:"error"})})},updateComment(){this.updatingComment=!0},reportComment(t){this.$axios.post("/report/comment",{commentId:this.comment.commentId,reportTypeId:t.reportTypeId}).then(t=>{this.$store.dispatch("showSnackbar",{text:"댓글을 신고하였습니다.",color:"success"})}).catch(t=>{t.response&&409===t.response.status?this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"댓글을 신고하지 못했습니다.",color:"info"}):(console.log(t),this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"댓글을 신고하지 못했습니다.",color:"error"}))})},deltaToHTML(t){var e=document.createElement("div");let s=new k.a(e);t.ops.forEach(t=>{t.insert.hasOwnProperty("image")&&this.comment.attach.some(e=>e.attach_name===t.insert.image)&&(t.attributes={download:t.insert.image,alt:t.insert.image},t.insert.image=this.webUrl+this.comment.attach.find(e=>e.attach_name===t.insert.image).attach_path,t.attributes.link=t.insert.image)}),s.setContents(t);let o,a=e.getElementsByClassName("ql-editor")[0].innerHTML.replace(/(<(pre|script|style|textarea)[^]+?<\/\2)|(^|>)\s+|\s+(?=<|$)/g,"$1$3");while("<p></p>"===a.slice(0,7)||"<p><br></p>"===a.slice(0,11))o="<p></p>"===a.slice(0,7)?7:11,a=a.substring(o,a.length);while("<p></p>"===a.slice(-7)||"<p><br></p>"===a.slice(-11))o="<p></p>"===a.slice(-7)?7:11,a=a.substring(0,a.length-o);return a},getImagePath(t){console.log(this.comment);let e=this.comment.attach;return this.webUrl+e.find(e=>e.attachName===t).attachPath}}},T=A,D=(s("5185"),Object(d["a"])(T,I,_,!1,null,null,null)),E=D.exports,S={mixins:[c["a"]],components:{CommentItem:E,CommentWriter:h},props:["isAnonymous","allowAnonymous","isCommentWritable","reportTypes","boardId","best","pages"],data(){return{commentList:[],openRecommentIndex:-1,page:void 0,documentId:this.$route.params.documentId}},methods:{getCommentList(){this.openRecommentIndex=-1,this.$axios.get("/comment",{params:{documentId:this.$route.params.documentId,page:this.page},headers:{silent:!0}}).then(t=>{t.data.forEach(t=>{Array.isArray(t.attach)&&(t.attach=t.attach.filter(t=>t))}),this.commentList=t.data}).catch(t=>console.log(t))},openRecomment(t){this.openRecommentIndex===t?this.openRecommentIndex=-1:this.openRecommentIndex=t}},watch:{"$route.params":{handler(){this.page&&this.documentId===this.$route.params.documentId||this.$nextTick(()=>{this.documentId=this.$route.params.documentId,this.page=this.pages})},deep:!0,immediate:!0},page(t){this.getCommentList()},documentId(t){this.getCommentList()},pages(t){this.page=this.pages}}},L=S,N=(s("f812"),Object(d["a"])(L,w,C,!1,null,null,null)),M=N.exports,R={props:["board","boardId","documentId"],data(){return{document:null,documentHTML:null,showAttach:!1,scrapGroups:null,reportTypes:null,scrapMenu:!1,reportMenu:!1}},components:{Survey:r["a"],CommentWriter:h,ViewComments:M,UserLink:x},mixins:[c["a"]],created(){this.getScrapGroups(),this.getReportTypes()},computed:{isCommentWritable(){let t=this.board.boardId===this.document.boardId?this.board:this.$store.getters.boards.find(t=>t.boardId===this.document.boardId);if(!t)return"UNAVAILABLE";if(this.document.isDeleted)return"DELETED";const e=this.$store.getters.profile,s=this.$store.getters.userBoards;if(t.statusAuth.comment.includes(e.auth)){if("T"===t.boardType){if(s.some(e=>e.boardId===t.boardId)){const e=s.find(e=>e.boardId===t.boardId);return!e.writeRestrictDate||this.$moment(e.writeRestrictDate,"YYYYMMDD").isBefore(this.$moment())?"AVAILABLE":"RESTRICTED"}return"READWRITE"===t.allGroupAuth||t.allowedGroups.some(t=>t===e.region||t===e.major||t===e.grade||e.groups.includes(t))?"NEEDSUBSCRIPTION":"UNAVAILABLE"}if(t.allowedGroups.some(t=>t===e.region||t===e.major||t===e.grade||e.groups.includes(t))){if(s.some(e=>e.boardId===t.boardId)){const e=s.find(e=>e.boardId===t.boardId);return!e.writeRestrictDate||this.$moment(e.writeRestrictDate,"YYYYMMDD").isBefore(this.$moment())?"AVAILABLE":"RESTRICTED"}return"AVAILABLE"}return"UNAVAILABLE"}return"UNAVAILABLE"},pages(){return 0===this.document.commentCount?1:Math.ceil(this.document.commentCount/100)}},methods:{getDocument:function(){this.$axios.get(`/${this.boardId}/${this.documentId}`).then(t=>{if(t.data.isDeleted)return this.$router.replace("/"+this.boardId),void this.$store.dispatch("showSnackbar",{text:"삭제된 글입니다.",color:"warning"});Array.isArray(t.data.attach)&&(t.data.attach=t.data.attach.filter(t=>null!==t)),this.document=t.data,this.documentHTML=this.document.isDeleted?this.document.contents:this.deltaToHTML(JSON.parse(this.document.contents)),this.showAttach=!1,this.$emit("update:documentBoardId",this.document.boardId)}).catch(t=>{console.log(t),this.$router.replace("/error?error="+(t&&t.response&&t.response.status||"404"))})},deleteDocument(){confirm("이 글을 삭제하시겠습니까?")&&this.$axios.put("/document",{documentId:this.documentId,isDeleted:!0}).then(t=>{this.$store.dispatch("showSnackbar",{text:"글을 삭제하였습니다.",color:"success"}),this.$router.push(`/${this.boardId}`)}).catch(t=>{this.$store.dispatch("showSnackbar",{text:`${t.response?t.response.data.message:"글을 삭제하지 못했습니다."}`,color:"error"})})},voteDocument(){this.$axios.post("/vote/document",{documentId:this.document.documentId},{headers:{silent:!0}}).then(t=>{this.document.voteUpCount=t.data.voteUpCount}).catch(t=>{console.log(t.response),this.$store.dispatch("showSnackbar",{text:`${t.response?t.response.data.message:"추천하지 못했습니다."}`,color:"error"})})},deltaToHTML(t){let e,s=document.createElement("div"),o=new k.a(s);t.ops.forEach(t=>{t.insert.hasOwnProperty("image")&&(e=this.document.attach.find(e=>e.attach_name===t.insert.image),e&&(e.insert=!0,t.attributes={download:t.insert.image,alt:t.insert.image},t.insert.image=this.webUrl+e.attach_path,t.attributes.link=t.insert.image))}),o.setContents(t);let a,r=s.getElementsByClassName("ql-editor")[0].innerHTML.replace(/(<(pre|script|style|textarea)[^]+?<\/\2)|(^|>)\s+|\s+(?=<|$)/g,"$1$3");while("<p></p>"===r.slice(0,7)||"<p><br></p>"===r.slice(0,11))a="<p></p>"===r.slice(0,7)?7:11,r=r.substring(a,r.length);while("<p></p>"===r.slice(-7)||"<p><br></p>"===r.slice(-11))a="<p></p>"===r.slice(-7)?7:11,r=r.substring(0,r.length-a);return r},reportDocument(t){this.$axios.post("/report/document",{documentId:this.document.documentId,reportTypeId:t.reportTypeId}).then(t=>{this.reportMenu=!1,this.$store.dispatch("showSnackbar",{text:"이 글을 신고하였습니다.",color:"success"})}).catch(t=>{t.response&&409===t.response.status?(this.reportMenu=!1,this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"글을 신고하지 못했습니다.",color:"info"})):(console.log(t),this.reportMenu=!1,this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"글을 신고하지 못했습니다.",color:"error"}))})},scrapDocument(t){this.$axios.post("/scrap",{scrapGroupId:t.scrapGroupId,documentId:this.document.documentId}).then(t=>{this.scrapMenu=!1,this.$store.dispatch("showSnackbar",{text:"이 글을 스크랩하였습니다.",color:"success"})}).catch(t=>{t.response&&409===t.response.status?(this.scrapMenu=!1,this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"스크랩에 추가하지 못했습니다.",color:"info"})):(console.log(t),this.scrapMenu=!1,this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"스크랩에 추가하지 못했습니다.",color:"error"}))})},getScrapGroups(){this.scrapGroups||(this.$store.getters.scrapGroups?this.scrapGroups=this.$store.getters.scrapGroups:this.$axios.get("/scrap/group",{headers:{silent:!0}}).then(t=>{this.$store.dispatch("setScrapGroups",t.data),this.scrapGroups=t.data}).catch(t=>{console.log(t),this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"스크랩 그룹 목록을 가져오지 못했습니다.",color:"error"})}))},getReportTypes(){this.reportTypes||(this.$store.getters.reportTypes?this.reportTypes=this.$store.getters.reportTypes:this.$axios.get("/report/type",{headers:{silent:!0}}).then(t=>{this.$store.dispatch("setReportTypes",t.data),this.reportTypes=t.data}).catch(t=>{console.log(t),this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"신고 타입을 가져오지 못했습니다.",color:"error"})}))},setNotice(t){this.$axios.put("/board/notice",{boardId:this.document.boardId,documentId:this.document.documentId,isAdd:t}).then(e=>{if(this.$store.dispatch("showSnackbar",{text:t?"이 글을 공지로 지정했습니다.":"이 글을 공지에서 해제했습니다.",color:"success"}),t)this.$store.getters.boards.find(t=>t.boardId===this.document.boardId).notices.push({documentId:this.document.documentId,isNotice:!0,boardId:this.document.boardId,title:this.document.title});else{const t=this.$store.getters.boards.find(t=>t.boardId===this.document.boardId).notices;t.splice(t.findIndex(t=>t.documentId===this.document.documentId),1)}}).catch(t=>{console.log(t),this.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"글을 공지로 지정하지 못했습니다.",color:"error"})})}},watch:{"$route.params":{handler(){this.getDocument()},deep:!0,immediate:!0}}},W=R,U=(s("8a1f"),Object(d["a"])(W,o,a,!1,null,null,null));e["default"]=U.exports},f812:function(t,e,s){"use strict";var o=s("4bc5"),a=s.n(o);a.a}}]);
//# sourceMappingURL=chunk-369ab7b7.2853a699.js.map