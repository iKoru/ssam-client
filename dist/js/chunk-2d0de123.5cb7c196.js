(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de123"],{"83a3":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"","justify-center":"","align-center":"",wrap:""}},[a("v-card",{attrs:{width:"100%",flat:""}},[a("v-card-title",{staticClass:"px-0",attrs:{"primary-title":""}},[a("v-flex",{staticClass:"mx-auto px-3 pb-2",attrs:{xs12:"",sm11:"",md10:"",lg9:""}},[a("div",{class:{"text-xs-center":!0,"justify-center":!0,"align-center":!0,"pa-3":t.$vuetify.breakpoint.smAndUp}},[a("v-container",{attrs:{fluid:"","grid-list-xs":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{"py-0":""}},[a("v-text-field",{ref:"searchQuery",staticClass:"mt-0 pt-0 dense",attrs:{"append-icon":"search",placeholder:"검색할 라운지/토픽/아카이브 이름",hint:"각각의 주소, 이름, 설명으로 검색할 수 있습니다."},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)],1)],1)],1)]),a("v-flex",{staticClass:"mx-auto",attrs:{xs12:"",sm11:"",md10:"",lg9:""}},[a("v-data-table",{class:{customAction:!0,noResult:0===t.pagination.totalItems},attrs:{"hide-headers":"",headers:t.headers,id:"searchBoardTable",items:t.boards,search:t.searchQuery,"rows-per-page-items":[15],pagination:t.pagination,loading:t.loading},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{staticClass:"cursor-pointer",on:{click:function(a){return t.openDialog(e.item)}}},[a("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(t.boardTypeItems[e.item.boardType]))]),a("td",{staticClass:"ellipsis px-1"},[a("v-layout",{staticClass:"d-inline",attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("span",[t._v(t._s(e.item.boardName))])]),a("v-flex",{staticClass:"ellipsis grey--text lighten-1",attrs:{xs12:""}},[a("small",[t._v(t._s(e.item.boardDescription))])])],1)],1),a("td",{staticClass:"px-1"},["T"!==e.item.boardType||t.userBoards.some(function(t){return t.boardId===e.item.boardId})?a("router-link",{attrs:{to:"/"+e.item.boardId}},[a("v-btn",{staticClass:"short",attrs:{small:"",flat:""}},[t._v("바로가기")])],1):a("v-btn",{staticClass:"short",attrs:{small:"",color:"primary"},on:{click:function(a){return a.stopPropagation(),t.openDialog(e.item,!0)}}},[t._v("구독하기")])],1)])]}}])},[a("template",{slot:"actions-prepend"},[a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.openTopicDialog}},[t._v("토픽 만들기")]),a("v-spacer")],1)],2)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"800",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("board-information",{attrs:{board:t.selected},on:{closeDialog:t.closeDialog}})],1),a("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.xsOnly,transition:t.$vuetify.breakpoint.xsOnly?"dialog-bottom-transition":"fade-transition",lazy:"",scrollable:"","max-width":"700px"},model:{value:t.topicCreator,callback:function(e){t.topicCreator=e},expression:"topicCreator"}},[a("topic-creator",{attrs:{board:null},on:{closeDialog:t.closeTopicDialog,resetBoard:t.resetBoard}})],1)],1)],1)},r=[],s={name:"SearchBoard",components:{TopicCreator:function(){return a.e("chunk-2d22db79").then(a.bind(null,"f94d"))},BoardInformation:function(){return a.e("chunk-2d21ddd6").then(a.bind(null,"d2b4"))}},data:function(){return{loading:!1,loadingJoin:!1,dialog:!1,topicCreator:!1,boardTypeItems:{T:"토픽",L:"라운지",D:"아카이브",X:"기타",E:"전직교사",N:"예비교사"},searchQuery:"",selected:{boardAuth:[]},groupItems:[],pagination:{},headers:[{text:"구분",value:"boardType",sortable:!1},{text:"이름",value:"boardName",sortable:!1},{text:"주소",value:"boardId",sortable:!1},{text:"설명",value:"boardDescription",sortable:!1}]}},computed:{boards:function(){var t=this.$store.getters.boards;return t.filter(function(e){return e.parentBoardId||!t.some(function(t){return t.parentBoardId===e.boardId})})},userBoards:function(){return this.$store.getters.userBoards},userGroups:function(){return this.$store.getters.profile.groups},totalBoards:function(){return this.boards.length}},created:function(){var t=this;this.$axios.get("/group",{params:{groupType:["N","R","M","G"]},headers:{silent:!0}}).then(function(e){t.groupItems=e.data}).catch(function(e){console.log(e),t.$store.dispatch("showSnackbar",{text:"그룹 목록을 가져오지 못했습니다.".concat(e&&e.response&&e.response.data?"["+e.response.data.message+"]":""),color:"error"})})},methods:{openDialog:function(t,e){var a=this;this.selected&&this.selected.boardId===t.boardId?this.dialog=!0:this.$axios.get("/board",{params:{boardId:t.boardId}}).then(function(t){a.selected=t.data,a.dialog=!0}).catch(function(t){console.log(t),a.$store.dispatch("showSnackbar",{text:"정보를 가져오지 못했습니다.".concat(t&&t.response&&t.response.data?"["+t.response.data.message+"]":""),color:"error"})})},closeTopicDialog:function(){this.topicCreator=!1},openTopicDialog:function(){"A"===this.$store.getters.profile.auth?this.topicCreator=!0:this.$store.dispatch("showSnackbar",{text:"인증을 받은 회원만 토픽을 만들 수 있습니다.",color:"error"})},resetBoard:function(){},closeDialog:function(){this.dialog=!1}},watch:{topicCreator:function(t){document.body.style.position=t?"fixed":"initial"}}},i=s,n=a("0c7c"),l=Object(n["a"])(i,o,r,!1,null,null,null);e["default"]=l.exports}}]);