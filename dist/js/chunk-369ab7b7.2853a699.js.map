{"version":3,"sources":["webpack:///./src/components/board/survey/Survey.vue?ab10","webpack:///./src/components/board/CommentItem.vue?1409","webpack:///./src/components/mixins/BoardMixins.js","webpack:///./src/static/img/defaultUser.png","webpack:///./src/components/board/survey/Survey.vue?6913","webpack:///src/components/board/survey/Survey.vue","webpack:///./src/components/board/survey/Survey.vue?559f","webpack:///./src/components/board/survey/Survey.vue","webpack:///./src/components/board/ViewDocument.vue?896a","webpack:///./src/components/board/CommentWriter.vue?3960","webpack:///./src/components/board/ViewDocument.vue?1b33","webpack:///./src/components/board/CommentWriter.vue?014e","webpack:///src/components/board/CommentWriter.vue","webpack:///./src/components/board/CommentWriter.vue?2168","webpack:///./src/components/board/CommentWriter.vue","webpack:///./src/components/UserLink.vue?1c32","webpack:///src/components/UserLink.vue","webpack:///./src/components/UserLink.vue?0589","webpack:///./src/components/UserLink.vue","webpack:///./src/components/board/ViewComments.vue?a744","webpack:///./src/components/board/CommentItem.vue?48c2","webpack:///src/components/board/CommentItem.vue","webpack:///./src/components/board/CommentItem.vue?9bd1","webpack:///./src/components/board/CommentItem.vue","webpack:///src/components/board/ViewComments.vue","webpack:///./src/components/board/ViewComments.vue?fc83","webpack:///./src/components/board/ViewComments.vue","webpack:///src/components/board/ViewDocument.vue","webpack:///./src/components/board/ViewDocument.vue?ac8c","webpack:///./src/components/board/ViewDocument.vue","webpack:///./src/components/board/ViewComments.vue?7cef"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_Survey_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_Survey_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentItem_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentItem_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","BoardMixins","data","boardTypeItems","T","L","D","X","E","N","webUrl","process","methods","uuid","partialUUID","Math","random","toString","substring","dataURItoBlob","dataURI","byteString","split","indexOf","atob","unescape","mimeString","ia","Uint8Array","length","i","charCodeAt","Blob","type","timeParser","timestamp","moment","fromNow","module","exports","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","column","row","align-center","mx-2","_v","directives","name","rawName","value","expression","staticStyle","white-space","_s","survey","participants","_l","surveyContents","item","index","key","id","title","_e","choice","answerIndex","class","ans-voted final multi-row","selected","font-weight-bold","mostVotes","votes","percent","text","style","width","ans-no-vote multi-row","active","on","click","$event","handleVote","questions","participated","onlyView","justify-center","my-2","small","showSurveyResult","color","disabled","finalResults","completeSurvey","staticRenderFns","Surveyvue_type_script_lang_js_","props","[object Object]","formatSurvey","currentSurvey","computed","otherAnswers","surveyAnswers","forEach","q","qIndex","objectArray","max","totalVotes","choices","choiceIndex","push","isNaN","round","parseInt","answers","allowMultipleChoice","answerArray","c","cIndex","findIndex","every","question","some","$store","dispatch","answer","getAnswerArray","$axios","post","documentId","$route","params","then","response","console","log","get","boardId","catch","error","status","message","questionIndex","a","survey_Surveyvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewDocument_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewDocument_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentWriter_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentWriter_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","primary-title","to","document","mt-1","text-xs-right","nickName","boardType","board","commentCount","viewCount","$moment","writeDateTime","format","xs12","domProps","innerHTML","documentHTML","hasSurvey","sm10","md8","mx-3","text-xs-center","voteDocument","voteUpCount","notices","setNotice","pr-2","attach","x","insert","primary--text","showAttach","filter","deleteDocument","$vuetify","breakpoint","xsOnly","tag","open-on-hover","bottom","lazy","offset-y","model","callback","$$v","scrapMenu","slot","dense","stopPropagation","scrapGroupId","scrapDocument","scrapGroupName","reportMenu","isWriter","two-line","reportTypeId","reportDocument","reportTypeName","reportTypeDescription","mt-2","wrap","px-2","xs6","md4","xl2","attach_path","target","download","attach_name","mb-4","isAnonymous","allowAnonymous","isCommentWritable","reportTypes","best","bestComments","pages","CommentWritervue_type_template_id_7b69626d_render","px-3","ref","options","editorOption","content","py-2","hide-details","label","anonymous","my-0","ml-0","flat","selectImage","depressed","loading","postComment","defaultComment","$emit","CommentWritervue_type_template_id_7b69626d_staticRenderFns","CommentWritervue_type_script_lang_js_","mixins","placeholder","modules","magicUrl","urlRegularExpression","globalRegularExpression","normalizeRegularExpression","toolbar","undefined","imageDrop","imageResize","formData","theme","originImages","components","contents","JSON","parse","image","ops","hasOwnProperty","find","$refs","commentEditor","quill","setContents","_ref","html","input","createElement","setAttribute","onchange","file","files","reader","FileReader","readAsDataURL","onload","test","range","getSelection","insertEmbed","getLength","result","onerror","editor","delta","includes","imgSrc","imageName","append","src","imgName","img","headers","silent","assign","getters","boards","boardName","trim","FormData","attachImages","updateComment","stringify","commentTo","res","setText","revertImages","confirm","parentCommentId","commentId","processFileChange","modifiedBody","put","err","deleteImageP","uploadFileP","attachFromServer","currentImageId","map","startsWith","attach_id","delete","fileCount","pair","entries","Promise","all","board_CommentWritervue_type_script_lang_js_","CommentWriter","UserLinkvue_type_template_id_b24e0464_render","userLinkMenu","showProfile","sendMessage","max-width","dialog","size","profile","picturePath","alt","xs4","xs8","userAuthItems","auth","region","groupItems","major","grade","UserLinkvue_type_template_id_b24e0464_staticRenderFns","groupName","M","G","R","Z","UserLinkvue_type_script_lang_js_","A","chatType","$router","chatId","groups","groupType","sort","b","previous","splice","divider","header","groupId","components_UserLinkvue_type_script_lang_js_","UserLink_component","UserLink","ViewCommentsvue_type_template_id_160962ce_render","comment","commentIndex","isBest","update","getCommentList","openRecomment","children","prepend-icon","action","$set","avatar","y","childItem","childIndex","inset","openRecommentIndex","total-visible","smAndUp","page","ViewCommentsvue_type_template_id_160962ce_staticRenderFns","CommentItemvue_type_template_id_52d16680_render","updatingComment","commentContents ql-editor pa-0 px-3","body-1","isDeleted","grey--text","lighten-1","deltaToHTML","revokeUpdate","text-xs-left","animalName","isSame","childCount","voteUp","deleteComment","reportComment","CommentItemvue_type_template_id_52d16680_staticRenderFns","CommentItemvue_type_script_lang_js_","tempCont","quill_default","attributes","link","slicer","newText","getElementsByClassName","replace","slice","imagePath","attachName","attachPath","board_CommentItemvue_type_script_lang_js_","CommentItem_component","CommentItem","ViewCommentsvue_type_script_lang_js_","commentList","Array","isArray","watch","$route.params","$nextTick","deep","immediate","val","board_ViewCommentsvue_type_script_lang_js_","ViewComments_component","ViewComments","ViewDocumentvue_type_script_lang_js_","scrapGroups","Survey","getScrapGroups","getReportTypes","userBoards","statusAuth","userBoard","writeRestrictDate","isBefore","allGroupAuth","allowedGroups","ceil","getDocument","isAdd","isNotice","board_ViewDocumentvue_type_script_lang_js_","ViewDocument_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewComments_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ViewComments_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-369ab7b7.2853a699.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&lang=css&\"","import moment from 'moment'\nconst BoardMixins = {\n  data () {\n    return {\n      boardTypeItems: {\n        T: '토픽',\n        L: '라운지',\n        D: '아카이브',\n        X: '게시판',\n        E: '전직교사',\n        N: '예비교사'\n      },\n      webUrl: process.env.VUE_APP_WEB_URL\n    }\n  },\n  methods: {\n    uuid () {\n      let partialUUID = () => {\n        return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n      };\n      return partialUUID() + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + partialUUID() + partialUUID()\n    },\n    dataURItoBlob (dataURI) {\n      // convert base64/URLEncoded data component to raw binary data held in a string\n      var byteString;\n      if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n        byteString = atob(dataURI.split(',')[1]);\n      } else {\n        byteString = unescape(dataURI.split(',')[1]);\n      }\n\n      var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n      // write the bytes of the string to a typed array\n      var ia = new Uint8Array(byteString.length);\n      for (var i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n      }\n      return new Blob([ia], { type: mimeString });\n    },\n    timeParser (timestamp) {\n      return moment(timestamp, 'YYYYMMDDHHmmss').fromNow()\n    }\n  }\n}\n\nexport default BoardMixins\n","module.exports = __webpack_public_path__ + \"img/defaultUser.8cc93c28.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.survey)?_c('v-layout',{staticClass:\"border-light py-2\",attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"mx-2\":\"\"}},[(_vm.onlyView)?_c('span',{staticClass:\"subheading\"},[_vm._v(\"글 작성 후에 수정/삭제가 불가능합니다.\")]):_c('span',{staticClass:\"subheading\"},[_vm._v(\"설문조사\")]),_c('v-spacer'),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.finalResults),expression:\"finalResults\"}],staticStyle:{\"white-space\":\"nowrap\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.survey.participants)+\"명 참여\\n      \")])],1)],1),_vm._l((_vm.survey.surveyContents.questions),function(item,index){return _c('v-flex',{key:index,staticClass:\"px-3 pt-2\"},[_c('div',{attrs:{\"id\":\"poll\"}},[_c('div',{staticClass:\"font-weight-bold body-2 mb-2\"},[_vm._v(_vm._s((index+1) + '. ' + item.title)),(item.allowMultipleChoice)?_c('small',{staticClass:\"grey--text lighten-1\"},[_vm._v(\"(복수응답)\")]):_vm._e()]),_c('div',{staticClass:\"ans-cnt\"},_vm._l((item.choices),function(choice,answerIndex){return _c('div',{key:answerIndex,staticClass:\"ans\"},[(_vm.finalResults)?[_c('div',{class:{'ans-voted final multi-row':true, 'selected': choice.selected, 'font-weight-bold':item.mostVotes == choice.votes}},[(choice.percent)?_c('span',{staticClass:\"percent\"},[_vm._v(_vm._s(choice.percent))]):_vm._e(),_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(choice.text))])]),_c('span',{staticClass:\"bg\",style:({ width: choice.percent })})]:[_c('div',{class:{ 'ans-no-vote multi-row': true, active: choice.selected },on:{\"click\":function($event){return _vm.handleVote(index, choice)}}},[_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(choice.text))])]),_c('span',{staticClass:\"bg\"})]],2)}),0)]),(index + 1 !== _vm.survey.surveyContents.questions.length)?_c('v-divider',{key:'divider'+index,staticClass:\"mt-3\"}):_vm._e()],1)}),(!_vm.survey.participated && !_vm.onlyView)?_c('v-flex',[_c('v-layout',{attrs:{\"justify-center\":\"\",\"my-2\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.showSurveyResult = !_vm.showSurveyResult}}},[_vm._v(\"\\n        \"+_vm._s(_vm.showSurveyResult? '돌아가기':'결과보기')+\"\\n      \")]),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.finalResults},on:{\"click\":_vm.completeSurvey}},[_vm._v(\"응답하기\")])],1)],1):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout column class=\"border-light py-2\" v-if=\"survey\">\n    <v-flex>\n      <v-layout row align-center mx-2>\n        <span v-if=\"onlyView\" class=\"subheading\">글 작성 후에 수정/삭제가 불가능합니다.</span>\n        <span v-else class=\"subheading\">설문조사</span>\n        <v-spacer/>\n        <span v-show=\"finalResults\" style=\"white-space:nowrap;\">\n          {{survey.participants}}명 참여\n        </span>\n      </v-layout>\n    </v-flex>\n    <v-flex v-for=\"(item, index) in survey.surveyContents.questions\" :key=\"index\" class=\"px-3 pt-2\">\n      <div id=\"poll\">\n        <div class=\"font-weight-bold body-2 mb-2\">{{(index+1) + '. ' + item.title}}<small v-if=\"item.allowMultipleChoice\" class=\"grey--text lighten-1\">(복수응답)</small></div>\n        <div class=\"ans-cnt\">\n          <div v-for=\"(choice,answerIndex) in item.choices\" :key=\"answerIndex\" class=\"ans\">\n            <template v-if=\"finalResults\">\n              <div :class=\"{'ans-voted final multi-row':true, 'selected': choice.selected, 'font-weight-bold':item.mostVotes == choice.votes}\">\n                <span v-if=\"choice.percent\" class=\"percent\">{{choice.percent}}</span>\n                <span class=\"txt\">{{choice.text}}</span>\n              </div>\n              <span class=\"bg\" :style=\"{ width: choice.percent }\"></span>\n            </template>\n            <template v-else>\n              <div :class=\"{ 'ans-no-vote multi-row': true, active: choice.selected }\" @click=\"handleVote(index, choice)\">\n                <span class=\"txt\">{{choice.text}}</span>\n              </div>\n              <span class=\"bg\"></span>\n            </template>\n          </div>\n        </div>\n      </div>\n      <v-divider v-if=\"index + 1 !== survey.surveyContents.questions.length\" :key=\"'divider'+index\" class=\"mt-3\"></v-divider>\n    </v-flex>\n    <v-flex v-if=\"!survey.participated && !onlyView\">\n      <v-layout justify-center my-2>\n        <v-btn small @click=\"showSurveyResult = !showSurveyResult\">\n          {{showSurveyResult? '돌아가기':'결과보기'}}\n        </v-btn>\n        <v-btn small color=\"primary\" @click=\"completeSurvey\" :disabled=\"finalResults\">응답하기</v-btn>\n      </v-layout>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\nexport default {\n  props: ['currentSurvey', 'onlyView'],\n  data () {\n    return {\n      showSurveyResult: false,\n      survey: null\n    };\n  },\n  created () {\n    this.survey = this.formatSurvey(this.currentSurvey);\n  },\n  computed: {\n    finalResults () {\n      return this.survey.participated || this.showSurveyResult\n    }\n  },\n  methods: {\n    formatSurvey (survey) {\n      let otherAnswers = survey.surveyAnswers\n      survey.surveyContents.questions.forEach((q, qIndex) => {\n        let objectArray = []\n        let max = 0;\n        let totalVotes = 0;\n        q.choices.forEach((choice, choiceIndex) => {\n          if (otherAnswers.length > qIndex) {\n            objectArray.push({ 'text': choice, 'selected': false, 'votes': otherAnswers[qIndex][choiceIndex] })\n            if (otherAnswers[qIndex][choiceIndex] > max) {\n              max = otherAnswers[qIndex][choiceIndex];\n            }\n            totalVotes += otherAnswers[qIndex][choiceIndex];\n          } else {\n            objectArray.push({ 'text': choice, 'selected': false, 'votes': 0 })\n          }\n        })\n        q.mostVotes = max\n        q.totalVotes = totalVotes\n        if (totalVotes === 0) {\n          objectArray.forEach(choice => {\n            choice.percent = '0%'\n          })\n        } else {\n          // Calculate percent\n          objectArray.forEach(choice => {\n            choice.percent = !isNaN(choice.votes) && choice.votes > 0 ? (Math.round((parseInt(choice.votes) / totalVotes) * 100)) + '%' : '0%'\n          })\n        }\n        q.choices = objectArray\n      })\n      return survey\n    },\n    getAnswerArray (questions) {\n      let answers = [];\n      questions.forEach(q => {\n        if (!q.allowMultipleChoice) {\n          answers.push(q.choices.findIndex(c => c.selected))\n        } else {\n          let answerArray = []\n          q.choices.forEach((c, cIndex) => {\n            if (c.selected) answerArray.push(cIndex)\n          })\n          answers.push(answerArray)\n        }\n      })\n      return answers;\n    },\n    completeSurvey () {\n      if (this.survey.surveyContents.questions.every(question => question.choices.some(choice => choice.selected))) {\n        if (this.survey.participated) {\n          this.$store.dispatch('showSnackbar', { text: '이미 참여한 설문입니다.', color: 'info' });\n          return;\n        }\n        let answer = this.getAnswerArray(this.survey.surveyContents.questions)\n        this.$axios\n          .post(`/survey`, {\n            documentId: this.$route.params.documentId,\n            answer: answer\n          })\n          .then(response => {\n            console.log(response);\n            if (!response.data.survey) {\n              this.$axios\n                .get(`/${this.$route.params.boardId}/${this.$route.params.documentId}`)\n                .then(response => {\n                  this.survey = this.formatSurvey(response.data.survey)\n                  console.log(this.survey)\n                  this.showSurveyResult = true\n                })\n                .catch(error => {\n                  console.log(error);\n                });\n            } else {\n              this.survey = this.formatSurvey(response.data.survey)\n              this.showSurveyResult = true\n            }\n          })\n          .catch(error => {\n            if (error.response && error.response.status === 409) {\n              this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '설문 응답을 등록하지 못했습니다.' : '설문 응답을 등록하지 못했습니다.', color: 'info' });\n            } else {\n              this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '설문 응답을 등록하지 못했습니다.' : '설문 응답을 등록하지 못했습니다.', color: 'error' });\n            }\n          });\n      } else {\n        this.$store.dispatch('showSnackbar', { text: (this.survey.surveyContents.questions.findIndex(question => !question.choices.some(choice => choice.selected)) + 1) + '번 질문의 응답을 선택해주세요.', color: 'warning' });\n      }\n    },\n    handleVote (questionIndex, a) {\n      if (!this.survey.surveyContents.questions[questionIndex].allowMultipleChoice) {\n        if (!a.selected) {\n          this.survey.surveyContents.questions[questionIndex].choices.forEach(choice => (choice.selected = false))\n        }\n      }\n      a.selected = !a.selected\n    }\n  }\n};\n</script>\n<style>\n#poll .ans-cnt{\n  margin: 5px 0;\n}\n#poll .ans-cnt .ans{\n  position: relative;\n  border-radius: 8px;\n  overflow:hidden;\n  margin-top: 8px;\n}\n#poll .ans-cnt .ans:first-child{\n  margin-top: 0;\n}\n\n#poll .ans-cnt .ans-no-vote, #poll .ans-cnt .ans-voted{\n  background-color: #E1E8ED;\n  border-radius: 8px;\n  padding: 5px 10px;\n}\n#poll .ans-cnt .ans-voted .txt,\n#poll .ans-cnt .ans-voted .percent{\n  z-index: 1;\n  position: relative;\n}\n#poll .ans-cnt .ans-no-vote.active{\n  background: #d5d5d5;\n}\n#poll .ans-cnt .ans-no-vote.active .txt::before{\n  content:'✔';\n  width: 20px;\n  margin-right:4px;\n}\n#poll .ans-cnt .ans-voted .percent{\n  min-width: 44px;\n  display: inline-block;\n}\n#poll .ans-cnt .ans .bg{\n  position: absolute;\n  width: 0%;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 0;\n  background-color: #77C7F7;\n  transition: width .3s ease-in-out;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Survey.vue?vue&type=template&id=798320d7&\"\nimport script from \"./Survey.vue?vue&type=script&lang=js&\"\nexport * from \"./Survey.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Survey.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.document)?_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',{staticClass:\"w-100\"},[_c('router-link',{staticClass:\"title mb-0 multi-row\",attrs:{\"to\":'/'+_vm.document.boardId+'/'+_vm.documentId}},[_vm._v(_vm._s(_vm.document.title))]),_c('v-layout',{attrs:{\"row\":\"\",\"mt-1\":\"\"}},[_c('v-spacer'),_c('v-flex',{attrs:{\"text-xs-right\":\"\"}},[_c('user-link',{attrs:{\"nickName\":_vm.document.nickName,\"boardType\":_vm.board.boardType}}),_vm._v(\"\\n            | 댓글 \"+_vm._s(_vm.document.commentCount)+\" | 조회 \"+_vm._s(_vm.document.viewCount)+\" | \"+_vm._s(_vm.$moment(_vm.document.writeDateTime, \"YYYYMMDDHHmmss\").format(\"Y.MM.DD HH:mm:ss\"))+\"\\n          \")],1)],1)],1)])],1),_c('v-divider'),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card-text',{staticClass:\"px-0\"},[_c('div',{staticClass:\"ql-editor py-0 px-3\",attrs:{\"id\":\"documentContents\"},domProps:{\"innerHTML\":_vm._s(_vm.documentHTML)}})])],1),(_vm.document.hasSurvey && _vm.document.survey)?_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm10\":\"\",\"md8\":\"\",\"mx-3\":\"\"}},[_c('survey',{attrs:{\"currentSurvey\":_vm.document.survey}})],1)],1):_vm._e(),_c('v-flex',{attrs:{\"text-xs-center\":\"\",\"my-2\":\"\"}},[_c('v-btn',{staticClass:\"font-weight-bold short\",on:{\"click\":_vm.voteDocument}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"small\":\"\"}},[_vm._v(\"thumb_up\")]),_vm._v(\" \\n      \"),_c('span',[_vm._v(_vm._s(_vm.document.voteUpCount))])],1)],1),_c('v-divider'),_c('v-flex',{staticClass:\"my-2\"},[_c('v-layout',{attrs:{\"row\":\"\"}},[(_vm.board.isOwner)?_c('v-flex',[(_vm.board.notices.indexOf(_vm.documentId)>=0)?_c('v-btn',{staticClass:\"ma-0 px-2 short\",on:{\"click\":function($event){return _vm.setNotice(false)}}},[_vm._v(\"공지해제\")]):_c('v-btn',{staticClass:\"ma-0 px-2 short\",on:{\"click\":function($event){return _vm.setNotice(true)}}},[_vm._v(\"공지지정\")])],1):_vm._e(),_c('v-spacer'),_c('v-flex',{attrs:{\"pr-2\":\"\",\"text-xs-right\":\"\"}},[_c('v-btn-toggle',{attrs:{\"id\":\"bottomBottons\"}},[(_vm.document.attach && _vm.document.attach.some(function (x){ return !x.insert; }))?[_c('v-btn',{class:{'primary--text':_vm.showAttach},attrs:{\"title\":\"첨부파일 보기\"},on:{\"click\":function($event){_vm.showAttach=!_vm.showAttach}}},[_vm._v(\"첨부파일(\"+_vm._s(_vm.document.attach.filter(function (x){ return !x.insert; }).length)+\")\")])]:_vm._e(),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.document.isWriter),expression:\"document.isWriter\"}],staticClass:\"short\",attrs:{\"to\":(\"/\" + (_vm.$route.params.boardId) + \"/\" + (_vm.document.documentId) + \"/edit\")}},[_c('span',[_vm._v(\"수정\")])]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.document.isWriter),expression:\"document.isWriter\"}],staticClass:\"short\",on:{\"click\":_vm.deleteDocument}},[_vm._v(\"삭제\")]),_c(_vm.$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu',{tag:\"component\",attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"lazy\":\"\",\"offset-y\":\"\"},model:{value:(_vm.scrapMenu),callback:function ($$v) {_vm.scrapMenu=$$v},expression:\"scrapMenu\"}},[_c('v-btn',{staticClass:\"short\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"스크랩\")]),_c('v-list',{attrs:{\"dense\":\"\"}},[_c('div',{staticClass:\"v-list__tile font-weight-bold\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"스크랩 그룹 선택\")]),_vm._l((_vm.scrapGroups),function(item){return _c('v-list-tile',{key:item.scrapGroupId,on:{\"click\":function($event){return _vm.scrapDocument(item)}}},[_c('v-list-tile-title',[_vm._v(_vm._s(item.scrapGroupName))])],1)})],2)],1),_c(_vm.$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu',{tag:\"component\",attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"lazy\":\"\",\"offset-y\":\"\"},model:{value:(_vm.reportMenu),callback:function ($$v) {_vm.reportMenu=$$v},expression:\"reportMenu\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.document.isWriter),expression:\"!document.isWriter\"}],staticClass:\"short\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"신고\")]),_c('v-list',{attrs:{\"two-line\":\"\"}},[_c('div',{staticClass:\"font-weight-bold mx-3 my-2\",on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"신고사유 선택\")]),_vm._l((_vm.reportTypes),function(item){return _c('v-list-tile',{key:item.reportTypeId,on:{\"click\":function($event){return _vm.reportDocument(item)}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(item.reportTypeName))]),_c('v-list-tile-sub-title',[_vm._v(_vm._s(item.reportTypeDescription))])],1)],1)})],2)],1)],2)],1)],1),_c('v-slide-y-transition',[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-layout',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAttach),expression:\"showAttach\"}],attrs:{\"row\":\"\",\"mt-2\":\"\",\"wrap\":\"\"}},_vm._l((_vm.document.attach.filter(function (x){ return !x.insert; })),function(item,index){return _c('v-flex',{key:index,attrs:{\"px-2\":\"\",\"xs6\":\"\",\"md4\":\"\",\"xl2\":\"\"}},[_c('router-link',{staticClass:\"ellipsis underline\",attrs:{\"to\":_vm.webUrl + '/' + item.attach_path,\"target\":\"_blank\",\"download\":item.attach_name}},[_vm._v(_vm._s(item.attach_name))])],1)}),1),_c('v-divider',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAttach),expression:\"showAttach\"}],staticClass:\"mb-2\"})],1)],1)],1),_c('v-flex',{attrs:{\"mb-4\":\"\"}},[_c('ViewComments',{attrs:{\"isAnonymous\":_vm.document.isWriter && _vm.document.nickName === '',\"allowAnonymous\":_vm.document.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable,\"reportTypes\":_vm.reportTypes,\"boardId\":_vm.document.boardId,\"best\":_vm.document.bestComments,\"pages\":_vm.pages}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"column\":\"\",\"px-3\":\"\"}},[_c('v-flex',{staticClass:\"comment-editor\"},[_c('quill-editor',{ref:\"commentEditor\",attrs:{\"options\":_vm.editorOption},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('v-flex',[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"py-2\":\"\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowAnonymous),expression:\"allowAnonymous\"}],staticClass:\"ml-3\"},[_c('v-checkbox',{staticClass:\"pt-0 mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"익명\",\"disabled\":_vm.isCommentWritable !== 'AVAILABLE' && _vm.isCommentWritable !== 'NEEDSUBSCRIPTION'},model:{value:(_vm.anonymous),callback:function ($$v) {_vm.anonymous=$$v},expression:\"anonymous\"}})],1),_c('v-btn',{class:{'my-0':true, 'ml-0':!_vm.allowAnonymous},attrs:{\"flat\":\"\",\"disabled\":_vm.isCommentWritable !== 'AVAILABLE' && _vm.isCommentWritable !== 'NEEDSUBSCRIPTION'},on:{\"click\":_vm.selectImage}},[_c('v-icon',[_vm._v(\"image\")]),_vm._v(\"이미지\\n      \")],1),_c('v-spacer'),_c('v-btn',{staticClass:\"short\",attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\",\"disabled\":_vm.isCommentWritable !== 'AVAILABLE' && _vm.isCommentWritable !== 'NEEDSUBSCRIPTION',\"loading\":_vm.loading},on:{\"click\":_vm.postComment}},[_vm._v(\"\\n        \"+_vm._s(_vm.defaultComment?'수정':'등록')+\"\\n      \")]),(_vm.defaultComment)?_c('v-btn',{staticClass:\"short\",attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"default\"},on:{\"click\":function($event){return _vm.$emit('revokeUpdate')}}},[_vm._v(\"취소\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout column px-3>\n    <v-flex class=\"comment-editor\">\n      <quill-editor v-model=\"content\" ref=\"commentEditor\" :options=\"editorOption\">\n      </quill-editor>\n    </v-flex>\n    <v-flex>\n      <v-layout row align-center py-2>\n        <span class=\"ml-3\" v-show=\"allowAnonymous\">\n          <v-checkbox hide-details label=\"익명\" v-model=\"anonymous\" class=\"pt-0 mt-0\" :disabled=\"isCommentWritable !== 'AVAILABLE' && isCommentWritable !== 'NEEDSUBSCRIPTION'\"></v-checkbox>\n        </span>\n        <v-btn @click=\"selectImage\" flat :class=\"{'my-0':true, 'ml-0':!allowAnonymous}\" :disabled=\"isCommentWritable !== 'AVAILABLE' && isCommentWritable !== 'NEEDSUBSCRIPTION'\">\n          <v-icon>image</v-icon>이미지\n        </v-btn>\n        <v-spacer/>\n        <v-btn small depressed @click=\"postComment\" color=\"primary\" class=\"short\" :disabled=\"isCommentWritable !== 'AVAILABLE' && isCommentWritable !== 'NEEDSUBSCRIPTION'\" :loading=\"loading\">\n          {{defaultComment?'수정':'등록'}}\n        </v-btn>\n        <v-btn v-if=\"defaultComment\" small depressed @click=\"$emit('revokeUpdate')\" color=\"default\" class=\"short\" >취소</v-btn>\n      </v-layout>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\nimport BoardMixins from '@/components/mixins/BoardMixins';\n\nexport default {\n  name: 'WriteComment',\n  mixins: [BoardMixins],\n  props: ['commentTo', 'isAnonymous', 'allowAnonymous', 'isCommentWritable', 'boardId', 'defaultComment'],\n  data () {\n    return {\n      editorOption: {\n        placeholder: this.isCommentWritable === 'AVAILABLE' ? '댓글을 입력해주세요.' : this.isCommentWritable === 'UNAVAILABLE' ? '댓글을 작성할 수 있는 권한이 없습니다.' : this.isCommentWritable === 'RESTRICTED' ? '글쓰기가 제한되어 있습니다.' : this.isCommentWritable === 'DELETED' ? '삭제된 글입니다.' : '토픽 구독 후 입력된 댓글이 등록됩니다.',\n        modules: {\n          magicUrl: {\n            urlRegularExpression: /(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/,\n            globalRegularExpression: /(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/,\n            normalizeRegularExpression: /(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/\n          },\n          toolbar: undefined,\n          imageDrop: true,\n          imageResize: true\n        },\n        formData: undefined,\n        theme: 'bubble'\n      },\n      content: '',\n      anonymous: this.isAnonymous | true,\n      originImages: [],\n      loading: false\n    };\n  },\n  components: {},\n  mounted () {\n    if (this.defaultComment) {\n      console.log(this.defaultComment)\n      let contents = JSON.parse(this.defaultComment.contents)\n      console.log(contents)\n      if (this.defaultComment.attach) {\n        let image;\n        contents.ops.forEach(item => {\n          if (item.insert.hasOwnProperty('image')) {\n            image = this.defaultComment.attach.find(x => x.attach_name === item.insert.image);\n            console.log(image)\n            if (image) {\n              image.insert = true;\n              item.insert.image = this.webUrl + '/' + image.attach_path\n            }\n          }\n        })\n      }\n      console.log(contents)\n      this.$refs.commentEditor.quill.setContents(contents)\n    }\n  },\n  methods: {\n    onEditorChange ({ quill, html, text }) {\n      this.content = html;\n    },\n    selectImage () {\n      const input = document.createElement('input');\n      input.setAttribute('type', 'file');\n      input.setAttribute('accept', 'image/*');\n      input.click();\n      // Listen upload local image and save to server\n      input.onchange = () => {\n        const file = input.files[0];\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => {\n          // file type is only image.\n          if (/^image\\//.test(file.type)) {\n            let commentEditor = this.$refs.commentEditor\n            let range = commentEditor.quill.getSelection()\n            console.log(range)\n            commentEditor.quill.insertEmbed(range == null ? commentEditor.quill.getLength() : range.index, 'image', reader.result);\n          } else {\n            this.$store.dispatch('showSnackbar', { text: '이미지 파일만 업로드할 수 있습니다.', color: 'error' })\n          }\n        };\n        reader.onerror = function (error) {\n          console.log('Error: ', error);\n        };\n      };\n    },\n    attachImages () {\n      return this.$refs.commentEditor.quill.editor.delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty('image')) {\n          if (item.insert.image.includes('data:image')) {\n            let imgSrc = item.insert.image;\n            let imageName = this.uuid() + '.' + imgSrc.substring('data:image/'.length, imgSrc.indexOf(';base64'));\n            this.formData.append('attach', this.dataURItoBlob(imgSrc), imageName);\n            item.insert.image = imageName;\n            this.originImages.push({ name: imageName, src: imgSrc });\n          }\n        }\n      });\n    },\n    revertImages () {\n      this.$refs.commentEditor.quill.editor.delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty('image')) {\n          // random generated uuid should given here\n          let imgName = item.insert.image;\n          item.insert.image = this.originImages.find(img => img.name === imgName).src;\n        }\n      });\n      this.originImages = [];\n    },\n    async postComment () {\n      this.loading = true;\n      if (this.isCommentWritable === 'NEEDSUBSCRIPTION') {\n        try {\n          await this.$axios.post('/user/board', { boardId: this.boardId }, { headers: { silent: true } });\n        } catch (error) {\n          if (!error.response || error.response.status !== 409) {\n            this.loading = false;\n            this.$store.dispatch('showSnackbar', { text: `${error && error.response && error.response.data ? error.response.data.message || '댓글을 쓰기 위한 구독을 하지 못했습니다.' : '댓글을 쓰기 위한 구독을 하지 못했습니다.'}`, color: 'error' });\n            return;\n          }\n        }\n        this.$store.dispatch('addUserBoard', Object.assign({}, this.$store.getters.boards.find(x => x.boardId === this.boardId)));\n        this.$store.dispatch('showSnackbar', { text: `${this.$store.getters.boards.find(x => x.boardId === this.boardId).boardName} 토픽을 구독하였습니다.`, color: 'info' });\n      }\n\n      if (!this.content || this.content.trim() === '') {\n        this.$store.dispatch('showSnackbar', { text: '댓글 내용을 입력해주세요.', color: 'error' })\n        return;\n      }\n      if (!this.formData) this.formData = new FormData();\n      await this.attachImages();\n      if (this.defaultComment) {\n        await this.updateComment();\n        return;\n      }\n      this.formData.append('documentId', this.$route.params.documentId);\n      this.formData.append('contents', JSON.stringify(this.$refs.commentEditor.quill.editor.delta));\n      this.formData.append('isAnonymous', this.anonymous);\n      if (this.commentTo) {\n        this.formData.append('parentCommentId', this.commentTo);\n      }\n      this.$axios\n        .post('/comment', this.formData, { headers: { silent: true } })\n        .then(res => {\n          this.$refs.commentEditor.quill.setText('');\n          this.revertImages();\n          this.loading = false;\n          this.$emit('update');\n          delete this.formData;\n        })\n        .catch(error => {\n          console.log(error);\n          delete this.formData;\n          this.revertImages();\n          this.loading = false;\n          this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '댓글을 등록하지 못했습니다.'}`, color: 'error' });\n        });\n    },\n    async updateComment () {\n      if (!confirm('댓글을 수정하시겠습니까?')) {\n        this.loading = false;\n        return;\n      }\n      // Convert Images And Upload First\n      try {\n        if (!this.formData) this.formData = new FormData();\n        if (this.defaultComment.parentCommentId) {\n          this.formData.append('parentCommentId', this.defaultComment.parentCommentId);\n        }\n        this.formData.append('documentId', this.$route.params.documentId);\n        this.formData.append('commentId', this.defaultComment.commentId)\n        await this.attachImages(); // change image url here\n        await this.processFileChange()\n        let modifiedBody = {\n          documentId: this.$route.params.documentId,\n          commentId: this.defaultComment.commentId,\n          contents: JSON.stringify(this.$refs.commentEditor.quill.editor.delta)\n        }\n        console.log(modifiedBody)\n        return this.$axios\n          .put(`/comment`, modifiedBody)\n          .then(response => {\n            this.loading = false;\n            if (response.status === 200) {\n              console.log(response)\n              this.$store.dispatch('showSnackbar', { text: '댓글을 수정하였습니다', color: 'success' })\n              this.$emit('update');\n            }\n          })\n          .catch(error => {\n            this.loading = false;\n            this.$store.dispatch('showSnackbar', { text: '댓글 수정에 실패했습니다. 다시 시도해주세요', color: 'error' })\n            console.log(error.response);\n          })\n      } catch (err) {\n        this.loading = false;\n        console.log(err)\n        this.$store.dispatch('showSnackbar', { text: '댓글 수정에 실패했습니다. 다시 시도해주세요', color: 'error' })\n        this.revertImages();\n        delete this.formData\n      }\n    },\n    async processFileChange () {\n      let attachFromServer = this.defaultComment.attach.filter(a => a !== null)\n      let currentImageId = this.$refs.commentEditor.quill.editor.delta.ops.map(item => {\n        if (item.insert.hasOwnProperty('image')) {\n          if (item.insert.image.startsWith('/attach')) {\n            // '/attach/:documentId(^[\\\\d]+$)/:attachId\n            return attachFromServer.find(a => item.insert.image === '/' + a.attach_path).attach_id\n          }\n        }\n      });\n      let deleteImageP, uploadFileP\n      attachFromServer.forEach(a => {\n        if (a.insert && !currentImageId.filter(i => i !== undefined).includes(a.attach_id)) {\n          deleteImageP = this.$axios\n            .delete(`/comment/attach/${this.documentId}/${a.attach_id}`)\n            .then(response => {\n              if (response.status === 200) {\n                console.log(response)\n              }\n            })\n            .catch(error => {\n              console.log(error.response);\n            });\n        }\n      })\n      let fileCount = 0;\n      for (let pair of this.formData.entries()) {\n        if (pair[0] === 'attach') fileCount += 1;\n      }\n      if (fileCount > 0) {\n        uploadFileP = this.$axios\n          .post(`/comment/attach`, this.formData)\n          .then(response => {\n            if (response.status === 200) {\n              console.log(response)\n            }\n          })\n          .catch(error => {\n            console.log(error.response);\n          });\n      }\n      await Promise.all([deleteImageP, uploadFileP])\n        .then(res => {\n          console.log(res)\n        })\n        .catch(err => {\n          console.log(err)\n          this.$store.dispatch('showSnackbar', { text: ' 댓글 수정에 실패했습니다. 다시 시도해주세요', color: 'error' })\n        })\n    }\n  }\n};\n</script>\n<style>\n.comment-editor .ql-container.ql-bubble {\n  min-height: 5rem;\n  border: 1px solid #e8e8e8;\n  border-top: 1px solid #e8e8e8;\n}\n.comment-editor .quill-editor .ql-bubble .ql-tooltip {\n  z-index: 1;\n}\n.comment-editor .ql-bubble .ql-picker.ql-size {\n  width: 60px;\n}\n.comment-editor .ql-editor.ql-blank::before {\n  font-style: normal;\n}\n.comment-editor .video-container {\n  position: relative;\n  height: 0;\n  width: 100%;\n  padding-bottom: 56%;\n}\n.comment-editor .video-container iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentWriter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentWriter.vue?vue&type=template&id=7b69626d&\"\nimport script from \"./CommentWriter.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentWriter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentWriter.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"d-inline-flex\"},[(_vm.nickName !== '')?[_c(_vm.$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu',{tag:\"component\",attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"lazy\":\"\",\"offset-y\":\"\"},model:{value:(_vm.userLinkMenu),callback:function ($$v) {_vm.userLinkMenu=$$v},expression:\"userLinkMenu\"}},[_c('span',{staticClass:\"cursor-pointer font-weight-bold body--text\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(_vm._s(_vm.nickName))]),_c('v-list',{attrs:{\"dense\":\"\"}},[(_vm.boardType !== 'T')?_c('v-list-tile',{on:{\"click\":_vm.showProfile}},[_c('v-list-tile-title',[_vm._v(\"\\n            프로필보기\\n          \")])],1):_vm._e(),_c('v-list-tile',{on:{\"click\":_vm.sendMessage}},[_c('v-list-tile-title',[_vm._v(\"\\n            메시지 보내기\\n          \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500\",\"lazy\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\",attrs:{\"primary-title\":\"\"}},[_c('span',[_vm._v(\"프로필\")]),_c('v-spacer'),_c('v-icon',{on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"close\")])],1),_c('v-card-text',[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('div',{staticClass:\"text-xs-center justify-center align-center\"},[_c('p',[_c('v-avatar',{attrs:{\"size\":\"200\"}},[_c('img',{attrs:{\"src\":_vm.profile.picturePath? _vm.webUrl+ _vm.profile.picturePath : require('@/static/img/defaultUser.png'),\"alt\":\"프로필 이미지\"}})])],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"라운지 필명\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.nickName))])]),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"회원 구분\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.userAuthItems[_vm.profile.auth]))])]),(_vm.profile.isOpenInfo)?[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"지역\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.region && _vm.groupItems.some(function (x){ return x.value === _vm.profile.region; }) ? _vm.groupItems.find(function (x){ return x.value === _vm.profile.region; }).text : '지역정보 없음'))])]),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"전공\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.major && _vm.groupItems.some(function (x){ return x.value === _vm.profile.major; }) ? _vm.groupItems.find(function (x){ return x.value === _vm.profile.major; }).text : '전공정보 없음'))])]),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-subheader',[_vm._v(\"학년\")])],1),_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"v-subheader\"},[_vm._v(_vm._s(_vm.profile.grade && _vm.groupItems.some(function (x){ return x.value === _vm.profile.grade; }) ? _vm.groupItems.find(function (x){ return x.value === _vm.profile.grade; }).text : '학년정보 없음'))])])]:_c('div',{staticClass:\"text-xs-center flex mt-3\"},[_vm._v(\"상세 프로필이 비공개로 설정되어 있습니다.\")])],2)],1)])],1),_c('v-card-actions',[_c('v-layout',{attrs:{\"row\":\"\",\"text-xs-center\":\"\"}},[_c('v-spacer'),_c('v-btn',{on:{\"click\":_vm.sendMessage}},[_vm._v(\"메시지 보내기\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"닫기\")])],1)],1)],1)],1)]:_c('span',{staticClass:\"grey--text lighten-1\"},[_vm._v(\"익명\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"d-inline-flex\">\n    <template v-if=\"nickName !== ''\">\n      <component :is=\"$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu'\" v-model=\"userLinkMenu\" open-on-hover bottom lazy offset-y>\n        <span slot=\"activator\" class=\"cursor-pointer font-weight-bold body--text\">{{nickName}}</span>\n        <v-list dense>\n          <v-list-tile v-if=\"boardType !== 'T'\" @click=\"showProfile\">\n            <v-list-tile-title>\n              프로필보기\n            </v-list-tile-title>\n          </v-list-tile>\n          <v-list-tile @click=\"sendMessage\">\n            <v-list-tile-title>\n              메시지 보내기\n            </v-list-tile-title>\n          </v-list-tile>\n        </v-list>\n      </component>\n      <v-dialog v-model=\"dialog\" max-width=\"500\" lazy>\n        <v-card>\n          <v-card-title class=\"headline\" primary-title>\n            <span>프로필</span>\n            <v-spacer/>\n            <v-icon @click=\"dialog = false\">close</v-icon>\n          </v-card-title>\n          <v-card-text>\n            <v-flex xs12>\n              <div class=\"text-xs-center justify-center align-center\">\n                <p>\n                  <v-avatar size=\"200\">\n                    <img :src=\"profile.picturePath? webUrl+ profile.picturePath : require('@/static/img/defaultUser.png')\" alt=\"프로필 이미지\">\n                  </v-avatar>\n                </p>\n                <v-layout row wrap>\n                  <v-flex xs4>\n                    <v-subheader>라운지 필명</v-subheader>\n                  </v-flex>\n                  <v-flex xs8>\n                    <div class=\"v-subheader\">{{profile.nickName}}</div>\n                  </v-flex>\n                  <v-flex xs4>\n                    <v-subheader>회원 구분</v-subheader>\n                  </v-flex>\n                  <v-flex xs8>\n                    <div class=\"v-subheader\">{{userAuthItems[profile.auth]}}</div>\n                  </v-flex>\n                  <template v-if=\"profile.isOpenInfo\">\n                    <v-flex xs4>\n                      <v-subheader>지역</v-subheader>\n                    </v-flex>\n                    <v-flex xs8>\n                      <div class=\"v-subheader\">{{profile.region && groupItems.some(x=>x.value === profile.region) ? groupItems.find(x=>x.value === profile.region).text : '지역정보 없음'}}</div>\n                    </v-flex>\n                    <v-flex xs4>\n                      <v-subheader>전공</v-subheader>\n                    </v-flex>\n                    <v-flex xs8>\n                      <div class=\"v-subheader\">{{profile.major && groupItems.some(x=>x.value === profile.major) ? groupItems.find(x=>x.value === profile.major).text : '전공정보 없음'}}</div>\n                    </v-flex>\n                    <v-flex xs4>\n                      <v-subheader>학년</v-subheader>\n                    </v-flex>\n                    <v-flex xs8>\n                      <div class=\"v-subheader\">{{profile.grade && groupItems.some(x=>x.value === profile.grade) ? groupItems.find(x=>x.value === profile.grade).text : '학년정보 없음'}}</div>\n                    </v-flex>\n                  </template>\n                  <div v-else class=\"text-xs-center flex mt-3\">상세 프로필이 비공개로 설정되어 있습니다.</div>\n                </v-layout>\n              </div>\n\n            </v-flex>\n          </v-card-text>\n          <v-card-actions>\n            <v-layout row text-xs-center>\n              <v-spacer/>\n              <v-btn @click=\"sendMessage\">메시지 보내기</v-btn>\n              <v-btn color=\"primary\" @click=\"dialog = false\">닫기</v-btn>\n            </v-layout>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </template>\n    <span v-else class=\"grey--text lighten-1\">익명</span>\n  </span>\n</template>\n<script>\nimport BoardMixins from '@/components/mixins/BoardMixins';\nconst groupName = { M: '전공', G: '학년', N: '일반', R: '지역', Z: '인증' };\nexport default {\n  name: 'UserLink',\n  props: ['nickName', 'boardType'],\n  data () {\n    return {\n      userLinkMenu: false,\n      dialog: false,\n      profile: {},\n      groupItems: [],\n      userAuthItems: {\n        N: '예비교사(미인증)',\n        A: '현직교사(인증)',\n        E: '전직교사(인증 만료)',\n        D: '인증제한'\n      }\n    };\n  },\n  mixins: [BoardMixins],\n  methods: {\n    sendMessage () {\n      this.$axios.post('/message/list', { nickName: this.nickName, chatType: this.boardType === 'T' ? 'T' : 'L' })\n        .then(response => {\n          this.$router.push('/message?chatId=' + response.data.chatId);\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409 && error.response.data.chatId) {\n            this.$router.push('/message?chatId=' + error.response.data.chatId);\n          } else {\n            console.log(error);\n            this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '채팅을 만들지 못했습니다.'}`, color: 'error' });\n          }\n        })\n    },\n    showProfile () {\n      if (this.profile && this.profile.nickName === this.nickName) {\n        this.dialog = true;\n      } else {\n        this.$axios.get('/profile', { params: { nickName: this.nickName } })\n          .then(response => {\n            this.profile = response.data\n            this.dialog = true;\n          })\n          .catch(error => {\n            console.log(error);\n            this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '프로필을 불러오지 못했습니다.'}`, color: 'error' });\n          })\n      }\n    }\n  },\n  created () {\n    if (this.$store.getters.groups) {\n      this.groupItems = this.$store.getters.groups;\n    } else {\n      this.$axios\n        .get('/group', { headers: { silent: true } })\n        .then(response => {\n          response.data.forEach(x => {\n            if (x.groupType === 'N' || x.groupType === 'D' || x.groupType === 'E') {\n              x.groupType = 'Z';\n            }\n          });\n          this.groupItems = response.data.sort((a, b) => (a.groupType < b.groupType ? -1 : a.groupType === b.groupType ? 0 : 1));\n          let previous = null;\n          let i = 0;\n          while (i < this.groupItems.length) {\n            if (previous !== this.groupItems[i].groupType) {\n              if (previous) {\n                previous = this.groupItems[i].groupType;\n                this.groupItems.splice(i, 0, { divider: true });\n                i++;\n              } else {\n                previous = this.groupItems[i].groupType;\n              }\n              this.groupItems.splice(i, 0, { header: groupName[previous] });\n              i++;\n            }\n            i++;\n          }\n          this.groupItems = this.groupItems.map(x => (x.groupName ? { text: x.groupName, value: x.groupId } : x));\n          this.$store.dispatch('setGroups', this.groupItems);\n        })\n        .catch(error => {\n          this.$store.dispatch('showSnackbar', { text: `그룹 목록을 가져오지 못했습니다.${error && error.response && error.response.data ? '[' + error.response.data.message + ']' : ''}` });\n        });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLink.vue?vue&type=template&id=b24e0464&\"\nimport script from \"./UserLink.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLink.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[(_vm.best && _vm.best.length > 0)?_c('v-card',{staticClass:\"mb-3 elevation-1\",attrs:{\"flat\":\"\"}},[_c('v-list',{staticClass:\"commentList py-0\",attrs:{\"two-line\":\"\"}},[_vm._l((_vm.best),function(item,index){return [_c('v-list-tile',{key:'best'+index,staticClass:\"bestComment\"},[_c('comment-item',{attrs:{\"comment\":item,\"commentIndex\":index,\"reportTypes\":_vm.reportTypes,\"isBest\":true},on:{\"update\":_vm.getCommentList}})],1),_c('v-divider',{key:'bestDivider'+index})]})],2)],1):_vm._e(),_c('v-card',[_c('v-list',{staticClass:\"commentList py-0 pb-1\",attrs:{\"two-line\":\"\"}},[_vm._l((_vm.commentList),function(item,index){return [_c('v-list-tile',{key:index},[_c('comment-item',{attrs:{\"comment\":item,\"commentIndex\":index,\"reportTypes\":_vm.reportTypes,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"openRecomment\":_vm.openRecomment,\"update\":_vm.getCommentList}})],1),(item.children)?_c('div',{key:'child'+index},[(item.children.length > 5)?_c('v-list-group',{key:item.title,attrs:{\"prepend-icon\":item.action,\"lazy\":\"\"},model:{value:(item.active),callback:function ($$v) {_vm.$set(item, \"active\", $$v)},expression:\"item.active\"}},[_c('v-list-tile',{attrs:{\"slot\":\"activator\",\"avatar\":\"\"},slot:\"activator\"},[_c('v-list-tile-action'),_c('v-list-tile-title',{staticClass:\"text-xs-center\"},[_c('small',[_vm._v(_vm._s(item.active?'답글 숨기기':'이전 '+(item.children.length - 5)+'개의 답글 펼치기'))])])],1),_vm._l((item.children.filter(function (x, y) { return y < (item.children.length - 5); })),function(childItem,childIndex){return _c('div',{key:'hidden'+childIndex},[_c('v-divider',{attrs:{\"inset\":\"\"}}),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-action'),_c('comment-item',{attrs:{\"comment\":childItem,\"commentIndex\":childIndex,\"children\":true,\"reportTypes\":_vm.reportTypes,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"update\":_vm.getCommentList}})],1)],1)})],2):_vm._e(),(item.children.length > 5)?void 0:_vm._e(),_vm._l(((item.children.length > 5 ? item.children.filter(function (x, y) { return y >= (item.children.length - 5); }) : item.children)),function(childItem,childIndex){return _c('div',{key:childIndex},[_c('v-divider',{attrs:{\"inset\":\"\"}}),_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-action'),_c('comment-item',{attrs:{\"comment\":childItem,\"commentIndex\":childIndex,\"children\":true,\"reportTypes\":_vm.reportTypes,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"update\":_vm.getCommentList}})],1)],1)})],2):_vm._e(),(_vm.openRecommentIndex === index && _vm.isCommentWritable !== 'DELETED')?_c('v-list-tile',{key:'writer'+index,staticClass:\"pl-5\"},[_c('CommentWriter',{attrs:{\"commentTo\":item.commentId,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable,\"boardId\":_vm.boardId},on:{\"update\":_vm.getCommentList}})],1):_vm._e(),_c('v-divider',{key:'divider'+index})]})],2),(_vm.pages > 1)?_c('v-flex',{attrs:{\"text-xs-center\":\"\",\"mt-2\":\"\",\"xs12\":\"\"}},[_c('v-pagination',{attrs:{\"id\":\"commentPagination\",\"length\":_vm.pages,\"total-visible\":_vm.$vuetify.breakpoint.smAndUp?10:undefined},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1):_vm._e(),(_vm.isCommentWritable !== 'DELETED')?_c('div',{staticClass:\"pt-2\"},[_c('comment-writer',{attrs:{\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"update\":_vm.getCommentList}})],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list-tile-content',{staticClass:\"py-1 px-0\"},[_c('v-list-tile-title',[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[(_vm.isBest)?_c('v-chip',{staticClass:\"white--text ml-0 my-0 ml-3\",attrs:{\"label\":\"\",\"small\":\"\",\"color\":\"primary\"}},[_vm._v(\"베스트\")]):_vm._e()],1),(!_vm.updatingComment)?_c('v-flex',[_c('div',{class:{'commentContents ql-editor pa-0 px-3':true, 'body-1':_vm.comment.isDeleted,'grey--text':_vm.comment.isDeleted, 'lighten-1':_vm.comment.isDeleted},domProps:{\"innerHTML\":_vm._s(_vm.comment.isDeleted?_vm.comment.contents:_vm.deltaToHTML(JSON.parse(_vm.comment.contents)))}})]):_vm._e()],1)],1),(!_vm.comment.isDeleted)?_c('v-list-tile-sub-title',{staticClass:\"px-3\"},[(!_vm.updatingComment)?_c('v-layout',{staticClass:\"body-1\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"text-xs-left\":\"\"}},[_c('user-link',{attrs:{\"nickName\":_vm.comment.nickName,\"boardType\":_vm.$store.getters.boardType}}),_c('small',{staticClass:\"accent--text\"},[_vm._v(\"(\"+_vm._s(_vm.comment.animalName)+\")\")]),_c('small',{staticClass:\"ml-1\"},[_vm._v(_vm._s(_vm.$moment(_vm.comment.writeDateTime, 'YYYYMMDDHHmmss').isSame(_vm.$moment(), 'day')?_vm.$moment(_vm.comment.writeDateTime, 'YYYYMMDDHHmmss').format('HH:mm'):_vm.timeParser(_vm.comment.writeDateTime)))]),(!_vm.children && !_vm.isBest && _vm.isCommentWritable !== 'DELETED')?_c('b',{staticClass:\"cursor-pointer\",attrs:{\"title\":\"답글 쓰기\"},on:{\"click\":function($event){return _vm.$emit('openRecomment', _vm.commentIndex)}}},[_vm._v(\"\\n          답글\"+_vm._s(_vm.comment.childCount > 0? (\"(\" + (_vm.comment.childCount) + \")\"):\"\")+\"\\n        \")]):_vm._e()],1),_c('v-spacer'),_c('v-flex',{attrs:{\"text-xs-right\":\"\",\"px-2\":\"\"}},[(_vm.isBest)?_c('span',{staticClass:\"cursor-pointer\",attrs:{\"title\":\"추천\"},on:{\"click\":_vm.voteUp}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"small\":\"\"}},[_vm._v(\"thumb_up\")]),_c('b',{staticClass:\"mx-1 body--text\"},[_vm._v(_vm._s(_vm.comment.voteUpCount))])],1):[_c('span',{staticClass:\"cursor-pointer\",attrs:{\"title\":\"추천\"},on:{\"click\":_vm.voteUp}},[_c('v-icon',{attrs:{\"color\":\"primary\",\"small\":\"\"}},[_vm._v(\"thumb_up\")]),_c('b',{staticClass:\"mx-1 body--text\"},[_vm._v(_vm._s(_vm.comment.voteUpCount))]),_vm._v(\" |\\n          \")],1),(_vm.comment.isWriter)?[_c('span',{staticClass:\"cursor-pointer\",on:{\"click\":_vm.updateComment}},[_vm._v(\"수정\")]),_vm._v(\" |\\n            \"),_c('span',{staticClass:\"cursor-pointer\",on:{\"click\":_vm.deleteComment}},[_vm._v(\"삭제\")])]:_c('v-menu',{attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"offset-y\":\"\",\"lazy\":\"\"}},[_c('span',{staticClass:\"cursor-pointer\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"신고\")]),_c('v-list',{attrs:{\"two-line\":\"\"}},_vm._l((_vm.reportTypes),function(item,index){return _c('v-list-tile',{key:item.reportTypeId,class:{'mt-2':index>0},on:{\"click\":function($event){return _vm.reportComment(item)}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(item.reportTypeName))]),_c('v-list-tile-sub-title',[_vm._v(_vm._s(item.reportTypeDescription))])],1)],1)}),1)],1)]],2)],1):(_vm.isCommentWritable !== 'DELETED')?_c('v-layout',[_c('comment-writer',{attrs:{\"defaultComment\":_vm.comment,\"isAnonymous\":_vm.isAnonymous,\"allowAnonymous\":_vm.allowAnonymous,\"isCommentWritable\":_vm.isCommentWritable},on:{\"revokeUpdate\":function($event){_vm.updatingComment=false},\"update\":function($event){_vm.updatingComment=false; _vm.$emit('update')}}})],1):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-list-tile-content class=\"py-1 px-0\">\n    <v-list-tile-title>\n      <v-layout column>\n        <v-flex>\n          <v-chip label small color=\"primary\" class=\"white--text ml-0 my-0 ml-3\" v-if=\"isBest\">베스트</v-chip>\n        </v-flex>\n        <v-flex v-if=\"!updatingComment\">\n          <div v-html=\"comment.isDeleted?comment.contents:deltaToHTML(JSON.parse(comment.contents))\" :class=\"{'commentContents ql-editor pa-0 px-3':true, 'body-1':comment.isDeleted,'grey--text':comment.isDeleted, 'lighten-1':comment.isDeleted}\"></div>\n        </v-flex>\n      </v-layout>\n    </v-list-tile-title>\n    <v-list-tile-sub-title v-if=\"!comment.isDeleted\" class=\"px-3\">\n      <v-layout v-if=\"!updatingComment\" row class=\"body-1\" wrap>\n        <!--prettyhtml-ignore-->\n        <v-flex text-xs-left>\n          <user-link :nickName=\"comment.nickName\" :boardType=\"$store.getters.boardType\"/>\n          <small class=\"accent--text\">({{comment.animalName}})</small><small class=\"ml-1\">{{$moment(comment.writeDateTime, 'YYYYMMDDHHmmss').isSame($moment(), 'day')?$moment(comment.writeDateTime, 'YYYYMMDDHHmmss').format('HH:mm'):timeParser(comment.writeDateTime)}}</small>\n          <b v-if=\"!children && !isBest && isCommentWritable !== 'DELETED'\" class=\"cursor-pointer\" @click=\"$emit('openRecomment', commentIndex)\" title=\"답글 쓰기\">\n            답글{{comment.childCount > 0? `(${comment.childCount})`:\"\"}}\n          </b>\n        </v-flex>\n        <v-spacer/>\n        <v-flex text-xs-right px-2>\n          <span @click=\"voteUp\" class=\"cursor-pointer\" title=\"추천\" v-if=\"isBest\">\n            <v-icon color=\"primary\" small>thumb_up</v-icon>\n            <b class=\"mx-1 body--text\">{{comment.voteUpCount}}</b>\n          </span>\n          <template v-else>\n            <span @click=\"voteUp\" class=\"cursor-pointer\" title=\"추천\">\n              <v-icon color=\"primary\" small>thumb_up</v-icon>\n              <b class=\"mx-1 body--text\">{{comment.voteUpCount}}</b> |\n            </span>\n            <template v-if=\"comment.isWriter\">\n              <span class=\"cursor-pointer\" @click=\"updateComment\">수정</span> |\n              <span class=\"cursor-pointer\" @click=\"deleteComment\">삭제</span>\n            </template>\n            <v-menu open-on-hover bottom offset-y lazy v-else>\n              <span class=\"cursor-pointer\" slot=\"activator\">신고</span>\n              <v-list two-line>\n                <v-list-tile v-for=\"(item, index) in reportTypes\" :key=\"item.reportTypeId\" @click=\"reportComment(item)\" :class=\"{'mt-2':index>0}\">\n                  <v-list-tile-content>\n                    <v-list-tile-title>{{ item.reportTypeName }}</v-list-tile-title>\n                    <v-list-tile-sub-title>{{item.reportTypeDescription}}</v-list-tile-sub-title>\n                  </v-list-tile-content>\n                </v-list-tile>\n              </v-list>\n            </v-menu>\n          </template>\n        </v-flex>\n      </v-layout>\n      <v-layout v-else-if=\"isCommentWritable !== 'DELETED'\">\n        <comment-writer :defaultComment=\"comment\" @revokeUpdate=\"updatingComment=false\" @update=\"updatingComment=false; $emit('update')\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n      </v-layout>\n    </v-list-tile-sub-title>\n  </v-list-tile-content>\n</template>\n\n<script>\nimport BoardMixins from '@/components/mixins/BoardMixins';\nimport UserLink from '@/components/UserLink';\nimport CommentWriter from './CommentWriter';\nimport Quill from 'quill';\n\nexport default {\n  props: ['comment', 'commentIndex', 'children', 'reportTypes', 'isBest', 'isAnonymous', 'allowAnonymous', 'isCommentWritable'],\n  mixins: [BoardMixins],\n  components: {\n    UserLink, CommentWriter\n  },\n  data () {\n    return {\n      updatingComment: false\n    }\n  },\n  methods: {\n    voteUp () {\n      this.$axios\n        .post('/vote/comment', { commentId: this.comment.commentId }, { headers: { silent: true } })\n        .then(response => {\n          this.comment.voteUpCount = response.data.voteUpCount;\n        })\n        .catch(error => {\n          this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '추천하지 못했습니다.'}`, color: 'error' });\n        });\n    },\n    deleteComment () {\n      this.$axios\n        .put('/comment', { commentId: this.comment.commentId, isDeleted: true })\n        .then(response => {\n          this.comment.contents = '삭제된 댓글입니다.'\n          this.comment.isDeleted = true;\n          this.$store.dispatch('showSnackbar', { text: '댓글을 삭제하였습니다.', color: 'success' });\n        })\n        .catch(error => {\n          console.log(error);\n          this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '댓글을 삭제하지 못했습니다.'}`, color: 'error' });\n        });\n    },\n    updateComment () {\n      this.updatingComment = true\n    },\n    reportComment (item) {\n      this.$axios\n        .post('/report/comment', { commentId: this.comment.commentId, reportTypeId: item.reportTypeId })\n        .then(response => {\n          this.$store.dispatch('showSnackbar', { text: '댓글을 신고하였습니다.', color: 'success' });\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409) {\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '댓글을 신고하지 못했습니다.' : '댓글을 신고하지 못했습니다.', color: 'info' });\n          } else {\n            console.log(error);\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '댓글을 신고하지 못했습니다.' : '댓글을 신고하지 못했습니다.', color: 'error' });\n          }\n        });\n    },\n    deltaToHTML (delta) {\n      var tempCont = document.createElement('div');\n      let quill = new Quill(tempCont);\n      delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty('image')) {\n          if (this.comment.attach.some(x => x.attach_name === item.insert.image)) {\n            item.attributes = {\n              download: item.insert.image,\n              alt: item.insert.image\n            };\n            item.insert.image = this.webUrl + this.comment.attach.find(x => x.attach_name === item.insert.image).attach_path;\n            item.attributes.link = item.insert.image;\n          }\n        }\n      });\n      quill.setContents(delta);\n      // Clean spaces between tags\n      let newText = tempCont.getElementsByClassName('ql-editor')[0].innerHTML.replace(/(<(pre|script|style|textarea)[^]+?<\\/\\2)|(^|>)\\s+|\\s+(?=<|$)/g, '$1$3')\n\n      // Clean empty paragraphs before the content\n      // <p><br/><p> && <p></p>\n      let slicer;\n      while (newText.slice(0, 7) === '<p></p>' || newText.slice(0, 11) === '<p><br></p>') {\n        if (newText.slice(0, 7) === '<p></p>') slicer = 7\n        else slicer = 11\n        newText = newText.substring(slicer, newText.length)\n      }\n\n      // Clean empty paragraphs after the content\n      while (newText.slice(-7) === '<p></p>' || newText.slice(-11) === '<p><br></p>') {\n        if (newText.slice(-7) === '<p></p>') slicer = 7\n        else slicer = 11\n        newText = newText.substring(0, newText.length - slicer)\n      }\n      // Return the clean Text\n      return newText\n    },\n    getImagePath (imagePath) {\n      console.log(this.comment);\n      let attach = this.comment.attach;\n      return this.webUrl + attach.find(item => item.attachName === imagePath).attachPath;\n    }\n  }\n};\n</script>\n<style>\n.commentContents p {\n  margin-bottom: 3px;\n  word-break:break-all;\n}\n.commentContents p img {\n  max-width: 100%;\n}\n.commentContents .video-container{\n  position:relative;\n  height:0;\n  width:100%;\n  padding-bottom:56%;\n}\n.commentContents .video-container iframe{\n  position:absolute;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n}\n@media (max-width: 600px) {\n  .commentContents p img {\n    max-width: calc(100% + 32px);\n    margin-left: -16px;\n    margin-right: -16px;\n  }\n  .commentContents .video-container{\n    position:relative;\n    height:0;\n    width:calc(100% + 32px);\n    margin-left:-16px;\n    margin-right:-16px;\n    padding-bottom:56%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=52d16680&\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-layout row>\n    <v-flex xs12>\n      <v-card class=\"mb-3 elevation-1\" flat v-if=\"best && best.length > 0\">\n        <v-list two-line class=\"commentList py-0\">\n          <template v-for=\"(item, index) in best\">\n            <v-list-tile :key=\"'best'+index\" class=\"bestComment\">\n              <comment-item :comment=\"item\" :commentIndex=\"index\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isBest=\"true\"/>\n            </v-list-tile>\n            <v-divider :key=\"'bestDivider'+index\"></v-divider>\n          </template>\n        </v-list>\n      </v-card>\n      <v-card>\n        <v-list two-line class=\"commentList py-0 pb-1\">\n          <template v-for=\"(item, index) in commentList\">\n            <v-list-tile :key=\"index\">\n              <comment-item :comment=\"item\" :commentIndex=\"index\" @openRecomment=\"openRecomment\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n            </v-list-tile>\n            <div :key=\"'child'+index\" v-if=\"item.children\">\n              <v-list-group v-model=\"item.active\" :key=\"item.title\" :prepend-icon=\"item.action\" v-if=\"item.children.length > 5\" lazy>\n                <v-list-tile slot=\"activator\" avatar>\n                  <v-list-tile-action></v-list-tile-action>\n                  <v-list-tile-title class=\"text-xs-center\">\n                    <small>{{item.active?'답글 숨기기':'이전 '+(item.children.length - 5)+'개의 답글 펼치기'}}</small>\n                  </v-list-tile-title>\n                </v-list-tile>\n                <div v-for=\"(childItem, childIndex) in item.children.filter((x, y) => y < (item.children.length - 5))\" :key=\"'hidden'+childIndex\">\n                  <v-divider inset/>\n                  <v-list-tile avatar>\n                    <v-list-tile-action></v-list-tile-action>\n                    <comment-item :comment=\"childItem\" :commentIndex=\"childIndex\" :children=\"true\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n                  </v-list-tile>\n                </div>\n              </v-list-group>\n              <template v-if=\"item.children.length > 5\"></template>\n              <div v-for=\"(childItem, childIndex) in (item.children.length > 5 ? item.children.filter((x, y) => y >= (item.children.length - 5)) : item.children)\" :key=\"childIndex\">\n                <v-divider inset/>\n                <v-list-tile avatar>\n                  <v-list-tile-action></v-list-tile-action>\n                  <comment-item :comment=\"childItem\" :commentIndex=\"childIndex\" :children=\"true\" @update=\"getCommentList\" :reportTypes=\"reportTypes\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n                </v-list-tile>\n              </div>\n            </div>\n            <v-list-tile :key=\"'writer'+index\" v-if=\"openRecommentIndex === index && isCommentWritable !== 'DELETED'\" class=\"pl-5\">\n              <CommentWriter :commentTo=\"item.commentId\" @update=\"getCommentList\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\" :boardId=\"boardId\"/>\n            </v-list-tile>\n            <v-divider :key=\"'divider'+index\"></v-divider>\n          </template>\n        </v-list>\n        <v-flex text-xs-center mt-2 xs12 v-if=\"pages > 1\">\n          <v-pagination id=\"commentPagination\" v-model=\"page\" :length=\"pages\" :total-visible=\"$vuetify.breakpoint.smAndUp?10:undefined\"></v-pagination>\n        </v-flex>\n        <div class=\"pt-2\" v-if=\"isCommentWritable !== 'DELETED'\">\n          <comment-writer @update=\"getCommentList\" :isAnonymous=\"isAnonymous\" :allowAnonymous=\"allowAnonymous\" :isCommentWritable=\"isCommentWritable\"/>\n        </div>\n      </v-card>\n    </v-flex>\n  </v-layout>\n</template>\n<script>\nimport BoardMixins from '@/components/mixins/BoardMixins';\nimport CommentItem from './CommentItem';\nimport CommentWriter from './CommentWriter';\n\nexport default {\n  mixins: [BoardMixins],\n  components: {\n    CommentItem,\n    CommentWriter\n  },\n  props: ['isAnonymous', 'allowAnonymous', 'isCommentWritable', 'reportTypes', 'boardId', 'best', 'pages'],\n  data () {\n    return {\n      commentList: [],\n      openRecommentIndex: -1,\n      page: undefined,\n      documentId: this.$route.params.documentId\n    };\n  },\n  methods: {\n    getCommentList () {\n      this.openRecommentIndex = -1;\n      this.$axios\n        .get('/comment', { params: { documentId: this.$route.params.documentId, page: this.page }, headers: { silent: true } })\n        .then(res => {\n          res.data.forEach(x => {\n            if (Array.isArray(x.attach)) {\n              x.attach = x.attach.filter(x => x);\n            }\n          });\n          this.commentList = res.data;\n        })\n        .catch(err => console.log(err));\n    },\n    openRecomment (commentIndex) {\n      if (this.openRecommentIndex === commentIndex) this.openRecommentIndex = -1;\n      else this.openRecommentIndex = commentIndex;\n    }\n  },\n  watch: {\n    '$route.params': {\n      handler () {\n        if (!this.page || this.documentId !== this.$route.params.documentId) {\n          this.$nextTick(() => {\n            this.documentId = this.$route.params.documentId;\n            this.page = this.pages;\n          });\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    page (val) {\n      this.getCommentList();\n    },\n    documentId (val) {\n      this.getCommentList();\n    },\n    pages (val) {\n      this.page = this.pages;\n    }\n  }\n};\n</script>\n<style>\n.commentList .v-list__tile__title {\n  white-space: unset;\n  overflow: visible;\n  height:auto;\n}\n.commentList.v-list--two-line .v-list__tile {\n  height: auto;\n  padding: 8px 0;\n}\n.commentList .v-list__tile__content {\n  height: auto;\n  padding: 0 16px;\n}\n.commentList .bestComment {\n  background-color: #b3e5fc;\n}\n#commentPagination .v-pagination__item,\n#commentPagination .v-pagination__item--active,\n#commentPagination .v-pagination__navigation {\n  box-shadow: none;\n  margin: 0;\n  padding: 0;\n}\n#commentPagination .v-pagination__item--active {\n  color: black;\n  font-weight: bold;\n  background-color: white !important;\n  border-color: white !important;\n}\n.commentList.v-list .v-list__group--active:before,\n.commentList.v-list .v-list__group--active:after {\n  display: none;\n}\n@media (max-width: 599px) {\n  .commentList.theme--light.v-list .v-list__group__header:hover {\n    background-color: #fff;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewComments.vue?vue&type=template&id=160962ce&\"\nimport script from \"./ViewComments.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewComments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewComments.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-layout column v-if=\"document\">\n    <v-flex>\n      <v-card-title primary-title>\n        <div class=\"w-100\">\n          <router-link :to=\"'/'+document.boardId+'/'+documentId\" class=\"title mb-0 multi-row\">{{document.title}}</router-link>\n          <v-layout row mt-1>\n            <v-spacer/>\n            <v-flex text-xs-right>\n              <user-link :nickName=\"document.nickName\" :boardType=\"board.boardType\"/>\n              | 댓글 {{document.commentCount}} | 조회 {{document.viewCount}} | {{$moment(document.writeDateTime, \"YYYYMMDDHHmmss\").format(\"Y.MM.DD HH:mm:ss\")}}\n            </v-flex>\n          </v-layout>\n        </div>\n      </v-card-title>\n    </v-flex>\n    <v-divider/>\n    <v-flex xs12>\n      <v-card-text class=\"px-0\">\n        <div v-html=\"documentHTML\" id=\"documentContents\" class=\"ql-editor py-0 px-3\"></div>\n      </v-card-text>\n    </v-flex>\n    <v-layout row justify-center v-if=\"document.hasSurvey && document.survey\">\n      <v-flex xs12 sm10 md8 mx-3>\n        <survey :currentSurvey=\"document.survey\"/>\n      </v-flex>\n    </v-layout>\n    <v-flex text-xs-center my-2>\n      <v-btn @click=\"voteDocument\" class=\"font-weight-bold short\">\n        <v-icon color=\"primary\" small>thumb_up</v-icon>&nbsp;\n        <span>{{document.voteUpCount}}</span>\n      </v-btn>\n    </v-flex>\n    <v-divider/>\n    <v-flex class=\"my-2\">\n      <v-layout row>\n        <v-flex v-if=\"board.isOwner\">\n          <v-btn v-if=\"board.notices.indexOf(documentId)>=0\" @click=\"setNotice(false)\" class=\"ma-0 px-2 short\">공지해제</v-btn>\n          <v-btn v-else @click=\"setNotice(true)\" class=\"ma-0 px-2 short\">공지지정</v-btn>\n        </v-flex>\n        <v-spacer/>\n        <v-flex pr-2 text-xs-right>\n          <v-btn-toggle id=\"bottomBottons\">\n            <template v-if=\"document.attach && document.attach.some(x=>!x.insert)\">\n              <v-btn @click=\"showAttach=!showAttach\" title=\"첨부파일 보기\" :class=\"{'primary--text':showAttach}\">첨부파일({{document.attach.filter(x=>!x.insert).length}})</v-btn>\n            </template>\n            <v-btn class=\"short\" v-show=\"document.isWriter\" :to=\"`/${$route.params.boardId}/${document.documentId}/edit`\">\n              <span>수정</span>\n            </v-btn>\n            <v-btn class=\"short\" v-show=\"document.isWriter\" @click=\"deleteDocument\">삭제</v-btn>\n            <component :is=\"$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu'\" v-model=\"scrapMenu\" open-on-hover bottom lazy offset-y>\n              <v-btn slot=\"activator\" class=\"short\">스크랩</v-btn>\n              <v-list dense>\n                <div class=\"v-list__tile font-weight-bold\" @click.stop>스크랩 그룹 선택</div>\n                <v-list-tile v-for=\"item in scrapGroups\" :key=\"item.scrapGroupId\" @click=\"scrapDocument(item)\">\n                  <v-list-tile-title>{{ item.scrapGroupName }}</v-list-tile-title>\n                </v-list-tile>\n              </v-list>\n            </component>\n            <component :is=\"$vuetify.breakpoint.xsOnly?'v-bottom-sheet':'v-menu'\" v-model=\"reportMenu\" open-on-hover bottom lazy offset-y>\n              <v-btn slot=\"activator\" class=\"short\" v-show=\"!document.isWriter\">신고</v-btn>\n              <v-list two-line>\n                <div class=\"font-weight-bold mx-3 my-2\" @click.stop>신고사유 선택</div>\n                <v-list-tile v-for=\"item in reportTypes\" :key=\"item.reportTypeId\" @click=\"reportDocument(item)\">\n                  <v-list-tile-content>\n                    <v-list-tile-title>{{ item.reportTypeName }}</v-list-tile-title>\n                    <v-list-tile-sub-title>{{item.reportTypeDescription}}</v-list-tile-sub-title>\n                  </v-list-tile-content>\n                </v-list-tile>\n              </v-list>\n            </component>\n          </v-btn-toggle>\n        </v-flex>\n      </v-layout>\n      <v-slide-y-transition>\n        <v-layout column>\n          <v-layout row v-show=\"showAttach\" mt-2 wrap>\n            <v-flex px-2 xs6 md4 xl2 :key=\"index\" v-for=\"(item, index) in document.attach.filter(x=>!x.insert)\">\n              <router-link :to=\"webUrl + '/' + item.attach_path\" target=\"_blank\" :download=\"item.attach_name\" class=\"ellipsis underline\">{{item.attach_name}}</router-link>\n            </v-flex>\n          </v-layout>\n          <v-divider v-show=\"showAttach\" class=\"mb-2\"/>\n        </v-layout>\n      </v-slide-y-transition>\n    </v-flex>\n    <v-flex mb-4>\n      <ViewComments :isAnonymous=\"document.isWriter && document.nickName === ''\" :allowAnonymous=\"document.allowAnonymous\" :isCommentWritable=\"isCommentWritable\" :reportTypes=\"reportTypes\" :boardId=\"document.boardId\" :best=\"document.bestComments\" :pages=\"pages\"/>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\n// import LinkPrevue from '@/components/LinkPrevue'\nimport Survey from '@/components/board/survey/Survey';\nimport CommentWriter from '@/components/board/CommentWriter';\nimport UserLink from '@/components/UserLink';\nimport ViewComments from '@/components/board/ViewComments';\nimport BoardMixins from '@/components/mixins/BoardMixins';\nimport Quill from 'quill';\n\nexport default {\n  props: ['board', 'boardId', 'documentId'],\n  data () {\n    return {\n      document: null,\n      documentHTML: null,\n      showAttach: false,\n      scrapGroups: null,\n      reportTypes: null,\n      scrapMenu: false,\n      reportMenu: false\n    };\n  },\n  components: {\n    Survey,\n    CommentWriter,\n    ViewComments,\n    UserLink\n  },\n  mixins: [BoardMixins],\n  created () {\n    this.getScrapGroups();\n    this.getReportTypes();\n  },\n  computed: {\n    isCommentWritable () {\n      let board = this.board.boardId === this.document.boardId ? this.board : this.$store.getters.boards.find(x => x.boardId === this.document.boardId);\n      if (!board) {\n        return 'UNAVAILABLE';\n      } else if (this.document.isDeleted) {\n        return 'DELETED';\n      }\n\n      const profile = this.$store.getters.profile;\n      const userBoards = this.$store.getters.userBoards;\n      if (board.statusAuth.comment.includes(profile.auth)) {\n        if (board.boardType === 'T') {\n          if (userBoards.some(x => x.boardId === board.boardId)) {\n            const userBoard = userBoards.find(x => x.boardId === board.boardId);\n            if (!userBoard.writeRestrictDate || this.$moment(userBoard.writeRestrictDate, 'YYYYMMDD').isBefore(this.$moment())) {\n              return 'AVAILABLE';\n            } else {\n              return 'RESTRICTED';\n            }\n          } else {\n            // need subscription\n            if (board.allGroupAuth === 'READWRITE' || board.allowedGroups.some(x => x === profile.region || x === profile.major || x === profile.grade || profile.groups.includes(x))) {\n              // i can subscribe this board!\n              return 'NEEDSUBSCRIPTION';\n            } else {\n              return 'UNAVAILABLE';\n            }\n          }\n        } else {\n          if (board.allowedGroups.some(x => x === profile.region || x === profile.major || x === profile.grade || profile.groups.includes(x))) {\n            if (userBoards.some(x => x.boardId === board.boardId)) {\n              const userBoard = userBoards.find(x => x.boardId === board.boardId);\n              if (!userBoard.writeRestrictDate || this.$moment(userBoard.writeRestrictDate, 'YYYYMMDD').isBefore(this.$moment())) {\n                return 'AVAILABLE';\n              } else {\n                return 'RESTRICTED';\n              }\n            } else {\n              return 'AVAILABLE';\n            }\n          } else {\n            return 'UNAVAILABLE';\n          }\n        }\n      } else {\n        return 'UNAVAILABLE';\n      }\n    },\n    pages () {\n      return this.document.commentCount === 0 ? 1 : Math.ceil(this.document.commentCount / (process.env.NODE_ENV === 'development' ? 10 : 100));\n    }\n  },\n  methods: {\n    getDocument: function () {\n      this.$axios\n        .get(`/${this.boardId}/${this.documentId}`)\n        .then(response => {\n          if (response.data.isDeleted) {\n            this.$router.replace('/' + this.boardId);\n            this.$store.dispatch('showSnackbar', { text: '삭제된 글입니다.', color: 'warning' });\n            return;\n          }\n          if (Array.isArray(response.data.attach)) {\n            response.data.attach = response.data.attach.filter(x => x !== null);\n          }\n          this.document = response.data;\n          this.documentHTML = this.document.isDeleted ? this.document.contents : this.deltaToHTML(JSON.parse(this.document.contents));\n          this.showAttach = false;\n          this.$emit('update:documentBoardId', this.document.boardId);\n        })\n        .catch(error => {\n          console.log(error);\n          this.$router.replace('/error?error=' + (error && error.response ? error.response.status || '404' : '404'));\n        });\n    },\n    deleteDocument () {\n      if (confirm('이 글을 삭제하시겠습니까?')) {\n        this.$axios\n          .put('/document', { documentId: this.documentId, isDeleted: true })\n          .then(response => {\n            this.$store.dispatch('showSnackbar', { text: '글을 삭제하였습니다.', color: 'success' });\n            this.$router.push(`/${this.boardId}`);\n          })\n          .catch(error => {\n            this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '글을 삭제하지 못했습니다.'}`, color: 'error' });\n          });\n      }\n    },\n    voteDocument () {\n      this.$axios\n        .post('/vote/document', { documentId: this.document.documentId }, { headers: { silent: true } })\n        .then(res => {\n          this.document.voteUpCount = res.data.voteUpCount;\n        })\n        .catch(error => {\n          console.log(error.response);\n          this.$store.dispatch('showSnackbar', { text: `${error.response ? error.response.data.message : '추천하지 못했습니다.'}`, color: 'error' });\n        });\n    },\n    deltaToHTML (delta) {\n      let tempCont = document.createElement('div');\n      let quill = new Quill(tempCont);\n      let image;\n      delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty('image')) {\n          image = this.document.attach.find(x => x.attach_name === item.insert.image);\n          if (image) {\n            image.insert = true;\n            item.attributes = {\n              download: item.insert.image,\n              alt: item.insert.image\n            };\n            item.insert.image = this.webUrl + image.attach_path;\n            /* item.insert.image = {\n              src: this.webUrl + \"/\" + image.attach_path,\n              download: item.insert.image,\n              alt: item.insert.image\n            } */\n            item.attributes.link = item.insert.image;\n          }\n        }\n      });\n      quill.setContents(delta);\n      // Clean spaces between tags\n      let newText = tempCont.getElementsByClassName('ql-editor')[0].innerHTML.replace(/(<(pre|script|style|textarea)[^]+?<\\/\\2)|(^|>)\\s+|\\s+(?=<|$)/g, '$1$3');\n\n      // Clean empty paragraphs before the content\n      // <p><br/><p> && <p></p>\n      let slicer;\n      while (newText.slice(0, 7) === '<p></p>' || newText.slice(0, 11) === '<p><br></p>') {\n        if (newText.slice(0, 7) === '<p></p>') slicer = 7;\n        else slicer = 11;\n        newText = newText.substring(slicer, newText.length);\n      }\n\n      // Clean empty paragraphs after the content\n      while (newText.slice(-7) === '<p></p>' || newText.slice(-11) === '<p><br></p>') {\n        if (newText.slice(-7) === '<p></p>') slicer = 7;\n        else slicer = 11;\n        newText = newText.substring(0, newText.length - slicer);\n      }\n      // Return the clean Text\n      return newText;\n    },\n    reportDocument (item) {\n      this.$axios\n        .post('/report/document', { documentId: this.document.documentId, reportTypeId: item.reportTypeId })\n        .then(response => {\n          this.reportMenu = false;\n          this.$store.dispatch('showSnackbar', { text: '이 글을 신고하였습니다.', color: 'success' });\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409) {\n            this.reportMenu = false;\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '글을 신고하지 못했습니다.' : '글을 신고하지 못했습니다.', color: 'info' });\n          } else {\n            console.log(error);\n            this.reportMenu = false;\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '글을 신고하지 못했습니다.' : '글을 신고하지 못했습니다.', color: 'error' });\n          }\n        });\n    },\n    scrapDocument (item) {\n      this.$axios\n        .post('/scrap', { scrapGroupId: item.scrapGroupId, documentId: this.document.documentId })\n        .then(response => {\n          this.scrapMenu = false;\n          this.$store.dispatch('showSnackbar', { text: '이 글을 스크랩하였습니다.', color: 'success' });\n        })\n        .catch(error => {\n          if (error.response && error.response.status === 409) {\n            this.scrapMenu = false;\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '스크랩에 추가하지 못했습니다.' : '스크랩에 추가하지 못했습니다.', color: 'info' });\n          } else {\n            console.log(error);\n            this.scrapMenu = false;\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '스크랩에 추가하지 못했습니다.' : '스크랩에 추가하지 못했습니다.', color: 'error' });\n          }\n        });\n    },\n    getScrapGroups () {\n      if (!this.scrapGroups) {\n        if (this.$store.getters.scrapGroups) {\n          this.scrapGroups = this.$store.getters.scrapGroups;\n        } else {\n          this.$axios\n            .get('/scrap/group', { headers: { silent: true } })\n            .then(response => {\n              this.$store.dispatch('setScrapGroups', response.data);\n              this.scrapGroups = response.data;\n            })\n            .catch(error => {\n              console.log(error);\n              this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '스크랩 그룹 목록을 가져오지 못했습니다.' : '스크랩 그룹 목록을 가져오지 못했습니다.', color: 'error' });\n            });\n        }\n      }\n    },\n    getReportTypes () {\n      if (!this.reportTypes) {\n        if (this.$store.getters.reportTypes) {\n          this.reportTypes = this.$store.getters.reportTypes;\n        } else {\n          this.$axios\n            .get('/report/type', { headers: { silent: true } })\n            .then(response => {\n              this.$store.dispatch('setReportTypes', response.data);\n              this.reportTypes = response.data;\n            })\n            .catch(error => {\n              console.log(error);\n              this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '신고 타입을 가져오지 못했습니다.' : '신고 타입을 가져오지 못했습니다.', color: 'error' });\n            });\n        }\n      }\n    },\n    setNotice (isAdd) {\n      this.$axios\n        .put('/board/notice', { boardId: this.document.boardId, documentId: this.document.documentId, isAdd: isAdd })\n        .then(response => {\n          this.$store.dispatch('showSnackbar', { text: isAdd ? '이 글을 공지로 지정했습니다.' : '이 글을 공지에서 해제했습니다.', color: 'success' });\n          if (isAdd) {\n            this.$store.getters.boards.find(x => x.boardId === this.document.boardId).notices.push({ documentId: this.document.documentId, isNotice: true, boardId: this.document.boardId, title: this.document.title });\n          } else {\n            const notices = this.$store.getters.boards.find(x => x.boardId === this.document.boardId).notices;\n            notices.splice(notices.findIndex(x => x.documentId === this.document.documentId), 1);\n          }\n        })\n        .catch(error => {\n          console.log(error);\n          this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '글을 공지로 지정하지 못했습니다.' : '글을 공지로 지정하지 못했습니다.', color: 'error' });\n        });\n    }\n  },\n  watch: {\n    '$route.params': {\n      handler () {\n        this.getDocument();\n      },\n      deep: true,\n      immediate: true\n    }\n  }\n};\n</script>\n<style>\n#bottomBottons .v-btn {\n  opacity: 1;\n  font-weight: bold;\n}\n#documentContents p img,\n#documentContents img {\n  max-width: 100%;\n}\n#documentContents .video-container {\n  position: relative;\n  height: 0;\n  width: 100%;\n  padding-bottom: 56%;\n}\n#documentContents .video-container iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n@media (max-width: 600px) {\n  #documentContents p img,\n  #documentContents img {\n    max-width: calc(100% + 32px);\n    margin-left: -16px;\n    margin-right: -16px;\n  }\n  #documentContents .video-container {\n    position: relative;\n    height: 0;\n    width: calc(100% + 32px);\n    margin-left: -16px;\n    margin-right: -16px;\n    padding-bottom: 56%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDocument.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewDocument.vue?vue&type=template&id=0c920542&\"\nimport script from \"./ViewDocument.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewDocument.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewDocument.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewComments.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}