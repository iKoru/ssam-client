(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77c7c3c5"],{"6d1e":function(e,s,r){"use strict";var t=r("87bb"),a=r.n(t);a.a},"6f6c":function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("v-container",{class:{"pa-3":e.$vuetify.breakpoint.xsOnly}},[r("v-layout",[r("v-flex",[r("v-form",{ref:"form",attrs:{"lazy-validation":""}},[r("v-text-field",{ref:"userId",attrs:{name:"userId",height:"20",error:e.userIdError,rules:e.userIdRules,label:"아이디",required:"",maxlength:"50",autofocus:""},on:{focus:e.clearError,keydown:function(s){return"button"in s||!e._k(s.keyCode,"enter",13,s.key,"Enter")?(s.stopPropagation(),e.focusPassword(s)):null}},model:{value:e.userId,callback:function(s){e.userId=s},expression:"userId"}}),r("v-text-field",{ref:"password",attrs:{name:"password",height:"20",error:e.passwordError,rules:e.passwordRules,label:"비밀번호",required:"",type:"password"},on:{keydown:function(s){return"button"in s||!e._k(s.keyCode,"enter",13,s.key,"Enter")?(s.stopPropagation(),e.signin(s)):null},focus:e.clearError},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),r("v-btn",{attrs:{color:"primary",block:"",loading:e.loading},on:{click:e.signin}},[e._v("로그인")]),r("v-layout",{staticClass:"mt-3",attrs:{row:"","justify-space-between":""}},[r("v-flex",[r("v-checkbox",{staticClass:"small",attrs:{label:"자동 로그인","hide-details":""},model:{value:e.rememberMe,callback:function(s){e.rememberMe=s},expression:"rememberMe"}})],1),r("v-flex",{attrs:{"text-xs-right":""}},[r("router-link",{attrs:{to:"/resetPassword"}},[e._v("비밀번호 찾기")])],1)],1),r("p",{directives:[{name:"show",rawName:"v-show",value:e.message,expression:"message"}],staticClass:"text-xs-center"},[r("span",{staticClass:"error--text"},[e._v(e._s(e.message))])]),r("p",{class:{"text-xs-center":!0,"mt-3":!e.message}},[r(e.$vuetify.breakpoint.xsOnly?"span":"small",{tag:"component"},[r("router-link",{attrs:{to:"/signup"}},[e._v("아직 회원이 아니신가요?")])],1)],1)],1)],1)],1)],1)},a=[];function n(e){for(var s=e+"=",r=decodeURIComponent(document.cookie),t=r.split(";"),a=0;a<t.length;a++){var n=t[a];while(" "===n.charAt(0))n=n.substring(1);if(0===n.indexOf(s))return n.substring(s.length,n.length)}}function o(e,s,r){var t="";if(r){var a=new Date;a.setTime(a.getTime()+24*r*60*60*1e3),t="; expires="+a.toUTCString()}document.cookie=e+"="+(s||"")+t+"; path=/"}var i={name:"Signin",data:function(){return{loading:!1,message:null,userIdError:!1,passwordError:!1,userId:"",password:"",rememberMe:!1,userIdRules:[function(e){return!!e||"아이디를 입력해주세요."}],passwordRules:[function(e){return!!e||"비밀번호를 입력해주세요."}]}},created:function(){var e=this,s=this.$store.getters.token;s?(this.loading=!0,this.$axios({method:"POST",url:"/refresh",headers:{silent:!0}}).then(function(s){e.loading=!1,e.$store.dispatch("setUserId",s.data.userId);var r=s.data.redirectTo;if((s.data.imminent||s.data.needEmail)&&e.$store.dispatch("updateAuthInformation",{imminent:s.data.imminent,needEmail:s.data.needEmail}),r)"/auth"===r&&n("authRequirement")&&n("authRequirement")>=e.$moment().format("YMMDD")?e.$router.push(decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent("redirectTo").replace(/[.+*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))||"/"):e.$router.push(r+window.location.search);else{var t=decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent("redirectTo").replace(/[.+*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"));e.$router.push("/index"!==t&&"/signin"!==t&&""!==t?t:"/")}}).catch(function(s){e.loading=!1,s.response&&s.response.data?e.message=s.response.data.message:e.message="서버에 접속할 수 없습니다. 인터넷 연결을 확인해주세요.",e.$store.dispatch("token",!1)})):n("userId")&&(this.userId=n("userId"))},watch:{userId:function(){this.userIdError&&(this.userIdError=!1),this.message&&(this.message=null)},password:function(){this.passwordError&&(this.passwordError=!1),this.message&&(this.message=null)}},methods:{clearError:function(){this.$refs.form.resetValidation(),this.message=null},signin:function(){var e=this;if(this.$refs.form.validate()){if(!this.userId||!this.password||""===this.userId||""===this.password)return this.message="아이디와 비밀번호를 입력해주세요.",!1;o("userId",this.userId,30),this.message=null,this.userIdError=!1,this.passwordError=!1,this.loading=!0,this.$axios.post("/signin",{userId:this.userId,password:this.password,rememberMe:this.rememberMe},{headers:{silent:!0}}).then(function(s){e.$store.dispatch("setToken",!0),e.$store.dispatch("setUserId",e.userId);var r=s.data.redirectTo;if((s.data.imminent||s.data.needEmail)&&e.$store.dispatch("updateAuthInformation",{imminent:s.data.imminent,needEmail:s.data.needEmail}),r)"/auth"===r&&n("authRequirement")&&n("authRequirement")>=e.$moment().format("YMMDD")?e.$router.push(decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent("redirectTo").replace(/[.+*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))||"/"):e.$router.push(r+window.location.search);else{var t=decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent("redirectTo").replace(/[.+*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"));e.$router.push("/index"!==t&&"/signin"!==t&&""!==t?t:"/")}e.loading=!1}).catch(function(s){if(e.loading=!1,s.response&&s.response.data){if(s.response.data.target&&e.$refs[s.response.data.target])switch(s.response.data.target){case"userId":e.userIdError=!0,e.$refs.userId.focus();break;case"password":e.passwordError=!0,e.$refs.password.focus();break;default:break}e.message=s.response.data.message}else e.message="서버에 접속할 수 없습니다. 인터넷 연결을 확인해주세요."})}},focusPassword:function(){""!==this.password?this.signin():this.$refs.password.focus()}}},d=i,u=(r("6d1e"),r("0c7c")),c=Object(u["a"])(d,t,a,!1,null,null,null);s["default"]=c.exports},"87bb":function(e,s,r){}}]);
//# sourceMappingURL=chunk-77c7c3c5-legacy.1d015bb3.js.map