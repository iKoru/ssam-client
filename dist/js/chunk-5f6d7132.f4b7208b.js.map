{"version":3,"sources":["webpack:///./src/components/board/survey/Survey.vue?ab10","webpack:///./src/components/mixins/BoardMixins.js","webpack:///./src/components/board/survey/Survey.vue?e1ef","webpack:///src/components/board/survey/Survey.vue","webpack:///./src/components/board/survey/Survey.vue?559f","webpack:///./src/components/board/survey/Survey.vue","webpack:///./src/components/board/editor/Editor.vue?d428","webpack:///./src/components/board/survey/SurveyMaker.vue?3594","webpack:///./src/components/board/editor/Editor.vue?4572","webpack:///./src/components/board/survey/SurveyMaker.vue?7474","webpack:///src/components/board/survey/SurveyMaker.vue","webpack:///./src/components/board/survey/SurveyMaker.vue?8351","webpack:///./src/components/board/survey/SurveyMaker.vue","webpack:///src/components/board/editor/Editor.vue","webpack:///./src/components/board/editor/Editor.vue?3c5c","webpack:///./src/components/board/editor/Editor.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_Survey_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_Survey_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","BoardMixins","data","boardTypeItems","T","L","D","X","E","N","webUrl","process","methods","uuid","partialUUID","Math","random","toString","substring","dataURItoBlob","dataURI","byteString","split","indexOf","atob","unescape","mimeString","ia","Uint8Array","length","i","charCodeAt","Blob","type","timeParser","timestamp","moment","fromNow","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","column","row","align-center","mx-2","_v","directives","name","rawName","value","expression","staticStyle","white-space","_s","survey","participants","_l","surveyContents","item","index","key","id","title","_e","choice","answerIndex","class","ans-voted final multi-row","selected","font-weight-bold","mostVotes","votes","percent","text","style","width","ans-no-vote multi-row","active","on","click","$event","handleVote","questions","participated","onlyView","justify-center","my-2","small","showSurveyResult","color","disabled","finalResults","completeSurvey","staticRenderFns","Surveyvue_type_script_lang_js_","props","created","formatSurvey","currentSurvey","computed","otherAnswers","surveyAnswers","forEach","q","qIndex","objectArray","max","totalVotes","choices","choiceIndex","push","isNaN","round","parseInt","getAnswerArray","answers","allowMultipleChoice","answerArray","c","cIndex","findIndex","_this","every","question","some","$store","dispatch","answer","$axios","post","documentId","$route","params","then","response","console","log","get","concat","boardId","catch","error","status","message","questionIndex","a","survey_Surveyvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_Editor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_Editor_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SurveyMaker_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SurveyMaker_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","mx-1","$vuetify","breakpoint","smAndUp","mt-1","placeholder","flat","xsOnly","solo","hide-details","model","callback","$$v","xs12","ref","options","editorOption","content","slot","savedContent","max-width","fullscreen","scrollable","surveyDialog","deleteSurvey","closeSurvey","extractSurvey","pt-1","surveyButtonClick","selectImage","openFileDialog","diplay","height","multiple","accept","capture","$refs","fileInput","change","onFileChange","attachedFilenames","wrap","xs6","md4","px-2","removeFile","surveyViewerDialog","icon","py-2","ml-3","label","isAnonymous","disallowAnonymous","text-xs-center","$router","go","SurveyMakervue_type_template_id_410a3c39_render","$emit","single-line","dense","append-outer-icon","click:append-outer","deleteQuestion","$set","box","append-icon","click:append","deleteAnswer","justify-space-around","addAnswer","block","pushQuestion","size","depressed","SurveyMakervue_type_template_id_410a3c39_staticRenderFns","SurveyMakervue_type_script_lang_js_","$forceUpdate","splice","filter","watch","handler","to","deep","immediate","survey_SurveyMakervue_type_script_lang_js_","SurveyMaker","Editorvue_type_script_lang_js_","components","Survey","mixins","undefined","link","modules","toolbar","magicUrl","urlRegularExpression","globalRegularExpression","normalizeRegularExpression","imageDrop","imageResize","theme","show","formData","rawFileData","attachFromServer","originImages","onEditorChange","_ref","quill","html","_post","_asyncToGenerator","regenerator_default","mark","_callee","_context","prev","next","trim","abrupt","uploadModifiedDocument","uploadDocument","stop","apply","arguments","_uploadDocument","_callee2","_context2","editor","delta","FormData","attachImages","append","JSON","stringify","processUploadFiles","revertImages","_uploadModifiedDocument","_callee3","modifiedBody","_this2","_context3","confirm","processFileChange","contents","put","t0","_this3","ops","insert","hasOwnProperty","image","includes","imgSrc","imageName","src","_this4","imgName","find","img","_processFileChange","_callee4","currentImageId","deleteImageP","deleteFileP","uploadFileP","fileCount","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","pair","_this5","_context4","map","startsWith","attach_path","attach_id","attach_name","delete","entries","Symbol","iterator","done","return","finish","Promise","all","res","err","parse","parseDocument","_this6","attach","Array","isArray","x","f","setContents","attachButtonClick","pond","browse","document","getElementById","_onFileChange","_callee5","e","self","files","_context5","target","dataTransfer","_x","_removeFile","_callee6","newFileData","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_context6","Number","_x2","namesCount","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","count","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_pair","splitter","lastIndexOf","fileExtension","filename","suffix","input","createElement","setAttribute","onchange","file","reader","FileReader","readAsDataURL","onload","test","range","getSelection","insertEmbed","getLength","result","onerror","_this7","replace","editor_Editorvue_type_script_lang_js_","Editor_component"],"mappings":"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","file":"js/chunk-5f6d7132.f4b7208b.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=style&index=0&lang=css&\"","import moment from 'moment'\nconst BoardMixins = {\n  data () {\n    return {\n      boardTypeItems: {\n        T: '토픽',\n        L: '라운지',\n        D: '아카이브',\n        X: '게시판',\n        E: '전직교사',\n        N: '예비교사'\n      },\n      webUrl: process.env.VUE_APP_WEB_URL\n    }\n  },\n  methods: {\n    uuid () {\n      let partialUUID = () => {\n        return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n      };\n      return partialUUID() + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + '-' + partialUUID() + partialUUID() + partialUUID()\n    },\n    dataURItoBlob (dataURI) {\n      // convert base64/URLEncoded data component to raw binary data held in a string\n      var byteString;\n      if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n        byteString = atob(dataURI.split(',')[1]);\n      } else {\n        byteString = unescape(dataURI.split(',')[1]);\n      }\n\n\n      var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n      // write the bytes of the string to a typed array\n      var ia = new Uint8Array(byteString.length);\n      for (var i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n      }\n      return new Blob([ia], { type: mimeString });\n    },\n    timeParser (timestamp) {\n      return moment(timestamp, 'YYYYMMDDHHmmss').fromNow()\n    }\n  }\n}\n\nexport default BoardMixins\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.survey)?_c('v-layout',{staticClass:\"border-light py-2\",attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"mx-2\":\"\"}},[(_vm.onlyView)?_c('span',{staticClass:\"subheading\"},[_vm._v(\"글 작성 후에 수정/삭제가 불가능합니다.\")]):_c('span',{staticClass:\"subheading\"},[_vm._v(\"설문조사\")]),_c('v-spacer'),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.finalResults),expression:\"finalResults\"}],staticStyle:{\"white-space\":\"nowrap\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.survey.participants)+\"명 참여\\n      \")])],1)],1),_vm._l((_vm.survey.surveyContents.questions),function(item,index){return _c('v-flex',{key:index,staticClass:\"px-3 pt-2\"},[_c('div',{attrs:{\"id\":\"poll\"}},[_c('div',{staticClass:\"font-weight-bold body-2 mb-2\"},[_vm._v(_vm._s((index+1) + '. ' + item.title)),(item.allowMultipleChoice)?_c('small',{staticClass:\"grey--text lighten-1\"},[_vm._v(\"(복수응답)\")]):_vm._e()]),_c('div',{staticClass:\"ans-cnt\"},_vm._l((item.choices),function(choice,answerIndex){return _c('div',{key:answerIndex,staticClass:\"ans\"},[(_vm.finalResults)?[_c('div',{class:{'ans-voted final multi-row':true, 'selected': choice.selected, 'font-weight-bold':item.mostVotes == choice.votes}},[(choice.percent)?_c('span',{staticClass:\"percent\"},[_vm._v(_vm._s(choice.percent))]):_vm._e(),_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(choice.text))])]),_c('span',{staticClass:\"bg\",style:({ width: choice.percent })})]:[_c('div',{class:{ 'ans-no-vote multi-row': true, active: choice.selected },on:{\"click\":function($event){_vm.handleVote(index, choice)}}},[_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(choice.text))])]),_c('span',{staticClass:\"bg\"})]],2)}),0)]),(index + 1 !== _vm.survey.surveyContents.questions.length)?_c('v-divider',{key:'divider'+index,staticClass:\"mt-3\"}):_vm._e()],1)}),(!_vm.survey.participated && !_vm.onlyView)?_c('v-flex',[_c('v-layout',{attrs:{\"justify-center\":\"\",\"my-2\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.showSurveyResult = !_vm.showSurveyResult}}},[_vm._v(\"\\n        \"+_vm._s(_vm.showSurveyResult? '돌아가기':'결과보기')+\"\\n      \")]),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.finalResults},on:{\"click\":_vm.completeSurvey}},[_vm._v(\"응답하기\")])],1)],1):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout column class=\"border-light py-2\" v-if=\"survey\">\n    <v-flex>\n      <v-layout row align-center mx-2>\n        <span v-if=\"onlyView\" class=\"subheading\">글 작성 후에 수정/삭제가 불가능합니다.</span>\n        <span v-else class=\"subheading\">설문조사</span>\n        <v-spacer/>\n        <span v-show=\"finalResults\" style=\"white-space:nowrap;\">\n          {{survey.participants}}명 참여\n        </span>\n      </v-layout>\n    </v-flex>\n    <v-flex v-for=\"(item, index) in survey.surveyContents.questions\" :key=\"index\" class=\"px-3 pt-2\">\n      <div id=\"poll\">\n        <div class=\"font-weight-bold body-2 mb-2\">{{(index+1) + '. ' + item.title}}<small v-if=\"item.allowMultipleChoice\" class=\"grey--text lighten-1\">(복수응답)</small></div>\n        <div class=\"ans-cnt\">\n          <div v-for=\"(choice,answerIndex) in item.choices\" :key=\"answerIndex\" class=\"ans\">\n            <template v-if=\"finalResults\">\n              <div :class=\"{'ans-voted final multi-row':true, 'selected': choice.selected, 'font-weight-bold':item.mostVotes == choice.votes}\">\n                <span v-if=\"choice.percent\" class=\"percent\">{{choice.percent}}</span>\n                <span class=\"txt\">{{choice.text}}</span>\n              </div>\n              <span class=\"bg\" :style=\"{ width: choice.percent }\"></span>\n            </template>\n            <template v-else>\n              <div :class=\"{ 'ans-no-vote multi-row': true, active: choice.selected }\" @click=\"handleVote(index, choice)\">\n                <span class=\"txt\">{{choice.text}}</span>\n              </div>\n              <span class=\"bg\"></span>\n            </template>\n          </div>\n        </div>\n      </div>\n      <v-divider v-if=\"index + 1 !== survey.surveyContents.questions.length\" :key=\"'divider'+index\" class=\"mt-3\"></v-divider>\n    </v-flex>\n    <v-flex v-if=\"!survey.participated && !onlyView\">\n      <v-layout justify-center my-2>\n        <v-btn small @click=\"showSurveyResult = !showSurveyResult\">\n          {{showSurveyResult? '돌아가기':'결과보기'}}\n        </v-btn>\n        <v-btn small color=\"primary\" @click=\"completeSurvey\" :disabled=\"finalResults\">응답하기</v-btn>\n      </v-layout>\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\nexport default {\n  props: [\"currentSurvey\", \"onlyView\"],\n  data() {\n    return {\n      showSurveyResult: false,\n      survey: null\n    };\n  },\n  created(){\n    this.survey = this.formatSurvey(this.currentSurvey);\n  },\n  computed: {\n    finalResults () {\n      return this.survey.participated || this.showSurveyResult\n    }\n  },\n  methods: {\n    formatSurvey (survey) {\n      let otherAnswers = survey.surveyAnswers\n      survey.surveyContents.questions.forEach((q, qIndex) => {\n        let objectArray = []\n        let max = 0;\n        let totalVotes = 0;\n        q.choices.forEach((choice, choiceIndex) => {\n          if (otherAnswers.length > qIndex) {\n            objectArray.push({ 'text': choice, 'selected': false, 'votes': otherAnswers[qIndex][choiceIndex] })\n            if(otherAnswers[qIndex][choiceIndex] > max){\n              max = otherAnswers[qIndex][choiceIndex];\n            }\n            totalVotes += otherAnswers[qIndex][choiceIndex];\n          } else {\n            objectArray.push({ 'text': choice, 'selected': false, 'votes': 0 })\n          }\n        })\n        q.mostVotes = max\n        q.totalVotes = totalVotes\n        if (totalVotes === 0) {\n          objectArray.forEach(choice => {\n            choice.percent = '0%'\n          })\n        }else{\n          // Calculate percent\n          objectArray.forEach(choice => {\n            choice.percent = !isNaN(choice.votes) && choice.votes > 0?(Math.round((parseInt(choice.votes) / totalVotes) * 100)) + '%':'0%'\n          })\n        }\n        q.choices = objectArray\n      })\n      return survey\n    },\n    getAnswerArray (questions) {\n      let answers = [];\n      questions.forEach(q => {\n        if(!q.allowMultipleChoice) {\n          answers.push(q.choices.findIndex(c => c.selected))\n        } else {\n          let answerArray = []\n          q.choices.forEach((c, cIndex) => {\n            if(c.selected) answerArray.push(cIndex)\n          })\n          answers.push(answerArray)\n        }\n      })\n      return answers;\n    },\n    completeSurvey() {\n      if(this.survey.surveyContents.questions.every(question => question.choices.some(choice => choice.selected))){\n        if(this.survey.participated){\n          this.$store.dispatch('showSnackbar', {text:'이미 참여한 설문입니다.', color:'info'});\n          return;\n        }\n        let answer = this.getAnswerArray(this.survey.surveyContents.questions)\n        this.$axios\n          .post(`/survey`, {\n            documentId: this.$route.params.documentId,\n            answer: answer\n          })\n          .then(response => {\n            console.log(response);\n            if(!response.data.survey) {\n              this.$axios\n                .get(`/${this.$route.params.boardId}/${this.$route.params.documentId}`)\n                .then(response => {\n                  this.survey = this.formatSurvey(response.data.survey)\n                  console.log(this.survey)\n                  this.showSurveyResult = true\n                })\n                .catch(error => {\n                  console.log(error);\n               });\n            }else{\n              this.survey = this.formatSurvey(response.data.survey)\n              this.showSurveyResult = true\n            }\n          })\n          .catch(error => {\n            if(error.response && error.response.status === 409){\n              this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"설문 응답을 등록하지 못했습니다.\" : \"설문 응답을 등록하지 못했습니다.\", color: \"info\"});\n            }else{\n              this.$store.dispatch(\"showSnackbar\", {text: error.response ? error.response.data.message || \"설문 응답을 등록하지 못했습니다.\" : \"설문 응답을 등록하지 못했습니다.\", color: \"error\"});\n            }\n          });\n      } else {\n        this.$store.dispatch('showSnackbar', {text:(this.survey.surveyContents.questions.findIndex(question => !question.choices.some(choice => choice.selected)) + 1) + '번 질문의 응답을 선택해주세요.', color:'warning'});\n      }\n    },\n    handleVote (questionIndex, a) {\n      if (!this.survey.surveyContents.questions[questionIndex].allowMultipleChoice) {\n        if (!a.selected) {\n          this.survey.surveyContents.questions[questionIndex].choices.forEach(choice => (choice.selected = false))\n        }\n      }\n      a.selected = !a.selected\n    }\n  }\n};\n</script>\n<style>\n#poll .ans-cnt{\n  margin: 5px 0;\n}\n#poll .ans-cnt .ans{\n  position: relative;\n  border-radius: 8px;\n  overflow:hidden;\n  margin-top: 8px;\n}\n#poll .ans-cnt .ans:first-child{\n  margin-top: 0;\n}\n\n#poll .ans-cnt .ans-no-vote, #poll .ans-cnt .ans-voted{\n  background-color: #E1E8ED;\n  border-radius: 8px;\n  padding: 5px 10px;\n}\n#poll .ans-cnt .ans-voted .txt,\n#poll .ans-cnt .ans-voted .percent{\n  z-index: 1;\n  position: relative;\n}\n#poll .ans-cnt .ans-no-vote.active{\n  background: #d5d5d5;\n}\n#poll .ans-cnt .ans-no-vote.active .txt::before{\n  content:'✔';\n  width: 20px;\n  margin-right:4px;\n}\n#poll .ans-cnt .ans-voted .percent{\n  min-width: 44px;\n  display: inline-block;\n}\n#poll .ans-cnt .ans .bg{\n  position: absolute;\n  width: 0%;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 0;\n  background-color: #77C7F7;\n  transition: width .3s ease-in-out;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Survey.vue?vue&type=template&id=02c71251&\"\nimport script from \"./Survey.vue?vue&type=script&lang=js&\"\nexport * from \"./Survey.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Survey.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SurveyMaker.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SurveyMaker.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"column\":\"\",\"mx-1\":_vm.$vuetify.breakpoint.smAndUp,\"mt-1\":_vm.$vuetify.breakpoint.smAndUp}},[_c('v-flex',{staticClass:\"mb-0 pb-0\",attrs:{\"id\":\"title\"}},[_c('v-text-field',{staticClass:\"dense\",attrs:{\"placeholder\":\"제목\",\"flat\":_vm.$vuetify.breakpoint.xsOnly,\"solo\":\"\",\"hide-details\":\"\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"id\":\"write-editor\"}},[_c('quill-editor',{ref:\"editor\",attrs:{\"options\":_vm.editorOption},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}},[_c('div',{attrs:{\"slot\":\"toolbar\",\"id\":\"toolbar\"},slot:\"toolbar\"},[_c('button',{staticClass:\"ql-bold\"},[_vm._v(\"Bold\")]),_c('button',{staticClass:\"ql-italic\"},[_vm._v(\"Italic\")]),_c('select',{staticClass:\"ql-size\"},[_c('option',{attrs:{\"value\":\"small\"}},[_vm._v(\"작게\")]),_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(\"보통\")]),_c('option',{attrs:{\"value\":\"large\"}},[_vm._v(\"크게\")]),_c('option',{attrs:{\"value\":\"huge\"}},[_vm._v(\"더 크게\")])])])])],1),_c('div',[_vm._v(_vm._s(_vm.savedContent))]),_c('v-dialog',{attrs:{\"max-width\":\"500px\",\"fullscreen\":_vm.$vuetify.breakpoint.xsOnly,\"scrollable\":\"\"},model:{value:(_vm.surveyDialog),callback:function ($$v) {_vm.surveyDialog=$$v},expression:\"surveyDialog\"}},[_c('survey-maker',{attrs:{\"survey\":_vm.currentSurvey},on:{\"deleteSurvey\":_vm.deleteSurvey,\"closeSurvey\":_vm.closeSurvey,\"extractSurvey\":_vm.extractSurvey}})],1),_c('v-layout',{attrs:{\"pt-1\":\"\",\"align-center\":\"\"}},[_c('div',[_c('v-btn',{attrs:{\"small\":\"\",\"flat\":\"\",\"color\":_vm.survey?'primary':'default'},on:{\"click\":_vm.surveyButtonClick}},[_c('v-icon',{attrs:{\"id\":\"survey-button\"}},[_vm._v(\"how_to_vote\")]),_c('span',[_vm._v(\"설문조사\")])],1)],1),_c('div',[_c('v-btn',{attrs:{\"small\":\"\",\"flat\":\"\"},on:{\"click\":_vm.selectImage}},[_c('v-icon',{attrs:{\"id\":\"attach-button\"}},[_vm._v(\"image\")]),_vm._v(\"이미지\\n      \")],1)],1),_c('div',[_c('v-btn',{attrs:{\"small\":\"\",\"flat\":\"\"},on:{\"click\":_vm.openFileDialog}},[_c('v-icon',{attrs:{\"id\":\"attach-button\"}},[_vm._v(\"attach_file\")]),_vm._v(\"파일첨부\\n      \")],1)],1)]),_c('input',{ref:\"fileInput\",staticStyle:{\"diplay\":\"none!important\",\"height\":\"0px\",\"width\":\"0px\"},attrs:{\"multiple\":\"\",\"id\":\"file-upload\",\"accept\":\"image/*\",\"type\":\"file\",\"value\":\"\",\"capture\":\"filesystem\"},on:{\"click\":function($event){_vm.$refs.fileInput.value = null},\"change\":_vm.onFileChange}}),_c('v-slide-y-transition',[(_vm.attachedFilenames.length>0)?_c('v-layout',{staticClass:\"border-light\",attrs:{\"wrap\":\"\"}},_vm._l((_vm.attachedFilenames),function(item,index){return _c('v-flex',{key:index,attrs:{\"xs6\":\"\",\"md4\":\"\",\"px-2\":\"\"}},[_c('v-slide-y-transition',[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('div',{staticClass:\"ellipsis\"},[_vm._v(_vm._s(item))]),_c('v-spacer'),_c('v-btn',{staticClass:\"short\",attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.removeFile(index)}}},[_vm._v(\"삭제\")])],1)],1)],1)}),1):_vm._e()],1),(_vm.documentId && _vm.survey)?_c('v-dialog',{attrs:{\"max-width\":\"500px\",\"fullscreen\":_vm.$vuetify.breakpoint.xsOnly,\"scrollable\":\"\"},model:{value:(_vm.surveyViewerDialog),callback:function ($$v) {_vm.surveyViewerDialog=$$v},expression:\"surveyViewerDialog\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"설문조사 확인\")]),_c('v-spacer'),_c('v-btn',{staticClass:\"toolbar-btn-last\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.surveyViewerDialog=false}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1),_c('v-card-text',[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('survey',{attrs:{\"currentSurvey\":_vm.survey,\"onlyView\":true}})],1)],1)],1)],1):_vm._e(),_c('v-layout',{attrs:{\"py-2\":\"\",\"ml-3\":\"\",\"justify-center\":\"\"}},[_c('div',{staticClass:\"mr-3\"},[_c('v-checkbox',{staticClass:\"mr-1 my-auto mb-0\",attrs:{\"hide-details\":\"\",\"label\":\"익명\"},model:{value:(_vm.isAnonymous),callback:function ($$v) {_vm.isAnonymous=$$v},expression:\"isAnonymous\"}})],1),_c('div',[_c('v-checkbox',{staticClass:\"mr-1 my-auto mb-0\",attrs:{\"disabled\":_vm.isAnonymous,\"hide-details\":\"\",\"label\":\"익명댓글불가\"},model:{value:(_vm.disallowAnonymous),callback:function ($$v) {_vm.disallowAnonymous=$$v},expression:\"disallowAnonymous\"}})],1),_c('v-spacer')],1),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"text-xs-center\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){_vm.$router.go(-1)}}},[_vm._v(\"돌아가기\")]),_c('v-btn',{staticClass:\"primary\",on:{\"click\":function($event){_vm.post()}}},[_vm._v(_vm._s(_vm.documentId?'수정하기':'등록'))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"설문조사\")]),_c('v-spacer'),_c('v-btn',{staticClass:\"toolbar-btn-last\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.$emit('closeSurvey')}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1),_c('v-card-text',[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('div',{staticClass:\"border-light\",attrs:{\"id\":\"surveyMaker\"}},_vm._l((_vm.currentSurvey.questions),function(question,index){return _c('v-flex',{key:index},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-title',{staticClass:\"pb-1\"},[_vm._v(\"\\n              \"+_vm._s(index + 1)+\".\\n              \"),_c('v-text-field',{staticClass:\"dense mt-0 pt-0 ml-2\",attrs:{\"single-line\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"placeholder\":\"질문 내용\",\"append-outer-icon\":\"close\"},on:{\"click:append-outer\":function($event){_vm.deleteQuestion(index)}},model:{value:(question.title),callback:function ($$v) {_vm.$set(question, \"title\", $$v)},expression:\"question.title\"}})],1),_c('v-card-text',{staticClass:\"py-0\"},[_c('v-layout',{attrs:{\"column\":\"\"}},[_vm._l((question.choices),function(choice,answerIndex){return _c('v-flex',{key:answerIndex,staticClass:\"mt-2\"},[_c('v-text-field',{staticClass:\"pt-1 dense\",attrs:{\"box\":\"\",\"single-line\":\"\",\"placeholder\":'선택지'+(answerIndex+1),\"hide-details\":\"\",\"append-icon\":\"remove_circle_outline\"},on:{\"click:append\":function($event){_vm.deleteAnswer(index, answerIndex)}},model:{value:(question.choices[answerIndex]),callback:function ($$v) {_vm.$set(question.choices, answerIndex, $$v)},expression:\"question.choices[answerIndex]\"}})],1)}),_c('v-flex',[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"justify-space-around\":\"\"}},[_c('v-flex',{attrs:{\"text-xs-center\":\"\"}},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.addAnswer(index)}}},[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"small\":\"\"}},[_vm._v(\"add_circle_outline\")]),_vm._v(\"선택지 추가\\n                      \")],1)],1),_c('v-flex',{attrs:{\"text-xs-center\":\"\"}},[_c('v-checkbox',{staticClass:\"mt-0 pt-0\",attrs:{\"hide-details\":\"\",\"label\":\"복수응답 허용\"},model:{value:(question.allowMultipleChoice),callback:function ($$v) {_vm.$set(question, \"allowMultipleChoice\", $$v)},expression:\"question.allowMultipleChoice\"}})],1)],1)],1)],2)],1)],1),(index !== _vm.currentSurvey.questions.length - 1)?_c('v-divider',{staticClass:\"mx-4\"}):_vm._e()],1)}),1),_c('v-flex',[_c('v-btn',{attrs:{\"block\":\"\"},on:{\"click\":_vm.pushQuestion}},[_c('v-icon',[_vm._v(\"playlist_add\")]),_c('v-label',{attrs:{\"size\":\"24\"}},[_vm._v(\"질문추가\")])],1)],1)],1)],1),_c('v-card-actions',{staticClass:\"align-start\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"error\",\"depressed\":\"\"},on:{\"click\":function($event){_vm.$emit('deleteSurvey')}}},[_vm._v(\"설문 삭제\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\"},on:{\"click\":_vm.extractSurvey}},[_vm._v(\"저장\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-toolbar flat>\n      <v-toolbar-title>설문조사</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-btn class=\"toolbar-btn-last\" @click=\"$emit('closeSurvey')\" icon><v-icon>close</v-icon></v-btn>\n    </v-toolbar>\n    <v-card-text>\n      <v-layout column>\n        <div class=\"border-light\" id=\"surveyMaker\">\n          <v-flex :key=\"index\" v-for=\"(question, index) in currentSurvey.questions\">\n            <v-card flat>\n              <v-card-title class=\"pb-1\">\n                {{index + 1}}.\n                <v-text-field v-model=\"question.title\" single-line hide-details dense class=\"dense mt-0 pt-0 ml-2\" placeholder=\"질문 내용\" append-outer-icon=\"close\" @click:append-outer=\"deleteQuestion(index)\"></v-text-field>\n              </v-card-title>\n              <v-card-text class=\"py-0\">\n                <v-layout column>\n                  <v-flex :key=\"answerIndex\" v-for=\"(choice, answerIndex) in question.choices\" class=\"mt-2\">\n                    <v-text-field class=\"pt-1 dense\" box single-line :placeholder=\"'선택지'+(answerIndex+1)\" v-model=\"question.choices[answerIndex]\" hide-details append-icon=\"remove_circle_outline\" @click:append=\"deleteAnswer(index, answerIndex)\"></v-text-field>\n                  </v-flex>\n                  <v-flex>\n                    <v-layout row align-center justify-space-around>\n                      <v-flex text-xs-center>\n                        <v-btn flat @click=\"addAnswer(index)\">\n                          <v-icon small class=\"mr-1\">add_circle_outline</v-icon>선택지 추가\n                        </v-btn>\n                      </v-flex>\n                      <v-flex text-xs-center>\n                        <v-checkbox hide-details v-model=\"question.allowMultipleChoice\" label=\"복수응답 허용\" class=\"mt-0 pt-0\"></v-checkbox>\n                      </v-flex>\n                    </v-layout>\n                  </v-flex>\n                </v-layout>\n              </v-card-text>\n            </v-card>\n            <v-divider class=\"mx-4\" v-if=\"index !== currentSurvey.questions.length - 1\"/>\n          </v-flex>\n        </div>\n        <v-flex>\n          <v-btn block @click=\"pushQuestion\">\n            <v-icon>playlist_add</v-icon><v-label size=\"24\">질문추가</v-label>\n          </v-btn>\n        </v-flex>\n      </v-layout>\n    </v-card-text>\n    <v-card-actions class=\"align-start\">\n      <v-spacer/>\n      <v-btn color=\"error\" depressed @click=\"$emit('deleteSurvey')\">설문 삭제</v-btn>\n      <v-btn color=\"primary\" depressed @click=\"extractSurvey\">저장</v-btn>\n    </v-card-actions>     \n  </v-card>\n</template>\n\n<script>\nexport default {\n  props: ['survey', 'surveyDialog'],\n  data () {\n    return {\n      currentSurvey:{}\n    }\n  },\n  methods: {\n    addAnswer: function (questionIndex) {\n      this.currentSurvey.questions[questionIndex].choices.push('')\n    },\n    deleteAnswer: function (questionIndex, answerIndex) {\n      if (this.currentSurvey.questions[questionIndex].choices.length < 3) {\n        if(this.currentSurvey.questions[questionIndex].choices[answerIndex] && this.currentSurvey.questions[questionIndex].choices[answerIndex].length > 0){\n          this.currentSurvey.questions[questionIndex].choices[answerIndex] = '';\n          this.$forceUpdate();\n        }else{\n          this.$store.dispatch('showSnackbar', {text:'선택지는 2개 이상이어야 합니다.', color:'info'})\n        }\n      }else{\n        this.currentSurvey.questions[questionIndex].choices.splice(answerIndex, 1)\n      }\n    },\n    pushQuestion () {\n      this.currentSurvey.questions.push({title: '', allowMultipleChoice: false, choices: ['', '']})\n    },\n    deleteQuestion (index) {\n      if(this.currentSurvey.questions.length === 1) {\n        if((this.currentSurvey.questions[index].title && this.currentSurvey.questions[index].title.length > 0) || (this.currentSurvey.questions[index].choices.some(choice => choice && choice.length > 0))){\n          this.currentSurvey.questions.splice(index, 1)\n          this.currentSurvey.questions.push({title: '', allowMultipleChoice: false, choices: ['', '']})\n        }else{\n          this.$store.dispatch('showSnackbar', {text:'최소 하나 이상의 질문을 입력해주세요', color:'warning'})\n        }\n      } else {\n        this.currentSurvey.questions.splice(index, 1)\n      }\n    },\n    extractSurvey () {\n      let i=0;\n      while(i<this.currentSurvey.questions.length){\n        if(this.currentSurvey.questions[i].title && this.currentSurvey.questions[i].title.length > 0){\n          if(this.currentSurvey.questions[i].choices.filter(choice => choice && choice.length > 0).length > 1){//safe\n            this.currentSurvey.questions[i].choices = this.currentSurvey.questions[i].choices.filter(choice => choice && choice.length > 0);\n          }else{\n            this.$store.dispatch('showSnackbar', {text:(i+1)+'번째 질문의 응답을 2개 이상으로 입력해주세요.', color:'info'})\n            return;\n          }\n        }else{\n          if(this.currentSurvey.questions[i].choices.some(choice => choice && choice.length > 0)){\n            this.$store.dispatch('showSnackbar', {text:(i+1)+'번째 질문의 제목을 입력해주세요.', color:'info'});\n            return;\n          }else{\n            this.currentSurvey.questions.splice(i, 1);\n            continue;\n          }\n        }\n        i++;\n      }\n      if(i === 0){\n        this.$store.dispatch('showSnackbar', {text:'질문을 1개 이상 입력해주세요.', color:'warning'})\n        return;\n      }\n      this.$emit('extractSurvey', this.currentSurvey)\n    }\n  },\n  watch:{\n    survey:{\n      handler(to){\n        this.currentSurvey = to;\n      },\n      deep:true,\n      immediate:true\n    }\n  }\n}\n</script>\n<style>\n#surveyMaker .v-text-field--box.v-text-field--single-line input{\n  margin-top:4px;\n}\n#surveyMaker .v-text-field--box > .v-input__control > .v-input__slot{\n  min-height:36px;\n}\n#surveyMaker .v-text-field.v-text-field--enclosed .v-input__append-inner{\n  margin-top:8px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SurveyMaker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SurveyMaker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SurveyMaker.vue?vue&type=template&id=410a3c39&\"\nimport script from \"./SurveyMaker.vue?vue&type=script&lang=js&\"\nexport * from \"./SurveyMaker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SurveyMaker.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-layout column :mx-1=\"$vuetify.breakpoint.smAndUp\" :mt-1=\"$vuetify.breakpoint.smAndUp\">\n    <v-flex id=\"title\" class=\"mb-0 pb-0\">\n      <v-text-field placeholder=\"제목\" class=\"dense\" :flat=\"$vuetify.breakpoint.xsOnly\" solo v-model=\"title\" hide-details></v-text-field>\n    </v-flex>\n    <v-flex xs12 id=\"write-editor\">\n      <quill-editor v-model=\"content\" ref=\"editor\" :options=\"editorOption\">\n        <div id=\"toolbar\" slot=\"toolbar\">\n          <button class=\"ql-bold\">Bold</button>\n          <button class=\"ql-italic\">Italic</button>\n          <select class=\"ql-size\">\n            <option value=\"small\">작게</option>\n            <option selected>보통</option>\n            <option value=\"large\">크게</option>\n            <option value=\"huge\">더 크게</option>\n          </select>\n          <!--<button ref=\"imageAttach\" class=\"ql-image\" value=\"image\" v-show=\"$vuetify.breakpoint.smAndUp\"></button>-->\n        </div>\n      </quill-editor>\n    </v-flex>\n    <div>{{savedContent}}</div>\n    <v-dialog v-model=\"surveyDialog\" max-width=\"500px\" :fullscreen=\"$vuetify.breakpoint.xsOnly\" scrollable>\n      <survey-maker @deleteSurvey=\"deleteSurvey\" @closeSurvey=\"closeSurvey\" @extractSurvey=\"extractSurvey\" :survey=\"currentSurvey\"/>\n    </v-dialog>\n\n    <v-layout pt-1 align-center>\n      <div>\n        <v-btn small flat @click=\"surveyButtonClick\" :color=\"survey?'primary':'default'\">\n          <v-icon id=\"survey-button\">how_to_vote</v-icon>\n          <span>설문조사</span>\n        </v-btn>\n      </div>\n      <div>\n        <v-btn small flat @click=\"selectImage\">\n          <v-icon id=\"attach-button\">image</v-icon>이미지\n        </v-btn>\n      </div>\n      <div>\n        <v-btn small flat @click=\"openFileDialog\">\n          <v-icon id=\"attach-button\">attach_file</v-icon>파일첨부\n        </v-btn>\n      </div>\n    </v-layout>\n    <input style=\"diplay:none!important; height:0px; width:0px;\"  ref=\"fileInput\" multiple id=\"file-upload\" accept=\"image/*\" type=\"file\" @click=\"$refs.fileInput.value = null\" value=\"\" @change=\"onFileChange\" capture=\"filesystem\">\n    <v-slide-y-transition>\n      <v-layout v-if=\"attachedFilenames.length>0\" wrap class=\"border-light\">\n        <v-flex xs6 md4 v-for=\"(item, index) in attachedFilenames\" :key=\"index\" px-2>\n          <v-slide-y-transition>\n            <v-layout row align-center>\n              <div class=\"ellipsis\">{{item}}</div>\n              <v-spacer/>\n              <v-btn small class=\"short\" @click=\"removeFile(index)\">삭제</v-btn>\n            </v-layout>\n          </v-slide-y-transition>\n        </v-flex>\n      </v-layout>\n    </v-slide-y-transition>\n    <v-dialog v-if=\"documentId && survey\" v-model=\"surveyViewerDialog\" max-width=\"500px\" :fullscreen=\"$vuetify.breakpoint.xsOnly\" scrollable>\n      <v-card>\n        <v-toolbar flat>\n          <v-toolbar-title>설문조사 확인</v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-btn class=\"toolbar-btn-last\" @click=\"surveyViewerDialog=false\" icon><v-icon>close</v-icon></v-btn>\n        </v-toolbar>\n        <v-card-text>\n          <v-layout column>\n            <survey :currentSurvey=\"survey\" :onlyView=\"true\"/>\n          </v-layout>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n    <v-layout py-2 ml-3 justify-center>\n      <div class=\"mr-3\">\n        <v-checkbox hide-details class=\"mr-1 my-auto mb-0\" v-model=\"isAnonymous\" label=\"익명\"></v-checkbox>\n      </div>\n      <div>\n        <v-checkbox :disabled=\"isAnonymous\" hide-details class=\"mr-1 my-auto mb-0\" v-model=\"disallowAnonymous\" label=\"익명댓글불가\"></v-checkbox>\n      </div>\n      <v-spacer></v-spacer>\n    </v-layout>\n    <v-layout row>\n      <v-flex text-xs-center>\n        <v-btn @click=\"$router.go(-1)\">돌아가기</v-btn>\n        <v-btn class=\"primary\" @click=\"post()\">{{documentId?'수정하기':'등록'}}</v-btn>\n      </v-flex>\n    </v-layout>\n  </v-layout>\n</template>\n<script>\n// Import plugins\nimport Survey from \"@/components/board/survey/Survey\";\nimport SurveyMaker from \"@/components/board/survey/SurveyMaker\";\nimport BoardMixins from \"@/components/mixins/BoardMixins\";\nexport default {\n  name: \"Editor\",\n  components: {\n    SurveyMaker,\n    Survey,\n  },\n  props: ['documentId', 'boardId'],\n  mixins: [BoardMixins],\n  data() {\n    return {\n      savedContent: undefined,\n      link: undefined,\n      title: null,\n      content: \"\",\n      survey: undefined,\n      surveyDialog: false,\n      surveyViewerDialog: false,\n      currentSurvey: {questions: []},\n      editorOption: {\n        placeholder: \"내용을 입력해주세요.\",\n        modules: {\n          toolbar: \"#toolbar\",\n          magicUrl: {\n            urlRegularExpression:/(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/,\n            globalRegularExpression:/(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/,\n            normalizeRegularExpression:/(https?:\\/\\/[\\S]+)|(www.[\\S]+)|([\\S]+.(?:com|kr|org|io|net|me))/,\n          },\n          imageDrop: true,\n          imageResize: true\n        },\n        theme:this.$vuetify.breakpoint.xsOnly?'bubble':'snow'\n      },\n      show: false,\n      isAnonymous: false,\n      disallowAnonymous: false,\n      formData: undefined,\n      rawFileData: undefined, \n      attachedFilenames: [], // for easy check\n      attachFromServer: undefined, // for keeping attaches when modifying document\n      originImages: [], // for Revert Imaage\n    };\n  },\n  methods: {\n    onEditorChange({quill, html, text}) {\n      console.log(\"editor change!\", quill, html, text);\n      this.content = html;\n    },\n    async post() {\n      // manually add images as file\n      if(!this.title || this.title.trim() === ''){\n        this.$store.dispatch('showSnackbar', {text:'제목을 입력해주세요.', color:'error'})\n        return;\n      }else if(!this.content || this.content.trim() === ''){\n        this.$store.dispatch('showSnackbar', {text:'내용을 입력해주세요.', color:'error'})\n        return;\n      }\n      if (this.documentId) await this.uploadModifiedDocument();\n      else await this.uploadDocument();\n    },\n    async uploadDocument() {\n      console.log(this.$refs.editor.quill.editor.delta)\n      if (!this.formData) this.formData = new FormData();\n      await this.attachImages();\n      this.formData.append(\"boardId\", this.$route.params.boardId);\n      this.formData.append(\"title\", this.title);\n      this.formData.append(\"contents\", JSON.stringify(this.$refs.editor.quill.editor.delta));\n      this.formData.append(\"isAnonymous\", this.isAnonymous);\n      this.formData.append(\"allowAnonymous\", this.isAnonymous ? true : !this.disallowAnonymous);\n      if (this.survey) {\n        this.formData.append(\"survey\", JSON.stringify(this.survey));\n      }\n      await this.processUploadFiles()\n      /*for (var pair of this.formData.entries()) {\n        console.log(pair[0] + \", \" + pair[1]);\n      }*/\n      return this.$axios\n        .post(\"/document\", this.formData)\n        .then(response => {\n          if (response.status === 200) {\n            this.$router.push(`/${this.$route.params.boardId}/${response.data.documentId}`);\n          }\n        })\n        .catch(error => {\n          this.$store.dispatch('showSnackbar', {text:'게시물 작성이 실패하였습니다. 다시 시도해주세요', color:'error'})\n          delete this.formData;\n          this.revertImages();\n          console.log(error.response);\n        });\n    },\n    async uploadModifiedDocument() {\n      if(!confirm('게시물을 수정하시겠습니까?')) {\n        return;\n      }\n      // Convert Images And Upload First\n      try {\n        if (!this.formData) this.formData = new FormData();\n        this.formData.append('documentId', this.documentId)\n        await this.attachImages(); // change image url here\n        await this.processFileChange()\n          let modifiedBody = {\n            documentId: this.documentId,\n            title: this.title,\n            contents: JSON.stringify(this.$refs.editor.quill.editor.delta),\n          }\n          \n          return this.$axios\n          .put(`/document`, modifiedBody)\n          .then(response => {\n            if (response.status === 200) {\n              this.$store.dispatch('showSnackbar', {text:'게시물을 수정하였습니다', color:'success'})\n              this.$router.push(`/${this.$route.params.boardId}/${this.documentId}`);\n            }\n          })\n          .catch(error => {\n            this.$store.dispatch('showSnackbar', {text:'게시물 수정에 실패했습니다. 다시 시도해주세요', color:'error'})\n            console.log(error.response);\n          })\n      } catch (err){\n        console.log(err)\n        this.$store.dispatch('showSnackbar', {text:'게시물 수정에 실패했습니다. 다시 시도해주세요', color:'error'})\n        this.revertImages();\n        delete this.formData\n      }\n    },\n    attachImages() {\n      return this.$refs.editor.quill.editor.delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty(\"image\")) {\n          console.log(item.insert)\n          if(item.insert.image.includes('data:image')) {\n            let imgSrc = item.insert.image;\n            let imageName = this.uuid() + \".\" + imgSrc.substring(\"data:image/\".length, imgSrc.indexOf(\";base64\"));\n            this.formData.append(\"attach\", this.dataURItoBlob(imgSrc), imageName);\n            item.insert.image = imageName;\n            this.originImages.push({name: imageName, src: imgSrc});\n          }\n          console.log(item.insert)\n        }\n      });\n    },\n    revertImages() {\n      this.$refs.editor.quill.editor.delta.ops.forEach(item => {\n        if (item.insert.hasOwnProperty(\"image\")) {\n          let imgName = item.insert.image;\n          item.insert.image = this.originImages.find(img => img.name === imgName).src;\n        }\n      });\n      this.originImages = [];\n    },\n    async processFileChange() {\n      // let serverPaths = this.attachFromServer.map(a => '/' + a.attach_path)\n      \n      // new images are already in formdata\n      // process deleted images\n            console.log(this.attachFromServer)\n\n      let currentImageId = this.$refs.editor.quill.editor.delta.ops.map(item => {\n        if (item.insert.hasOwnProperty(\"image\")) {\n          if(item.insert.image.startsWith('/attach')) {\n            // '/attach/:documentId(^[\\\\d]+$)/:attachId\n            return this.attachFromServer.find(a => item.insert.image === '/' + a.attach_path).attach_id\n          }\n        }\n      });\n      console.log(currentImageId)\n      let deleteImageP, deleteFileP, uploadFileP\n      console.log(this.attachFromServer)\n      this.attachFromServer = this.attachFromServer.filter(a => a!==null)\n      this.attachFromServer.forEach(a => {\n        console.log(a.attach_name)\n        if(a.insert && !currentImageId.filter(i=>i!==undefined).includes(a.attach_id)) {\n          deleteImageP = this.$axios\n            .delete(`/document/attach/${this.documentId}/${a.attach_id}`)\n            .then(response => {\n              if (response.status === 200) {\n                console.log(response)\n              }\n            })\n            .catch(error => {\n              console.log(error.response);\n            });\n        } else if(!this.attachedFilenames.includes(a.attach_name) && !a.insert){\n          deleteFileP = this.$axios\n            .delete(`/document/attach/${this.documentId}/${a.attach_id}`)\n            .then(response => {\n              if (response.status === 200) {\n                console.log(response)\n              }\n            })\n            .catch(error => {\n              console.log(error.response);\n          });\n        }\n      })\n      await this.processUploadFiles()\n      let fileCount = 0;\n      for (let pair of this.formData.entries()) {\n        if(pair[0] === 'attach') fileCount += 1;\n      }\n      if(fileCount > 0) {\n        uploadFileP = this.$axios\n          .post(`/document/attach`, this.formData)\n          .then(response => {\n            if (response.status === 200) {\n              console.log(response)\n            }\n          })\n          .catch(error => {\n            console.log(error.response);\n          });\n      }\n      await Promise.all([deleteImageP, deleteFileP, uploadFileP])\n        .then(res => {\n          console.log(res)\n        })\n        .catch(err => {\n          console.log(err)\n          this.$store.dispatch('showSnackbar', {text:'게시물 수정에 실패했습니다. 다시 시도해주세요', color:'error'})\n        })\n    },\n    surveyButtonClick() {\n      if (this.documentId && this.survey) {\n        // 글 수정시 설문 수정 불가\n        this.surveyViewerDialog = true\n        return;\n      }\n      if (this.documentId && !this.survey) {\n        // 글 작성 후 설문 추가 불가\n        this.$store.dispatch('showSnackbar', {text:'게시물 작성 후 설문을 추가할 수 없습니다.', color:'error'})\n        return;\n      }\n      if (this.currentSurvey.questions.length === 0) {\n        this.currentSurvey.questions.push({title: \"\", allowMultipleChoice: false, choices: [\"\", \"\"]});\n      } else if(this.survey){\n        this.currentSurvey = JSON.parse(JSON.stringify(this.survey));\n      }\n      this.surveyDialog = true;\n    },\n    extractSurvey(survey) {\n      this.surveyDialog = false;\n      this.survey = JSON.parse(JSON.stringify(survey));\n    },\n    closeSurvey() {\n      this.surveyDialog = false;\n    },\n    deleteSurvey() {\n      if (confirm(\"작성된 질문 및 내용을 삭제할까요?\")) {\n        this.surveyDialog = false;\n        this.currentSurvey.questions = [];\n        this.survey = undefined;\n      }\n    },\n    parseDocument(data) {\n          this.boardId = data.boardId\n          this.title = data.title\n          this.contents = JSON.parse(data.contents)\n          this.attachFromServer = data.attach\n          console.log(data.attach)\n          this.isAnonymous = data.isAnonymous\n          if(data.survey) {\n            this.survey = data.survey\n          }\n          if (Array.isArray(data.attach)) {\n            data.attach = data.attach.filter(x => x !== null);\n          }\n          if(data.attach) {\n            console.log(data.attach)\n            let image;\n            this.contents.ops.forEach(item => {\n              if (item.insert.hasOwnProperty(\"image\")) {\n                image = data.attach.find(x => x.attach_name === item.insert.image);\n                console.log(image)\n                if (image) {\n                  image.insert = true;\n                  item.insert.image = this.webUrl + \"/\" + image.attach_path\n                }\n              }\n            })\n            this.attachedFilenames = data.attach.filter(f => !f.insert).map(f => f.attach_name)\n          }\n          \n          this.$refs.editor.quill.setContents(this.contents)\n    },\n    attachButtonClick() {\n      if(this.documentId) this.openFileDialog()\n      else this.$refs.pond.browse()\n    },\n    openFileDialog() {\n      document.getElementById('file-upload').click();\n    },\n    async onFileChange(e) { \n        if (!this.rawFileData) this.rawFileData = new FormData();\n        var self = this;\n        var files = e.target.files || e.dataTransfer.files;\n        if(files.length > 0){\n            for(var i = 0; i < files.length; i++){\n              if(files[i].size > 1024 * 1024 * 8) {\n                this.$store.dispatch('showSnackbar', {text:'8MB 이하의 파일만 첨부가능합니다.', color:'error'})\n                break;\n              }\n                await self.rawFileData.append(\"file\", files[i], files[i].name);\n                await self.attachedFilenames.push(files[i].name)\n                // keep delete -> attach case\n            }\n        }\n    },\n    async removeFile(index) {\n      if (this.rawFileData) {\n        let newFileData = new FormData()\n        let i = 0\n        for (let pair of this.rawFileData.entries()) {\n          if(pair[0] ==='file') {\n            if(i !== Number(index)){\n              await newFileData.append(pair[0], pair[1], pair[1].name)\n            }\n            i += 1\n          }\n        }\n        this.rawFileData = newFileData\n      }\n      \n      this.attachedFilenames.splice(index, 1)\n    },\n    processUploadFiles() {\n      if(!this.rawFileData ) this.rawFileData = new FormData()\n      let namesCount = {}\n      for (let pair of this.rawFileData.entries()) {\n        namesCount[pair[1].name] = {\n          count: namesCount[pair[1].name] ? (namesCount[pair[1].name].count + 1) : 1,\n          index: 0\n        }\n      }\n      for (let pair of this.rawFileData.entries()) {\n        \n        let splitter = pair[1].name.lastIndexOf('.')\n        let fileExtension = pair[1].name.substring(splitter, pair[1].name.length)\n        let filename = pair[1].name.substring(0, splitter)\n        let suffix = ''\n        if( namesCount[pair[1].name].count > 0) {\n          suffix = namesCount[pair[1].name].index === 0 ? '' : ` (${namesCount[pair[1].name].index})`\n          namesCount[pair[1].name].index += 1\n        }\n        this.formData.append('attach', pair[1], filename + suffix + fileExtension)\n      }\n    },\n    selectImage() {\n      const input = document.createElement('input');\n      input.setAttribute('type', 'file');\n      input.setAttribute('accept', 'image/*');\n      input.click();\n      let self = this;\n      // Listen upload local image and save to server\n      input.onchange = () => {\n        const file = input.files[0];\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = function () {\n          // file type is only image.\n          if (/^image\\//.test(file.type)) {\n            console.log('이미지다')\n            let range = self.$refs.editor.quill.getSelection()\n            console.log(range)\n            console.log(file)\n            self.$refs.editor.quill.insertEmbed(range == null ? self.$refs.editor.quill.getLength() : range.index , 'image', reader.result);\n  \n          } else {\n            this.$store.dispatch('showSnackbar', {text:'이미지 파일만 업로드할 수 있습니다.', color:'error'})\n          }\n        };\n        reader.onerror = function (error) {\n         console.log('Error: ', error);\n        };\n      };\n    }\n  },\n  computed: {\n    editor() {\n      return this.$refs.editor.quill;\n    }\n  },\n  watch: {\n    isAnonymous: {\n      handler(to) {\n        if (to) this.disallowAnonymous = false;\n      }\n    }\n  },\n  created() {\n    if(this.boardId && this.documentId) {\n      this.$axios\n        .get(`/${this.boardId}/${this.documentId}`)\n        .then(response => {\n          this.parseDocument(response.data)\n        })\n        .catch(error => {\n          console.log(error)\n          console.log(error.response);\n          this.$store.dispatch('showSnackbar', {text:'게시물을 불러오는데 실패했습니다.', color:'error'})\n          this.$router.replace(\"/error?error=\" + (error && error.response ? error.response.status || \"404\" : \"404\"));\n        }); \n    }\n  }\n};\n</script>\n<style>\n.ql-image {\n  visibility: hidden;\n}\n#write-editor .quill-editor .ql-container {\n  min-height: 20rem;\n  padding-bottom: 1rem;\n}\n#write-editor .quill-editor .ql-editor {\n  min-height: 20rem;\n}\n#title .v-input__slot {\n  box-shadow: none;\n}\n#title,\n#toolbar,\n#toolbar + .ql-container.ql-snow,\n#write-editor .ql-container.ql-bubble{\n  border-top: 1px solid #e8e8e8;\n  border-left: none;\n  border-right: none;\n}\n.ql-snow #toolbar {\n  display: none;\n  border-bottom: none;\n}\n#toolbar + .ql-container.ql-snow,\n#write-editor .ql-container.ql-bubble{\n  border-bottom: 1px solid #e8e8e8;\n}\n#write-editor .quill-editor .ql-bubble .ql-tooltip {\n  z-index:1\n}\n#write-editor .ql-bubble .ql-picker.ql-size {\n  width: 70px;\n}\n@media (min-width: 600px) {\n  #title,\n  #toolbar,\n  #toolbar + .ql-container.ql-snow,\n  #write-editor .ql-container.ql-bubble{\n    border-left: 1px solid #e8e8e8;\n    border-right: 1px solid #e8e8e8;\n  }\n  .ql-snow #toolbar {\n    display: block;\n  }\n  #write-editor .quill-editor .ql-container, .write-editor .quill-editor .ql-editor {\n    min-height: 30rem;\n  }\n}\n#write-editor .ql-editor.ql-blank::before {\n  font-style: normal;\n}\n#write-editor .video-container{\n  position:relative;\n  height:0;\n  width:100%;\n  padding-bottom:56%;\n}\n#write-editor .video-container iframe{\n  position:absolute;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=cec3e5fa&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}