(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-452c8c48"],{"02d9":function(t,a,e){},3754:function(t,a,e){"use strict";var o=e("02d9"),r=e.n(o);r.a},"83a3":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-layout",{attrs:{row:"","justify-center":"","align-center":"",wrap:""}},[e("v-card",{attrs:{width:"100%",flat:""}},[e("v-card-title",{staticClass:"px-0",attrs:{"primary-title":""}},[e("v-flex",{staticClass:"mx-auto px-3 pb-2",attrs:{xs12:"",sm11:"",md10:"",lg9:""}},[e("div",{class:{"text-xs-center":!0,"justify-center":!0,"align-center":!0,"pa-3":t.$vuetify.breakpoint.smAndUp}},[e("v-container",{attrs:{fluid:"","grid-list-xs":""}},[e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{"py-0":""}},[e("v-text-field",{ref:"searchQuery",staticClass:"mt-0 pt-0 dense",attrs:{"append-icon":"search",placeholder:"검색할 라운지/토픽/아카이브 이름",hint:"각각의 주소, 이름, 설명으로 검색할 수 있습니다."},model:{value:t.searchQuery,callback:function(a){t.searchQuery=a},expression:"searchQuery"}})],1)],1)],1)],1)]),e("v-flex",{staticClass:"mx-auto",attrs:{xs12:"",sm11:"",md10:"",lg9:""}},[e("v-data-table",{class:{customAction:!0,noResult:0===t.pagination.totalItems},attrs:{"hide-headers":"",headers:t.headers,id:"searchBoardTable",items:t.boards,search:t.searchQuery,"rows-per-page-items":[15],pagination:t.pagination,loading:t.loading},on:{"update:pagination":function(a){t.pagination=a}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",{staticClass:"cursor-pointer",on:{click:function(e){t.openDialog(a.item)}}},[e("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(t.boardTypeItems[a.item.boardType]))]),e("td",{staticClass:"ellipsis px-1"},[e("v-layout",{staticClass:"d-inline",attrs:{column:""}},[e("v-flex",{attrs:{xs12:""}},[e("span",[t._v(t._s(a.item.boardName))])]),e("v-flex",{staticClass:"ellipsis",attrs:{xs12:""}},[e("small",[t._v(t._s(a.item.boardDescription))])])],1)],1),e("td",{staticClass:"px-1"},["T"!==a.item.boardType||t.userBoards.some(function(t){return t.boardId===a.item.boardId})?e("router-link",{attrs:{to:"/"+a.item.boardId}},[e("v-btn",{staticClass:"short",attrs:{small:"",flat:""}},[t._v("바로가기")])],1):e("v-btn",{staticClass:"short",attrs:{small:"",color:"primary"},on:{click:function(e){e.stopPropagation(),t.openDialog(a.item,!0)}}},[t._v("구독하기")])],1)])]}}])},[e("template",{slot:"actions-prepend"},[e("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.openTopicDialog}},[t._v("토픽 만들기")]),e("v-spacer")],1)],2)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"800",lazy:""},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("board-information",{attrs:{board:t.selected},on:{closeDialog:t.closeDialog}})],1),e("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.xsOnly,transition:t.$vuetify.breakpoint.xsOnly?"dialog-bottom-transition":"fade-transition",lazy:"",scrollable:"","max-width":"700px"},model:{value:t.topicCreator,callback:function(a){t.topicCreator=a},expression:"topicCreator"}},[e("topic-creator",{attrs:{board:null},on:{closeDialog:t.closeTopicDialog,resetBoard:t.resetBoard}})],1)],1)],1)},r=[],s={name:"SearchBoard",components:{TopicCreator:function(){return e.e("chunk-452d4511").then(e.bind(null,"f94d"))},BoardInformation:function(){return e.e("chunk-7a9edb6b").then(e.bind(null,"d2b4"))}},data:function(){return{loading:!1,loadingJoin:!1,dialog:!1,topicCreator:!1,boardTypeItems:{T:"토픽",L:"라운지",D:"아카이브",X:"기타",E:"전직교사",N:"예비교사"},searchQuery:"",selected:{boardAuth:[]},groupItems:[],pagination:{},headers:[{text:"구분",value:"boardType",sortable:!1},{text:"이름",value:"boardName",sortable:!1},{text:"주소",value:"boardId",sortable:!1},{text:"설명",value:"boardDescription",sortable:!1}]}},computed:{boards:function(){var t=this.$store.getters.boards;return t.filter(function(a){return a.parentBoardId||!t.some(function(t){return t.parentBoardId===a.boardId})})},userBoards:function(){return this.$store.getters.userBoards},userGroups:function(){return this.$store.getters.profile.groups},totalBoards:function(){return this.boards.length}},created:function(){var t=this;this.$axios.get("/group",{params:{groupType:["N","R","M","G"]},headers:{silent:!0}}).then(function(a){t.groupItems=a.data}).catch(function(a){console.log(a),t.$store.dispatch("showSnackbar",{text:"그룹 목록을 가져오지 못했습니다.".concat(a&&a.response&&a.response.data?"["+a.response.data.message+"]":""),color:"error"})})},methods:{openDialog:function(t,a){var e=this;this.selected&&this.selected.boardId===t.boardId?this.dialog=!0:this.$axios.get("/board",{params:{boardId:t.boardId}}).then(function(t){e.selected=t.data,e.dialog=!0}).catch(function(t){console.log(t),e.$store.dispatch("showSnackbar",{text:"정보를 가져오지 못했습니다.".concat(t&&t.response&&t.response.data?"["+t.response.data.message+"]":""),color:"error"})})},closeTopicDialog:function(){this.topicCreator=!1},openTopicDialog:function(){"A"===this.$store.getters.profile.auth?this.topicCreator=!0:this.$store.dispatch("showSnackbar",{text:"인증을 받은 회원만 토픽을 만들 수 있습니다.",color:"error"})},resetBoard:function(){},closeDialog:function(){this.dialog=!1}},watch:{topicCreator:function(t){document.body.style.position=t?"fixed":"initial"}}},i=s,n=(e("3754"),e("0c7c")),c=Object(n["a"])(i,o,r,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-452c8c48-legacy.7898e316.js.map