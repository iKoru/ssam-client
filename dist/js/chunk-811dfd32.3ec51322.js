(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-811dfd32"],{ce54:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-card-title",[n("v-layout",{attrs:{row:""}},[n("v-flex",{staticClass:"mx-auto",attrs:{xs12:"",sm10:"",lg8:""}},[n("v-layout",{attrs:{row:""}},[n("h3",{staticClass:"headline"},[t._v("내가 쓴 댓글 목록")])])],1)],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{staticClass:"mx-auto",attrs:{xs12:"",sm10:"",lg8:""}},[n("v-data-table",{class:{customAction:!0,noResult:0===t.totalUserComments},attrs:{headers:t.headers,xs12:"",items:t.userComments,id:"userCommentTable","rows-per-page-items":[15],loading:t.loading,"total-items":t.totalUserComments,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[n("tr",{on:{click:function(n){t.selected=t.selected===e.index?null:e.index}}},[n("td",[n("v-checkbox",{attrs:{"input-value":t.selected===e.index,primary:"","hide-details":""}})],1),t.$vuetify.breakpoint.mdAndUp?n("td",{staticClass:"text-xs-left px-2"},[t._v(t._s(t.boardItems.some(function(t){return t.boardId===e.item.boardId})?t.boardItems.find(function(t){return t.boardId===e.item.boardId}).boardName:"(삭제된 게시판)"))]):t._e(),n("td",{class:{"text-xs-left multi-row cursor-pointer":!0,"px-0":t.$vuetify.breakpoint.xsOnly},on:{click:function(n){n.stopPropagation(),t.openLink("/"+e.item.boardId+"/"+e.item.documentId)}}},[n("a",{attrs:{href:"/"+e.item.boardId+"/"+e.item.documentId,target:"_blank"}},[t._v("\n                "+t._s(t.selectContents(e.item.contents))+"\n                "),n("span",{staticClass:"primary--text",attrs:{title:"대댓글 수"}},[t._v(t._s(e.item.childCount>0?"["+e.item.childCount+"]":""))])])]),n("td",{staticClass:"text-xs-right px-2"},[t._v(t._s(e.item.voteUpCount))]),n("td",{staticClass:"text-xs-right px-2"},[t._v(t._s(t.$moment(e.item.writeDateTime,"YYYYMMDDHHmmss").format("Y-MM-DD")))])])]}}])},[n("template",{slot:"no-data"},[t._v("\n          "+t._s(this.noresult)+"\n          "),n("v-btn",{attrs:{color:"primary"},on:{click:t.getMyComments}},[t._v("새로고침")])],1),n("template",{slot:"actions-prepend"},[n("v-btn",{class:{short:t.$vuetify.breakpoint.xsOnly},attrs:{color:"error",disabled:null===t.selected,small:t.$vuetify.breakpoint.xsOnly},on:{click:t.deleteRow}},[t._v("삭제")]),n("v-spacer")],1)],2)],1)],1)],1)},a=[],o=n("9339"),i=n.n(o),r={name:"MyComment",data:function(){return{selected:null,userComments:[],loading:!1,totalUserComments:0,pagination:{}}},computed:{boardItems:function(){return this.$store.getters.boards},noresult:function(){return this.loading?"작성한 댓글을 불러오고 있습니다. 잠시만 기다려주세요...":"아직 작성한 댓글이 없으시군요!"},headers:function(){return this.$vuetify.breakpoint.smAndDown?[{text:"",sortable:!1,value:""},{text:"내용",sortable:!1,align:"left",value:"contents",class:"ellipsis",width:"100%"},{text:"추천",align:"right",sortable:!1,class:this.$vuetify.breakpoint.xsOnly?"px-1":void 0,value:"voteUpCount"},{text:"작성일",sortable:!1,align:"right",value:"writeDateTime"}]:[{text:"",sortable:!1,value:""},{text:"게시판",align:"left",sortable:!1,value:"boardId"},{text:"내용",sortable:!1,align:"left",value:"contents",class:"ellipsis",width:"100%"},{text:"추천",align:"right",sortable:!1,value:"voteUpCount"},{text:"작성일",sortable:!1,align:"right",value:"writeDateTime"}]}},methods:{getMyComments:function(){var t=this;this.loading=!0,this.$axios.get("/user/comment",{params:{page:this.pagination.page},headers:{silent:!0}}).then(function(e){t.userComments=e.data,t.totalUserComments=e.data.length>0?e.data[0].totalCount:0,t.loading=!1}).catch(function(e){t.loading=!1,t.$router.app.$emit("showSnackbar","내가 쓴 댓글 목록을 불러오지 못했습니다.[".concat(e.response.data?e.response.data.message:"","]"),"error")})},openLink:function(t){var e=this.$router.resolve({path:t});window.open(e.href,"_blank")},deleteRow:function(){var t=this;null!==this.selected?this.$axios.put("/comment",{commentId:this.userComments[this.selected].commentId,isDeleted:!0}).then(function(e){1===t.userComments.length&&t.pagination.page>1&&t.pagination.page--,t.getMyComments(),t.selected=null,t.$store.dispatch("showSnackbar",{text:"댓글을 삭제하였습니다.",color:"success"})}).catch(function(e){t.$store.dispatch("showSnackbar",{text:e.response&&e.response.data.message||"댓글을 삭제하지 못했습니다.",color:"error"})}):this.$store.dispatch("showSnackbar",{text:"삭제할 댓글을 선택해주세요.",color:"error"})},selectContents:function(t){var e;try{e=JSON.parse(t)}catch(s){return""}var n=new i.a(document.createElement("div"));return n.setContents(e),n.getText(0,50)+(n.getLength()>50?"...":"")}},watch:{pagination:{handler:function(){this.getMyComments()},deep:!0}},created:function(){this.getMyComments()}},l=r,c=(n("e912"),n("0c7c")),d=Object(c["a"])(l,s,a,!1,null,null,null);e["default"]=d.exports},e912:function(t,e,n){"use strict";var s=n("f697"),a=n.n(s);a.a},f697:function(t,e,n){}}]);
//# sourceMappingURL=chunk-811dfd32.3ec51322.js.map