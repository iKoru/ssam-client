(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-369ab7b7"],{2558:function(t,e,s){},3962:function(t,e,s){},"437a":function(t,e,s){"use strict";var o=s("2558"),n=s.n(o);n.a},"4bc5":function(t,e,s){},5185:function(t,e,s){"use strict";var o=s("8d4f"),n=s.n(o);n.a},5347:function(t,e,s){"use strict";var o=s("c1df"),n=s.n(o),r={data:function(){return{boardTypeItems:{T:"토픽",L:"라운지",D:"아카이브",X:"게시판",E:"전직교사",N:"예비교사"},webUrl:"https://pedagy.com"}},methods:{uuid:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},dataURItoBlob:function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var s=t.split(",")[0].split(":")[1].split(";")[0],o=new Uint8Array(e.length),n=0;n<e.length;n++)o[n]=e.charCodeAt(n);return new Blob([o],{type:s})},timeParser:function(t){return n()(t,"YYYYMMDDHHmmss").fromNow()}}};e["a"]=r},"53c0":function(t,e,s){t.exports=s.p+"img/defaultUser.8cc93c28.png"},"5ae1":function(t,e,s){},"88dd":function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.survey?s("v-layout",{staticClass:"border-light py-2",attrs:{column:""}},[s("v-flex",[s("v-layout",{attrs:{row:"","align-center":"","mx-2":""}},[t.onlyView?s("span",{staticClass:"subheading"},[t._v("글 작성 후에 수정/삭제가 불가능합니다.")]):s("span",{staticClass:"subheading"},[t._v("설문조사")]),s("v-spacer"),s("span",{directives:[{name:"show",rawName:"v-show",value:t.finalResults,expression:"finalResults"}],staticStyle:{"white-space":"nowrap"}},[t._v("\n        "+t._s(t.survey.participants)+"명 참여\n      ")])],1)],1),t._l(t.survey.surveyContents.questions,function(e,o){return s("v-flex",{key:o,staticClass:"px-3 pt-2"},[s("div",{attrs:{id:"poll"}},[s("div",{staticClass:"font-weight-bold body-2 mb-2"},[t._v(t._s(o+1+". "+e.title)),e.allowMultipleChoice?s("small",{staticClass:"grey--text lighten-1"},[t._v("(복수응답)")]):t._e()]),s("div",{staticClass:"ans-cnt"},t._l(e.choices,function(n,r){return s("div",{key:r,staticClass:"ans"},[t.finalResults?[s("div",{class:{"ans-voted final multi-row":!0,selected:n.selected,"font-weight-bold":e.mostVotes==n.votes}},[n.percent?s("span",{staticClass:"percent"},[t._v(t._s(n.percent))]):t._e(),s("span",{staticClass:"txt"},[t._v(t._s(n.text))])]),s("span",{staticClass:"bg",style:{width:n.percent}})]:[s("div",{class:{"ans-no-vote multi-row":!0,active:n.selected},on:{click:function(e){t.handleVote(o,n)}}},[s("span",{staticClass:"txt"},[t._v(t._s(n.text))])]),s("span",{staticClass:"bg"})]],2)}),0)]),o+1!==t.survey.surveyContents.questions.length?s("v-divider",{key:"divider"+o,staticClass:"mt-3"}):t._e()],1)}),t.survey.participated||t.onlyView?t._e():s("v-flex",[s("v-layout",{attrs:{"justify-center":"","my-2":""}},[s("v-btn",{attrs:{small:""},on:{click:function(e){t.showSurveyResult=!t.showSurveyResult}}},[t._v("\n        "+t._s(t.showSurveyResult?"돌아가기":"결과보기")+"\n      ")]),s("v-btn",{attrs:{small:"",color:"primary",disabled:t.finalResults},on:{click:t.completeSurvey}},[t._v("응답하기")])],1)],1)],2):t._e()},n=[],r={props:["currentSurvey","onlyView"],data:function(){return{showSurveyResult:!1,survey:null}},created:function(){this.survey=this.formatSurvey(this.currentSurvey)},computed:{finalResults:function(){return this.survey.participated||this.showSurveyResult}},methods:{formatSurvey:function(t){var e=t.surveyAnswers;return t.surveyContents.questions.forEach(function(t,s){var o=[],n=0,r=0;t.choices.forEach(function(t,a){e.length>s?(o.push({text:t,selected:!1,votes:e[s][a]}),e[s][a]>n&&(n=e[s][a]),r+=e[s][a]):o.push({text:t,selected:!1,votes:0})}),t.mostVotes=n,t.totalVotes=r,0===r?o.forEach(function(t){t.percent="0%"}):o.forEach(function(t){t.percent=!isNaN(t.votes)&&t.votes>0?Math.round(parseInt(t.votes)/r*100)+"%":"0%"}),t.choices=o}),t},getAnswerArray:function(t){var e=[];return t.forEach(function(t){if(t.allowMultipleChoice){var s=[];t.choices.forEach(function(t,e){t.selected&&s.push(e)}),e.push(s)}else e.push(t.choices.findIndex(function(t){return t.selected}))}),e},completeSurvey:function(){var t=this;if(this.survey.surveyContents.questions.every(function(t){return t.choices.some(function(t){return t.selected})})){if(this.survey.participated)return void this.$store.dispatch("showSnackbar",{text:"이미 참여한 설문입니다.",color:"info"});var e=this.getAnswerArray(this.survey.surveyContents.questions);this.$axios.post("/survey",{documentId:this.$route.params.documentId,answer:e}).then(function(e){console.log(e),e.data.survey?(t.survey=t.formatSurvey(e.data.survey),t.showSurveyResult=!0):t.$axios.get("/".concat(t.$route.params.boardId,"/").concat(t.$route.params.documentId)).then(function(e){t.survey=t.formatSurvey(e.data.survey),console.log(t.survey),t.showSurveyResult=!0}).catch(function(t){console.log(t)})}).catch(function(e){e.response&&409===e.response.status?t.$store.dispatch("showSnackbar",{text:e.response&&e.response.data.message||"설문 응답을 등록하지 못했습니다.",color:"info"}):t.$store.dispatch("showSnackbar",{text:e.response&&e.response.data.message||"설문 응답을 등록하지 못했습니다.",color:"error"})})}else this.$store.dispatch("showSnackbar",{text:this.survey.surveyContents.questions.findIndex(function(t){return!t.choices.some(function(t){return t.selected})})+1+"번 질문의 응답을 선택해주세요.",color:"warning"})},handleVote:function(t,e){this.survey.surveyContents.questions[t].allowMultipleChoice||e.selected||this.survey.surveyContents.questions[t].choices.forEach(function(t){return t.selected=!1}),e.selected=!e.selected}}},a=r,i=(s("437a"),s("0c7c")),c=Object(i["a"])(a,o,n,!1,null,null,null);e["a"]=c.exports},"8a1f":function(t,e,s){"use strict";var o=s("5ae1"),n=s.n(o);n.a},"8aeb":function(t,e,s){"use strict";var o=s("3962"),n=s.n(o);n.a},"8d4f":function(t,e,s){},bd5c:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.document?s("v-layout",{attrs:{column:""}},[s("v-flex",[s("v-card-title",{attrs:{"primary-title":""}},[s("div",{staticClass:"w-100"},[s("router-link",{staticClass:"title mb-0 multi-row",attrs:{to:"/"+t.document.boardId+"/"+t.document.documentId}},[t._v(t._s(t.document.title))]),s("v-layout",{attrs:{row:"","mt-1":""}},[s("v-spacer"),s("v-flex",{attrs:{"text-xs-right":""}},[s("user-link",{attrs:{nickName:t.document.nickName,boardType:t.board.boardType}}),t._v("\n             | 댓글 "+t._s(t.document.commentCount)+" | 조회 "+t._s(t.document.viewCount)+" | "+t._s(t.$moment(t.document.writeDateTime,"YYYYMMDDHHmmss").format("Y.MM.DD HH:mm:ss"))+"\n          ")],1)],1)],1)])],1),s("v-divider"),s("v-flex",{attrs:{xs12:""}},[s("v-card-text",{staticClass:"px-0"},[s("div",{staticClass:"ql-editor py-0 px-3",attrs:{id:"documentContents"},domProps:{innerHTML:t._s(t.documentHTML)}})])],1),t.document.hasSurvey&&t.document.survey?s("v-layout",{attrs:{row:"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm10:"",md8:"","mx-3":""}},[s("survey",{attrs:{currentSurvey:t.document.survey}})],1)],1):t._e(),s("v-flex",{attrs:{"text-xs-center":"","my-2":""}},[s("v-btn",{staticClass:"font-weight-bold short",on:{click:t.voteDocument}},[s("v-icon",{attrs:{color:"primary",small:""}},[t._v("thumb_up")]),t._v(" \n      "),s("span",[t._v(t._s(t.document.voteUpCount))])],1)],1),s("v-divider"),s("v-flex",{staticClass:"my-2"},[s("v-layout",{attrs:{row:"","text-xs-right":""}},[s("v-flex",{attrs:{"pr-2":""}},[s("v-btn-toggle",{attrs:{id:"bottomBottons"}},[t.document.attach&&t.document.attach.some(function(t){return!t.insert})?[s("v-btn",{class:{"primary--text":t.showAttach},attrs:{title:"첨부파일 보기"},on:{click:function(e){t.showAttach=!t.showAttach}}},[t._v("첨부파일("+t._s(t.document.attach.filter(function(t){return!t.insert}).length)+")")])]:t._e(),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.document.isWriter,expression:"document.isWriter"}],staticClass:"short",attrs:{to:"/"+t.$route.params.boardId+"/"+t.document.documentId+"/edit"}},[s("span",[t._v("수정")])]),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.document.isWriter,expression:"document.isWriter"}],staticClass:"short",on:{click:t.deleteDocument}},[t._v("삭제")]),s(t.$vuetify.breakpoint.xsOnly?"v-bottom-sheet":"v-menu",{tag:"component",attrs:{"open-on-hover":"",bottom:"",lazy:"","offset-y":""},model:{value:t.scrapMenu,callback:function(e){t.scrapMenu=e},expression:"scrapMenu"}},[s("v-btn",{staticClass:"short",attrs:{slot:"activator"},slot:"activator"},[t._v("스크랩")]),s("v-list",{attrs:{dense:""}},[s("div",{staticClass:"v-list__tile font-weight-bold",on:{click:function(t){t.stopPropagation()}}},[t._v("스크랩 그룹 선택")]),t._l(t.scrapGroups,function(e){return s("v-list-tile",{key:e.scrapGroupId,on:{click:function(s){t.scrapDocument(e)}}},[s("v-list-tile-title",[t._v(t._s(e.scrapGroupName))])],1)})],2)],1),s(t.$vuetify.breakpoint.xsOnly?"v-bottom-sheet":"v-menu",{tag:"component",attrs:{"open-on-hover":"",bottom:"",lazy:"","offset-y":""},model:{value:t.reportMenu,callback:function(e){t.reportMenu=e},expression:"reportMenu"}},[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.document.isWriter,expression:"!document.isWriter"}],staticClass:"short",attrs:{slot:"activator"},slot:"activator"},[t._v("신고")]),s("v-list",{attrs:{"two-line":""}},[s("div",{staticClass:"font-weight-bold mx-3 my-2",on:{click:function(t){t.stopPropagation()}}},[t._v("신고사유 선택")]),t._l(t.reportTypes,function(e){return s("v-list-tile",{key:e.reportTypeId,on:{click:function(s){t.reportDocument(e)}}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.reportTypeName))]),s("v-list-tile-sub-title",[t._v(t._s(e.reportTypeDescription))])],1)],1)})],2)],1)],2)],1)],1),s("v-slide-y-transition",[s("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.showAttach,expression:"showAttach"}],attrs:{row:"","mt-2":"",wrap:""}},t._l(t.document.attach.filter(function(t){return!t.insert}),function(e,o){return s("v-flex",{key:o,attrs:{"px-2":"",xs6:"",md4:"",xl2:""}},[s("router-link",{staticClass:"ellipsis underline",attrs:{to:t.webUrl+"/"+e.attach_path,target:"_blank",download:e.attach_name}},[t._v(t._s(e.attach_name))])],1)}),1)],1)],1),s("v-flex",{attrs:{"mb-4":""}},[s("ViewComments",{attrs:{isAnonymous:t.document.isWriter&&""===t.document.nickName,allowAnonymous:t.document.allowAnonymous,isCommentWritable:t.isCommentWritable,reportTypes:t.reportTypes,boardId:t.document.boardId,best:t.document.bestComments,pages:t.pages}})],1)],1):t._e()},n=[],r=s("88dd"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{column:"","px-3":""}},[s("v-flex",{staticClass:"comment-editor"},[s("quill-editor",{ref:"commentEditor",attrs:{options:t.editorOption},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),s("v-flex",[s("v-layout",{attrs:{row:"","align-center":"","py-2":""}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.allowAnonymous,expression:"allowAnonymous"}],staticClass:"ml-3"},[s("v-checkbox",{staticClass:"pt-0 mt-0",attrs:{"hide-details":"",label:"익명",disabled:"AVAILABLE"!==t.isCommentWritable&&"NEEDSUBSCRIPTION"!==t.isCommentWritable},model:{value:t.anonymous,callback:function(e){t.anonymous=e},expression:"anonymous"}})],1),s("v-btn",{class:{"my-0":!0,"ml-0":!t.allowAnonymous},attrs:{flat:"",disabled:"AVAILABLE"!==t.isCommentWritable&&"NEEDSUBSCRIPTION"!==t.isCommentWritable},on:{click:t.selectImage}},[s("v-icon",[t._v("image")]),t._v("이미지\n      ")],1),s("v-spacer"),s("v-btn",{staticClass:"short",attrs:{small:"",depressed:"",color:"primary",disabled:"AVAILABLE"!==t.isCommentWritable&&"NEEDSUBSCRIPTION"!==t.isCommentWritable,loading:t.loading},on:{click:t.postComment}},[t._v("\n        "+t._s(t.defaultComment?"수정":"등록")+"\n      ")]),t.defaultComment?s("v-btn",{staticClass:"short",attrs:{small:"",depressed:"",color:"default"},on:{click:function(e){t.$emit("revokeUpdate")}}},[t._v("취소")]):t._e()],1)],1)],1)},i=[],c=s("a34a"),l=s.n(c),u=s("5347");function m(t,e,s,o,n,r,a){try{var i=t[r](a),c=i.value}catch(l){return void s(l)}i.done?e(c):Promise.resolve(c).then(o,n)}function d(t){return function(){var e=this,s=arguments;return new Promise(function(o,n){var r=t.apply(e,s);function a(t){m(r,o,n,a,i,"next",t)}function i(t){m(r,o,n,a,i,"throw",t)}a(void 0)})}}var p={name:"WriteComment",mixins:[u["a"]],props:["commentTo","isAnonymous","allowAnonymous","isCommentWritable","boardId","defaultComment"],data:function(){return{editorOption:{placeholder:"AVAILABLE"===this.isCommentWritable?"댓글을 입력해주세요.":"UNAVAILABLE"===this.isCommentWritable?"댓글을 작성할 수 있는 권한이 없습니다.":"RESTRICTED"===this.isCommentWritable?"글쓰기가 제한되어 있습니다.":"토픽 구독 후 입력된 댓글이 등록됩니다.",modules:{magicUrl:{urlRegularExpression:/(https?:\/\/[\S]+)|(www.[\S]+)|([\S]+.(?:com|kr|org|io|net|me))/,globalRegularExpression:/(https?:\/\/[\S]+)|(www.[\S]+)|([\S]+.(?:com|kr|org|io|net|me))/,normalizeRegularExpression:/(https?:\/\/[\S]+)|(www.[\S]+)|([\S]+.(?:com|kr|org|io|net|me))/},toolbar:void 0,imageDrop:!0,imageResize:!0},formData:void 0,theme:"bubble"},content:"",anonymous:!0|this.isAnonymous,originImages:[],loading:!1}},components:{},mounted:function(){var t=this;if(this.defaultComment){console.log(this.defaultComment);var e,s=JSON.parse(this.defaultComment.contents);if(console.log(s),this.defaultComment.attach)s.ops.forEach(function(s){s.insert.hasOwnProperty("image")&&(e=t.defaultComment.attach.find(function(t){return t.attach_name===s.insert.image}),console.log(e),e&&(e.insert=!0,s.insert.image=t.webUrl+"/"+e.attach_path))});console.log(s),this.$refs.commentEditor.quill.setContents(s)}},methods:{onEditorChange:function(t){t.quill;var e=t.html;t.text;this.content=e},selectImage:function(){var t=this,e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.onchange=function(){var s=e.files[0],o=new FileReader;o.readAsDataURL(s),o.onload=function(){if(/^image\//.test(s.type)){var e=t.$refs.commentEditor,n=e.quill.getSelection();console.log(n),e.quill.insertEmbed(null==n?e.quill.getLength():n.index,"image",o.result)}else t.$store.dispatch("showSnackbar",{text:"이미지 파일만 업로드할 수 있습니다.",color:"error"})},o.onerror=function(t){console.log("Error: ",t)}}},attachImages:function(){var t=this;return this.$refs.commentEditor.quill.editor.delta.ops.forEach(function(e){if(e.insert.hasOwnProperty("image")&&e.insert.image.includes("data:image")){var s=e.insert.image,o=t.uuid()+"."+s.substring("data:image/".length,s.indexOf(";base64"));t.formData.append("attach",t.dataURItoBlob(s),o),e.insert.image=o,t.originImages.push({name:o,src:s})}})},revertImages:function(){var t=this;this.$refs.commentEditor.quill.editor.delta.ops.forEach(function(e){if(e.insert.hasOwnProperty("image")){var s=e.insert.image;e.insert.image=t.originImages.find(function(t){return t.name===s}).src}}),this.originImages=[]},postComment:function(){var t=d(l.a.mark(function t(){var e=this;return l.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading=!0,"NEEDSUBSCRIPTION"!==this.isCommentWritable){t.next=15;break}return t.prev=2,t.next=5,this.$axios.post("/user/board",{boardId:this.boardId},{headers:{silent:!0}});case 5:t.next=13;break;case 7:if(t.prev=7,t.t0=t["catch"](2),t.t0.response&&409===t.t0.response.status){t.next=13;break}return this.loading=!1,this.$store.dispatch("showSnackbar",{text:"".concat(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.message||"댓글을 쓰기 위한 구독을 하지 못했습니다."),color:"error"}),t.abrupt("return");case 13:this.$store.dispatch("addUserBoard",Object.assign({},this.$store.getters.boards.find(function(t){return t.boardId===e.boardId}))),this.$store.dispatch("showSnackbar",{text:"".concat(this.$store.getters.boards.find(function(t){return t.boardId===e.boardId}).boardName," 토픽을 구독하였습니다."),color:"info"});case 15:if(this.content&&""!==this.content.trim()){t.next=18;break}return this.$store.dispatch("showSnackbar",{text:"댓글 내용을 입력해주세요.",color:"error"}),t.abrupt("return");case 18:return this.formData||(this.formData=new FormData),t.next=21,this.attachImages();case 21:if(!this.defaultComment){t.next=25;break}return t.next=24,this.updateComment();case 24:return t.abrupt("return");case 25:this.formData.append("documentId",this.$route.params.documentId),this.formData.append("contents",JSON.stringify(this.$refs.commentEditor.quill.editor.delta)),this.formData.append("isAnonymous",this.anonymous),this.commentTo&&this.formData.append("parentCommentId",this.commentTo),this.$axios.post("/comment",this.formData,{headers:{silent:!0}}).then(function(t){e.$refs.commentEditor.quill.setText(""),e.revertImages(),e.loading=!1,e.$emit("update"),delete e.formData}).catch(function(t){console.log(t),delete e.formData,e.revertImages(),e.loading=!1,e.$store.dispatch("showSnackbar",{text:"".concat(t.response?t.response.data.message:"댓글을 등록하지 못했습니다."),color:"error"})});case 30:case"end":return t.stop()}},t,this,[[2,7]])}));function e(){return t.apply(this,arguments)}return e}(),updateComment:function(){var t=d(l.a.mark(function t(){var e,s=this;return l.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(confirm("댓글을 수정하시겠습니까?")){t.next=3;break}return this.loading=!1,t.abrupt("return");case 3:return t.prev=3,this.formData||(this.formData=new FormData),this.defaultComment.parentCommentId&&this.formData.append("parentCommentId",this.defaultComment.parentCommentId),this.formData.append("documentId",this.$route.params.documentId),this.formData.append("commentId",this.defaultComment.commentId),t.next=10,this.attachImages();case 10:return t.next=12,this.processFileChange();case 12:return e={documentId:this.$route.params.documentId,commentId:this.defaultComment.commentId,contents:JSON.stringify(this.$refs.commentEditor.quill.editor.delta)},console.log(e),t.abrupt("return",this.$axios.put("/comment",e).then(function(t){s.loading=!1,200===t.status&&(console.log(t),s.$store.dispatch("showSnackbar",{text:"댓글을 수정하였습니다",color:"success"}),s.$emit("update"))}).catch(function(t){s.loading=!1,s.$store.dispatch("showSnackbar",{text:"댓글 수정에 실패했습니다. 다시 시도해주세요",color:"error"}),console.log(t.response)}));case 17:t.prev=17,t.t0=t["catch"](3),this.loading=!1,console.log(t.t0),this.$store.dispatch("showSnackbar",{text:"댓글 수정에 실패했습니다. 다시 시도해주세요",color:"error"}),this.revertImages(),delete this.formData;case 24:case"end":return t.stop()}},t,this,[[3,17]])}));function e(){return t.apply(this,arguments)}return e}(),processFileChange:function(){var t=d(l.a.mark(function t(){var e,s,o,n,r,a,i,c,u,m,d,p=this;return l.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(e=this.defaultComment.attach.filter(function(t){return null!==t}),s=this.$refs.commentEditor.quill.editor.delta.ops.map(function(t){if(t.insert.hasOwnProperty("image")&&t.insert.image.startsWith("/attach"))return e.find(function(e){return t.insert.image==="/"+e.attach_path}).attach_id}),e.forEach(function(t){t.insert&&!s.filter(function(t){return void 0!==t}).includes(t.attach_id)&&(o=p.$axios.delete("/comment/attach/".concat(p.documentId,"/").concat(t.attach_id)).then(function(t){200===t.status&&console.log(t)}).catch(function(t){console.log(t.response)}))}),r=0,a=!0,i=!1,c=void 0,t.prev=7,u=this.formData.entries()[Symbol.iterator]();!(a=(m=u.next()).done);a=!0)d=m.value,"attach"===d[0]&&(r+=1);t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](7),i=!0,c=t.t0;case 15:t.prev=15,t.prev=16,a||null==u.return||u.return();case 18:if(t.prev=18,!i){t.next=21;break}throw c;case 21:return t.finish(18);case 22:return t.finish(15);case 23:return r>0&&(n=this.$axios.post("/comment/attach",this.formData).then(function(t){200===t.status&&console.log(t)}).catch(function(t){console.log(t.response)})),t.next=26,Promise.all([o,n]).then(function(t){console.log(t)}).catch(function(t){console.log(t),p.$store.dispatch("showSnackbar",{text:" 댓글 수정에 실패했습니다. 다시 시도해주세요",color:"error"})});case 26:case"end":return t.stop()}},t,this,[[7,11,15,23],[16,,18,22]])}));function e(){return t.apply(this,arguments)}return e}()}},h=p,v=(s("8aeb"),s("0c7c")),f=Object(v["a"])(h,a,i,!1,null,null,null),g=f.exports,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"d-inline-flex"},[""!==t.nickName?[o(t.$vuetify.breakpoint.xsOnly?"v-bottom-sheet":"v-menu",{tag:"component",attrs:{"open-on-hover":"",bottom:"",lazy:"","offset-y":""},model:{value:t.userLinkMenu,callback:function(e){t.userLinkMenu=e},expression:"userLinkMenu"}},[o("span",{staticClass:"cursor-pointer font-weight-bold body--text",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.nickName))]),o("v-list",{attrs:{dense:""}},["T"!==t.boardType?o("v-list-tile",{on:{click:t.showProfile}},[o("v-list-tile-title",[t._v("\n            프로필보기\n          ")])],1):t._e(),o("v-list-tile",{on:{click:t.sendMessage}},[o("v-list-tile-title",[t._v("\n            메시지 보내기\n          ")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[o("span",[t._v("프로필")]),o("v-spacer"),o("v-icon",{on:{click:function(e){t.dialog=!1}}},[t._v("close")])],1),o("v-card-text",[o("v-flex",{attrs:{xs12:""}},[o("div",{staticClass:"text-xs-center justify-center align-center"},[o("p",[o("v-avatar",{attrs:{size:"200"}},[o("img",{attrs:{src:t.profile.picturePath?t.webUrl+t.profile.picturePath:s("53c0"),alt:"프로필 이미지"}})])],1),o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs4:""}},[o("v-subheader",[t._v("라운지 필명")])],1),o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"v-subheader"},[t._v(t._s(t.profile.nickName))])]),o("v-flex",{attrs:{xs4:""}},[o("v-subheader",[t._v("회원 구분")])],1),o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"v-subheader"},[t._v(t._s(t.userAuthItems[t.profile.auth]))])]),t.profile.isOpenInfo?[o("v-flex",{attrs:{xs4:""}},[o("v-subheader",[t._v("지역")])],1),o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"v-subheader"},[t._v(t._s(t.profile.region&&t.groupItems.some(function(e){return e.value===t.profile.region})?t.groupItems.find(function(e){return e.value===t.profile.region}).text:"지역정보 없음"))])]),o("v-flex",{attrs:{xs4:""}},[o("v-subheader",[t._v("전공")])],1),o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"v-subheader"},[t._v(t._s(t.profile.major&&t.groupItems.some(function(e){return e.value===t.profile.major})?t.groupItems.find(function(e){return e.value===t.profile.major}).text:"전공정보 없음"))])]),o("v-flex",{attrs:{xs4:""}},[o("v-subheader",[t._v("학년")])],1),o("v-flex",{attrs:{xs8:""}},[o("div",{staticClass:"v-subheader"},[t._v(t._s(t.profile.grade&&t.groupItems.some(function(e){return e.value===t.profile.grade})?t.groupItems.find(function(e){return e.value===t.profile.grade}).text:"학년정보 없음"))])])]:o("div",{staticClass:"text-xs-center flex mt-3"},[t._v("상세 프로필이 비공개로 설정되어 있습니다.")])],2)],1)])],1),o("v-card-actions",[o("v-layout",{attrs:{row:"","text-xs-center":""}},[o("v-spacer"),o("v-btn",{on:{click:t.sendMessage}},[t._v("메시지 보내기")]),o("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("닫기")])],1)],1)],1)],1)]:o("span",{staticClass:"grey--text lighten-1"},[t._v("익명")])],2)},y=[],x={M:"전공",G:"학년",N:"일반",R:"지역",Z:"인증"},w={name:"UserLink",props:["nickName","boardType"],data:function(){return{userLinkMenu:!1,dialog:!1,profile:{},groupItems:[],userAuthItems:{N:"예비교사(미인증)",A:"현직교사(인증)",E:"전직교사(인증 만료)",D:"인증제한"}}},mixins:[u["a"]],methods:{sendMessage:function(){var t=this;this.$axios.post("/message/list",{nickName:this.nickName,chatType:"T"===this.boardType?"T":"L"}).then(function(e){t.$router.push("/message?chatId="+e.data.chatId)}).catch(function(e){e.response&&409===e.response.status&&e.response.data.chatId?t.$router.push("/message?chatId="+e.response.data.chatId):(console.log(e),t.$store.dispatch("showSnackbar",{text:"".concat(e.response?e.response.data.message:"채팅을 만들지 못했습니다."),color:"error"}))})},showProfile:function(){var t=this;this.profile&&this.profile.nickName===this.nickName?this.dialog=!0:this.$axios.get("/profile",{params:{nickName:this.nickName}}).then(function(e){t.profile=e.data,t.dialog=!0}).catch(function(e){console.log(e),t.$store.dispatch("showSnackbar",{text:"".concat(e.response?e.response.data.message:"프로필을 불러오지 못했습니다."),color:"error"})})}},created:function(){var t=this;this.$store.getters.groups?this.groupItems=this.$store.getters.groups:this.$axios.get("/group",{headers:{silent:!0}}).then(function(e){e.data.forEach(function(t){"N"!==t.groupType&&"D"!==t.groupType&&"E"!==t.groupType||(t.groupType="Z")}),t.groupItems=e.data.sort(function(t,e){return t.groupType<e.groupType?-1:t.groupType===e.groupType?0:1});var s=null,o=0;while(o<t.groupItems.length)s!==t.groupItems[o].groupType&&(s?(s=t.groupItems[o].groupType,t.groupItems.splice(o,0,{divider:!0}),o++):s=t.groupItems[o].groupType,t.groupItems.splice(o,0,{header:x[s]}),o++),o++;t.groupItems=t.groupItems.map(function(t){return t.groupName?{text:t.groupName,value:t.groupId}:t}),t.$store.dispatch("setGroups",t.groupItems)}).catch(function(e){t.$store.dispatch("showSnackbar",{text:"그룹 목록을 가져오지 못했습니다.".concat(e&&e.response&&e.response.data?"["+e.response.data.message+"]":"")})})}},C=w,I=Object(v["a"])(C,b,y,!1,null,null,null),_=I.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[t.best&&t.best.length>0?s("v-card",{staticClass:"mb-3 elevation-1",attrs:{flat:""}},[s("v-list",{staticClass:"commentList py-0",attrs:{"two-line":""}},[t._l(t.best,function(e,o){return[s("v-list-tile",{key:"best"+o,staticClass:"bestComment"},[s("comment-item",{attrs:{comment:e,commentIndex:o,reportTypes:t.reportTypes,isBest:!0},on:{update:t.getCommentList}})],1),s("v-divider",{key:"bestDivider"+o})]})],2)],1):t._e(),s("v-card",[s("v-list",{staticClass:"commentList py-0 pb-1",attrs:{"two-line":""}},[t._l(t.commentList,function(e,o){return[s("v-list-tile",{key:o},[s("comment-item",{attrs:{comment:e,commentIndex:o,reportTypes:t.reportTypes,isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable},on:{openRecomment:t.openRecomment,update:t.getCommentList}})],1),e.children?s("div",{key:"child"+o},[e.children.length>5?s("v-list-group",{key:e.title,attrs:{"prepend-icon":e.action,"no-action":""},model:{value:e.active,callback:function(s){t.$set(e,"active",s)},expression:"item.active"}},[s("v-list-tile",{attrs:{slot:"activator",avatar:""},slot:"activator"},[s("v-list-tile-action"),s("v-list-tile-title",{staticClass:"text-xs-center"},[s("small",[t._v(t._s(e.active?"답글 숨기기":"이전 "+(e.children.length-5)+"개의 답글 펼치기"))])])],1),t._l(e.children.filter(function(t,s){return s<e.children.length-5}),function(e,o){return s("div",{key:"hidden"+o},[s("v-divider",{attrs:{inset:""}}),s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-action"),s("comment-item",{attrs:{comment:e,commentIndex:o,children:!0,reportTypes:t.reportTypes,isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable},on:{update:t.getCommentList}})],1)],1)})],2):t._e(),e.children.length>5?void 0:t._e(),t._l(e.children.length>5?e.children.filter(function(t,s){return s>=e.children.length-5}):e.children,function(e,o){return s("div",{key:o},[s("v-divider",{attrs:{inset:""}}),s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-action"),s("comment-item",{attrs:{comment:e,commentIndex:o,children:!0,reportTypes:t.reportTypes,isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable},on:{update:t.getCommentList}})],1)],1)})],2):t._e(),t.openRecommentIndex===o?s("v-list-tile",{key:"writer"+o,staticClass:"pl-5"},[s("CommentWriter",{attrs:{commentTo:e.commentId,isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable,boardId:t.boardId},on:{update:t.getCommentList}})],1):t._e(),s("v-divider",{key:"divider"+o})]})],2),t.pages>1?s("v-flex",{attrs:{"text-xs-center":"","mt-2":"",xs12:""}},[s("v-pagination",{attrs:{id:"commentPagination",length:t.pages,"total-visible":t.$vuetify.breakpoint.smAndUp?10:void 0},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1):t._e(),s("div",{staticClass:"pt-2"},[s("comment-writer",{attrs:{isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable},on:{update:t.getCommentList}})],1)],1)],1)],1)},$=[],A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list-tile-content",{staticClass:"py-1 px-0"},[s("v-list-tile-title",[s("v-layout",{attrs:{column:""}},[s("v-flex",[t.isBest?s("v-chip",{staticClass:"white--text ml-0 my-0 ml-3",attrs:{label:"",small:"",color:"primary"}},[t._v("베스트")]):t._e()],1),t.updatingComment?t._e():s("v-flex",[s("div",{class:{"commentContents ql-editor pa-0 px-3":!0,"body-1":t.comment.isDeleted,"grey--text":t.comment.isDeleted,"lighten-1":t.comment.isDeleted},domProps:{innerHTML:t._s(t.comment.isDeleted?t.comment.contents:t.deltaToHTML(JSON.parse(t.comment.contents)))}})])],1)],1),t.comment.isDeleted?t._e():s("v-list-tile-sub-title",{staticClass:"px-3"},[t.updatingComment?s("v-layout",[s("comment-writer",{attrs:{defaultComment:t.comment,isAnonymous:t.isAnonymous,allowAnonymous:t.allowAnonymous,isCommentWritable:t.isCommentWritable},on:{revokeUpdate:function(e){t.updatingComment=!1},update:function(e){t.updatingComment=!1,t.$emit("update")}}})],1):s("v-layout",{staticClass:"body-1",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{"text-xs-left":""}},[s("user-link",{attrs:{nickName:t.comment.nickName,boardType:t.$store.getters.boardType}}),s("small",{staticClass:"accent--text"},[t._v("("+t._s(t.comment.animalName)+")")]),t._v(" "+t._s(t.$moment(t.comment.writeDateTime,"YYYYMMDDHHmmss").isSame(t.$moment(),"day")?t.$moment(t.comment.writeDateTime,"YYYYMMDDHHmmss").format("HH:mm"):t.timeParser(t.comment.writeDateTime))+"\n        "),t.children||t.isBest?t._e():s("b",{staticClass:"cursor-pointer",attrs:{title:"답글 쓰기"},on:{click:function(e){t.$emit("openRecomment",t.commentIndex)}}},[t._v("\n          답글"+t._s(t.comment.childCount>0?"("+t.comment.childCount+")":"")+"\n        ")])],1),s("v-spacer"),s("v-flex",{attrs:{"text-xs-right":"","px-2":""}},[t.isBest?s("span",{staticClass:"cursor-pointer",attrs:{title:"추천"},on:{click:t.voteUp}},[s("v-icon",{attrs:{color:"primary",small:""}},[t._v("thumb_up")]),s("b",{staticClass:"mx-1 body--text"},[t._v(t._s(t.comment.voteUpCount))])],1):[s("span",{staticClass:"cursor-pointer",attrs:{title:"추천"},on:{click:t.voteUp}},[s("v-icon",{attrs:{color:"primary",small:""}},[t._v("thumb_up")]),s("b",{staticClass:"mx-1 body--text"},[t._v(t._s(t.comment.voteUpCount))]),t._v(" |\n          ")],1),t.comment.isWriter?[s("span",{staticClass:"cursor-pointer",on:{click:t.updateComment}},[t._v("수정")]),t._v(" |\n            "),s("span",{staticClass:"cursor-pointer",on:{click:t.deleteComment}},[t._v("삭제")])]:s("v-menu",{attrs:{"open-on-hover":"",bottom:"","offset-y":"",lazy:""}},[s("span",{staticClass:"cursor-pointer",attrs:{slot:"activator"},slot:"activator"},[t._v("신고")]),s("v-list",{attrs:{"two-line":""}},t._l(t.reportTypes,function(e,o){return s("v-list-tile",{key:e.reportTypeId,class:{"mt-2":o>0},on:{click:function(s){t.reportComment(e)}}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.reportTypeName))]),s("v-list-tile-sub-title",[t._v(t._s(e.reportTypeDescription))])],1)],1)}),1)],1)]],2)],1)],1)],1)},T=[],S=s("9339"),D=s.n(S),E={props:["comment","commentIndex","children","reportTypes","isBest","isAnonymous","allowAnonymous","isCommentWritable"],mixins:[u["a"]],components:{UserLink:_,CommentWriter:g},data:function(){return{updatingComment:!1}},methods:{voteUp:function(){var t=this;this.$axios.post("/vote/comment",{commentId:this.comment.commentId},{headers:{silent:!0}}).then(function(e){t.comment.voteUpCount=e.data.voteUpCount}).catch(function(e){t.$store.dispatch("showSnackbar",{text:"".concat(e.response?e.response.data.message:"추천하지 못했습니다."),color:"error"})})},deleteComment:function(){var t=this;this.$axios.put("/comment",{commentId:this.comment.commentId,isDeleted:!0}).then(function(e){t.comment.contents="삭제된 댓글입니다.",t.comment.isDeleted=!0,t.$store.dispatch("showSnackbar",{text:"댓글을 삭제하였습니다.",color:"success"})}).catch(function(e){console.log(e),t.$store.dispatch("showSnackbar",{text:"".concat(e.response?e.response.data.message:"댓글을 삭제하지 못했습니다."),color:"error"})})},updateComment:function(){this.updatingComment=!0},reportComment:function(t){var e=this;this.$axios.post("/report/comment",{commentId:this.comment.commentId,reportTypeId:t.reportTypeId}).then(function(t){e.$store.dispatch("showSnackbar",{text:"댓글을 신고하였습니다.",color:"success"})}).catch(function(t){t.response&&409===t.response.status?e.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"댓글을 신고하지 못했습니다.",color:"info"}):(console.log(t),e.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"댓글을 신고하지 못했습니다.",color:"error"}))})},deltaToHTML:function(t){var e=this,s=document.createElement("div"),o=new D.a(s);t.ops.forEach(function(t){t.insert.hasOwnProperty("image")&&e.comment.attach.some(function(e){return e.attach_name===t.insert.image})&&(t.attributes={download:t.insert.image,alt:t.insert.image},t.insert.image=e.webUrl+"/"+e.comment.attach.find(function(e){return e.attach_name===t.insert.image}).attach_path,t.attributes.link=t.insert.image)}),o.setContents(t);var n,r=s.getElementsByClassName("ql-editor")[0].innerHTML.replace(/(<(pre|script|style|textarea)[^]+?<\/\2)|(^|>)\s+|\s+(?=<|$)/g,"$1$3");while("<p></p>"===r.slice(0,7)||"<p><br></p>"===r.slice(0,11))n="<p></p>"===r.slice(0,7)?7:11,r=r.substring(n,r.length);while("<p></p>"===r.slice(-7)||"<p><br></p>"===r.slice(-11))n="<p></p>"===r.slice(-7)?7:11,r=r.substring(0,r.length-n);return r},getImagePath:function(t){console.log(this.comment);var e=this.comment.attach;return this.webUrl+e.find(function(e){return e.attachName===t}).attachPath}}},L=E,N=(s("5185"),Object(v["a"])(L,A,T,!1,null,null,null)),M=N.exports,R={mixins:[u["a"]],components:{CommentItem:M,CommentWriter:g},props:["isAnonymous","allowAnonymous","isCommentWritable","reportTypes","boardId","best","pages"],data:function(){return{commentList:[],openRecommentIndex:-1,page:void 0}},methods:{getCommentList:function(){var t=this;console.log("getcomments"),this.openRecommentIndex=-1,this.$axios.get("/comment",{params:{documentId:this.$route.params.documentId,page:this.page},headers:{silent:!0}}).then(function(e){e.data.forEach(function(t){Array.isArray(t.attach)&&(t.attach=t.attach.filter(function(t){return t}))}),t.commentList=e.data}).catch(function(t){return console.log(t)})},openRecomment:function(t){this.openRecommentIndex===t?this.openRecommentIndex=-1:this.openRecommentIndex=t}},watch:{"$route.params":{handler:function(){var t=this;this.page||this.$nextTick(function(){t.page=t.pages})},deep:!0,immediate:!0},page:function(t){this.getCommentList()},pages:function(t){this.page=this.pages}}},W=R,U=(s("f812"),Object(v["a"])(W,k,$,!1,null,null,null)),B=U.exports,O={props:["board","boardId","documentId"],data:function(){return{document:null,documentHTML:null,showAttach:!1,scrapGroups:null,reportTypes:null,currentBoard:null,scrapMenu:!1,reportMenu:!1}},components:{Survey:r["a"],CommentWriter:g,ViewComments:B,UserLink:_},mixins:[u["a"]],created:function(){this.getScrapGroups(),this.getReportTypes()},computed:{isCommentWritable:function(){var t=this,e=this.board.boardId===this.document.boardId?this.board:this.$store.getters.boards.find(function(e){return e.boardId===t.document.boardId});if(!e)return"UNAVAILABLE";var s=this.$store.getters.profile,o=this.$store.getters.userBoards;if(e.statusAuth.comment.includes(s.auth)){if("T"===e.boardType){if(o.some(function(t){return t.boardId===e.boardId})){var n=o.find(function(t){return t.boardId===e.boardId});return!n.writeRestrictDate||this.$moment(n.writeRestrictDate,"YYYYMMDD").isBefore(this.$moment())?"AVAILABLE":"RESTRICTED"}return"READWRITE"===e.allGroupAuth||e.allowedGroups.some(function(t){return t===s.region||t===s.major||t===s.grade||s.groups.includes(t)})?"NEEDSUBSCRIPTION":"UNAVAILABLE"}if(e.allowedGroups.some(function(t){return t===s.region||t===s.major||t===s.grade||s.groups.includes(t)})){if(o.some(function(t){return t.boardId===e.boardId})){var r=o.find(function(t){return t.boardId===e.boardId});return!r.writeRestrictDate||this.$moment(r.writeRestrictDate,"YYYYMMDD").isBefore(this.$moment())?"AVAILABLE":"RESTRICTED"}return"AVAILABLE"}return"UNAVAILABLE"}return"UNAVAILABLE"},pages:function(){return 0===this.document.commentCount?1:Math.ceil(this.document.commentCount/100)}},methods:{getDocument:function(){var t=this;this.$axios.get("/".concat(this.boardId,"/").concat(this.documentId)).then(function(e){Array.isArray(e.data.attach)&&(e.data.attach=e.data.attach.filter(function(t){return null!==t})),t.document=e.data,t.documentHTML=t.document.isDeleted?t.document.contents:t.deltaToHTML(JSON.parse(t.document.contents)),t.showAttach=!1,t.$emit("update:documentBoardId",t.document.boardId)}).catch(function(e){console.log(e),t.$router.replace("/error?error="+(e&&e.response&&e.response.status||"404"))})},deleteDocument:function(){var t=this;confirm("이 글을 삭제하시겠습니까?")&&this.$axios.put("/document",{documentId:this.documentId,isDeleted:!0}).then(function(e){t.$store.dispatch("showSnackbar",{text:"글을 삭제하였습니다.",color:"success"}),t.$router.push("/".concat(t.boardId))}).catch(function(e){t.$store.dispatch("showSnackbar",{text:"".concat(e.response?e.response.data.message:"글을 삭제하지 못했습니다."),color:"error"})})},voteDocument:function(){var t=this;this.$axios.post("/vote/document",{documentId:this.$route.params.documentId},{headers:{silent:!0}}).then(function(e){t.document.voteUpCount=e.data.voteUpCount}).catch(function(e){console.log(e.response),t.$store.dispatch("showSnackbar",{text:"".concat(e.response?e.response.data.message:"추천하지 못했습니다."),color:"error"})})},deltaToHTML:function(t){var e,s=this,o=document.createElement("div"),n=new D.a(o);t.ops.forEach(function(t){t.insert.hasOwnProperty("image")&&(e=s.document.attach.find(function(e){return e.attach_name===t.insert.image}),e&&(e.insert=!0,t.attributes={download:t.insert.image,alt:t.insert.image},t.insert.image=s.webUrl+"/"+e.attach_path,t.attributes.link=t.insert.image))}),n.setContents(t);var r,a=o.getElementsByClassName("ql-editor")[0].innerHTML.replace(/(<(pre|script|style|textarea)[^]+?<\/\2)|(^|>)\s+|\s+(?=<|$)/g,"$1$3");while("<p></p>"===a.slice(0,7)||"<p><br></p>"===a.slice(0,11))r="<p></p>"===a.slice(0,7)?7:11,a=a.substring(r,a.length);while("<p></p>"===a.slice(-7)||"<p><br></p>"===a.slice(-11))r="<p></p>"===a.slice(-7)?7:11,a=a.substring(0,a.length-r);return a},saveddocument:function(t,e){var s=t.match(/\bhttps?:\/\/\S+/gi);s&&(this.link=s[0].substr(0,s[0].indexOf("<")),console.log(this.link))},reportDocument:function(t){var e=this;this.$axios.post("/report/document",{documentId:this.document.documentId,reportTypeId:t.reportTypeId}).then(function(t){e.reportMenu=!1,e.$store.dispatch("showSnackbar",{text:"이 글을 신고하였습니다.",color:"success"})}).catch(function(t){t.response&&409===t.response.status?(e.reportMenu=!1,e.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"글을 신고하지 못했습니다.",color:"info"})):(console.log(t),e.reportMenu=!1,e.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"글을 신고하지 못했습니다.",color:"error"}))})},scrapDocument:function(t){var e=this;this.$axios.post("/scrap",{scrapGroupId:t.scrapGroupId,documentId:this.document.documentId}).then(function(t){e.scrapMenu=!1,e.$store.dispatch("showSnackbar",{text:"이 글을 스크랩하였습니다.",color:"success"})}).catch(function(t){t.response&&409===t.response.status?(e.scrapMenu=!1,e.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"스크랩에 추가하지 못했습니다.",color:"info"})):(console.log(t),e.scrapMenu=!1,e.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"스크랩에 추가하지 못했습니다.",color:"error"}))})},getScrapGroups:function(){var t=this;this.scrapGroups||(this.$store.getters.scrapGroups?this.scrapGroups=this.$store.getters.scrapGroups:this.$axios.get("/scrap/group",{headers:{silent:!0}}).then(function(e){t.$store.dispatch("setScrapGroups",e.data),t.scrapGroups=e.data}).catch(function(e){console.log(e),t.$store.dispatch("showSnackbar",{text:e.response&&e.response.data.message||"스크랩 그룹 목록을 가져오지 못했습니다.",color:"error"})}))},getReportTypes:function(){var t=this;this.reportTypes||(this.$store.getters.reportTypes?this.reportTypes=this.$store.getters.reportTypes:this.$axios.get("/report/type",{headers:{silent:!0}}).then(function(e){t.$store.dispatch("setReportTypes",e.data),t.reportTypes=e.data}).catch(function(e){console.log(e),t.$store.dispatch("showSnackbar",{text:e.response&&e.response.data.message||"신고 타입을 가져오지 못했습니다.",color:"error"})}))}},watch:{"$route.params":{handler:function(){this.getDocument()},deep:!0,immediate:!0}}},P=O,Y=(s("8a1f"),Object(v["a"])(P,o,n,!1,null,null,null));e["default"]=Y.exports},f812:function(t,e,s){"use strict";var o=s("4bc5"),n=s.n(o);n.a}}]);
//# sourceMappingURL=chunk-369ab7b7.38ef2c9e.js.map