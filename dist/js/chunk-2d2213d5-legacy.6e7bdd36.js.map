{"version":3,"sources":["webpack:///./src/components/MyDocument.vue?28ac","webpack:///src/components/MyDocument.vue","webpack:///./src/components/MyDocument.vue?56da","webpack:///./src/components/MyDocument.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","flat","row","staticClass","xs12","sm10","lg8","_v","class","customAction","noResult","totalUserDocuments","headers","items","userDocuments","id","rows-per-page-items","loading","total-items","pagination","on","update:pagination","$event","scopedSlots","_u","key","fn","props","click","selected","index","input-value","primary","hide-details","$vuetify","breakpoint","_s","boardItems","some","x","boardId","item","find","boardName","_e","text-xs-left multi-row cursor-pointer","px-0","xsOnly","stopPropagation","openLink","href","target","title","commentCount","voteUpCount","$moment","writeDateTime","format","slot","noresult","color","getMyDocuments","short","disabled","small","deleteRow","staticRenderFns","MyDocumentvue_type_script_lang_js_","name","data","computed","$store","getters","boards","text","sortable","value","align","width","undefined","methods","_this","$axios","get","params","page","silent","then","response","length","totalCount","catch","err","$router","app","$emit","concat","message","path","routeData","resolve","window","open","_this2","put","documentId","isDeleted","dispatch","error","console","log","watch","handler","deep","created","components_MyDocumentvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d2213d5-legacy.6e7bdd36.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-title',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"mx-auto\",attrs:{\"xs12\":\"\",\"sm10\":\"\",\"lg8\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('h3',{staticClass:\"headline\"},[_vm._v(\"내가 쓴 글 목록\")])])],1)],1)],1),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"mx-auto\",attrs:{\"xs12\":\"\",\"sm10\":\"\",\"lg8\":\"\"}},[_c('v-data-table',{class:{customAction:true, 'noResult':_vm.totalUserDocuments === 0},attrs:{\"headers\":_vm.headers,\"xs12\":\"\",\"items\":_vm.userDocuments,\"id\":\"userDocumentTable\",\"rows-per-page-items\":[15],\"loading\":_vm.loading,\"total-items\":_vm.totalUserDocuments,\"pagination\":_vm.pagination},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('tr',{on:{\"click\":function($event){_vm.selected = (_vm.selected===props.index?null:props.index)}}},[_c('td',[_c('v-checkbox',{attrs:{\"input-value\":_vm.selected === props.index,\"primary\":\"\",\"hide-details\":\"\"}})],1),(_vm.$vuetify.breakpoint.smAndUp)?_c('td',{staticClass:\"text-xs-left px-2\"},[_vm._v(_vm._s(_vm.boardItems.some(function (x){ return x.boardId === props.item.boardId; })?_vm.boardItems.find(function (x){ return x.boardId === props.item.boardId; }).boardName:'(삭제된 게시판)'))]):_vm._e(),_c('td',{class:{'text-xs-left multi-row cursor-pointer':true, 'px-0':_vm.$vuetify.breakpoint.xsOnly},on:{\"click\":function($event){$event.stopPropagation();return _vm.openLink((\"/\" + (props.item.boardId) + \"/\" + (props.item.documentId)))}}},[_c('a',{attrs:{\"href\":(\"/\" + (props.item.boardId) + \"/\" + (props.item.documentId)),\"target\":\"_blank\"}},[_vm._v(\"\\n                \"+_vm._s(props.item.title)+\"\\n                \"),_c('span',{staticClass:\"primary--text\",attrs:{\"title\":\"댓글 수\"}},[_vm._v(_vm._s(props.item.commentCount > 0?'['+props.item.commentCount+']':''))])])]),_c('td',{staticClass:\"text-xs-right px-2\"},[_vm._v(_vm._s(props.item.voteUpCount))]),_c('td',{staticClass:\"text-xs-right px-2\"},[_vm._v(_vm._s(_vm.$moment(props.item.writeDateTime, 'YYYYMMDDHHmmss').format('Y-MM-DD')))])])]}}])},[_c('template',{slot:\"no-data\"},[_vm._v(\"\\n          \"+_vm._s(this.noresult)+\"\\n          \"),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.getMyDocuments}},[_vm._v(\"새로고침\")])],1),_c('template',{slot:\"actions-prepend\"},[_c('v-btn',{class:{short:_vm.$vuetify.breakpoint.xsOnly},attrs:{\"color\":\"error\",\"disabled\":_vm.selected === null,\"small\":_vm.$vuetify.breakpoint.xsOnly},on:{\"click\":_vm.deleteRow}},[_vm._v(\"삭제\")]),_c('v-spacer')],1)],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card flat>\n    <v-card-title>\n      <v-layout row>\n        <v-flex xs12 sm10 lg8 class=\"mx-auto\">\n          <v-layout row>\n            <h3 class=\"headline\">내가 쓴 글 목록</h3>\n          </v-layout>\n        </v-flex>\n      </v-layout>\n    </v-card-title>\n    <v-layout row>\n      <v-flex xs12 sm10 lg8 class=\"mx-auto\">\n        <v-data-table :headers=\"headers\" xs12 :items=\"userDocuments\" id=\"userDocumentTable\" :rows-per-page-items=\"[15]\" :loading=\"loading\" :total-items=\"totalUserDocuments\" :pagination.sync=\"pagination\" :class=\"{customAction:true, 'noResult':totalUserDocuments === 0}\">\n          <template slot=\"items\" slot-scope=\"props\">\n            <tr @click=\"selected = (selected===props.index?null:props.index)\">\n              <td>\n                <v-checkbox :input-value=\"selected === props.index\" primary hide-details></v-checkbox>\n              </td>\n              <td class=\"text-xs-left px-2\" v-if=\"$vuetify.breakpoint.smAndUp\">{{ boardItems.some(x=>x.boardId === props.item.boardId)?boardItems.find(x=>x.boardId === props.item.boardId).boardName:'(삭제된 게시판)' }}</td>\n              <td :class=\"{'text-xs-left multi-row cursor-pointer':true, 'px-0':$vuetify.breakpoint.xsOnly}\" @click.stop=\"openLink(`/${props.item.boardId}/${props.item.documentId}`)\">\n                <a :href=\"`/${props.item.boardId}/${props.item.documentId}`\" target=\"_blank\">\n                  {{props.item.title}}\n                  <span class=\"primary--text\" title=\"댓글 수\">{{props.item.commentCount > 0?'['+props.item.commentCount+']':''}}</span>\n                </a>\n              </td>\n              <td class=\"text-xs-right px-2\">{{ props.item.voteUpCount }}</td>\n              <td class=\"text-xs-right px-2\">{{ $moment(props.item.writeDateTime, 'YYYYMMDDHHmmss').format('Y-MM-DD') }}</td>\n            </tr>\n          </template>\n          <template slot=\"no-data\">\n            {{this.noresult}}\n            <v-btn color=\"primary\" @click=\"getMyDocuments\">새로고침</v-btn>\n          </template>\n          <template slot=\"actions-prepend\">\n            <v-btn color=\"error\" @click=\"deleteRow\" :disabled=\"selected === null\" :small=\"$vuetify.breakpoint.xsOnly\" :class=\"{short:$vuetify.breakpoint.xsOnly}\">삭제</v-btn>\n            <v-spacer></v-spacer>\n          </template>\n        </v-data-table>\n      </v-flex>\n    </v-layout>\n  </v-card>\n</template>\n<script>\nexport default {\n  name: 'MyDocument',\n  data () {\n    return {\n      selected: null,\n      userDocuments: [],\n      loading: false,\n      totalUserDocuments: 0,\n      pagination: {}\n    };\n  },\n  computed: {\n    boardItems () {\n      return this.$store.getters.boards;\n    },\n    noresult () {\n      return this.loading ? '작성한 글을 불러오고 있습니다. 잠시만 기다려주세요...' : '아직 작성한 글이 없으시군요!';\n    },\n    headers () {\n      return this.$vuetify.breakpoint.xsOnly ? [{ text: '', sortable: false, value: '' }, { text: '제목', sortable: false, align: 'left', value: 'title', class: 'ellipsis', width: '100%' }, { text: '추천', align: 'right', class: this.$vuetify.breakpoint.xsOnly ? 'px-1' : undefined, sortable: false, value: 'voteUpCount' }, { text: '작성일', sortable: false, align: 'right', value: 'writeDateTime' }] : [{ text: '', sortable: false, value: '' }, { text: '게시판', align: 'left', sortable: false, value: 'boardId' }, { text: '제목', sortable: false, align: 'left', value: 'title', class: 'ellipsis', width: '100%' }, { text: '추천', align: 'right', sortable: false, value: 'voteUpCount' }, { text: '작성일', sortable: false, align: 'right', value: 'writeDateTime' }];\n    }\n  },\n  methods: {\n    getMyDocuments () {\n      this.loading = true;\n      this.$axios\n        .get('/user/document', {\n          params: {\n            page: this.pagination.page\n          },\n          headers: { silent: true }\n        })\n        .then(response => {\n          this.userDocuments = response.data;\n          this.totalUserDocuments = response.data.length > 0 ? response.data[0].totalCount : 0;\n          this.loading = false;\n        })\n        .catch(err => {\n          this.loading = false;\n          this.$router.app.$emit('showSnackbar', `내가 쓴 글 목록을 불러오지 못했습니다.[${err.response.data ? err.response.data.message : ''}]`, 'error');\n        });\n    },\n    openLink (path) {\n      const routeData = this.$router.resolve({ path: path });\n      window.open(routeData.href, '_blank');\n    },\n    deleteRow () {\n      if (this.selected !== null) {\n        this.$axios\n          .put('/document', { documentId: this.userDocuments[this.selected].documentId, isDeleted: true })\n          .then(response => {\n            if (this.userDocuments.length === 1 && this.pagination.page > 1) {\n              this.pagination.page--;\n            }\n            this.getMyDocuments();\n            this.selected = null;\n            this.$store.dispatch('showSnackbar', { text: '글을 삭제하였습니다.', color: 'success' });\n          })\n          .catch(error => {\n            console.log(error);\n            this.$store.dispatch('showSnackbar', { text: error.response ? error.response.data.message || '글을 삭제하지 못했습니다.' : '글을 삭제하지 못했습니다.', color: 'error' });\n          });\n      } else {\n        this.$store.dispatch('showSnackbar', { text: '삭제할 글을 선택해주세요.', color: 'error' });\n      }\n    }\n  },\n  watch: {\n    pagination: {\n      handler () {\n        this.getMyDocuments();\n      },\n      deep: true\n    }\n  },\n  created () {\n    this.getMyDocuments();\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MyDocument.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MyDocument.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyDocument.vue?vue&type=template&id=ad359e74&\"\nimport script from \"./MyDocument.vue?vue&type=script&lang=js&\"\nexport * from \"./MyDocument.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}