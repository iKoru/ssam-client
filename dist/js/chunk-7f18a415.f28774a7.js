(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f18a415"],{"040e":function(t,i,o){"use strict";var n=o("66a3"),e=o.n(n);e.a},"66a3":function(t,i,o){},d19c:function(t,i,o){"use strict";o.r(i);var n=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("v-card",[t.$vuetify.breakpoint.xsOnly?o("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[o("v-btn",{attrs:{icon:"",dark:""},on:{click:t.closeDialog}},[o("v-icon",[t._v("close")])],1),o("v-toolbar-title",[t._v("알림내역")]),o("v-spacer")],1):t._e(),o("v-list",{attrs:{dense:""}},[t.notifications.length>0?[t._l(t.notifications,function(i){return o("v-list-tile",{key:i.notificationId,on:{click:function(o){t.notificationClicked(i)}}},[o("v-list-tile-title",[t._v(t._s(i.message))]),o("div",{staticClass:"timeago"},[o("v-list-tile-sub-title",[t._v(t._s(i.createdDateTime.fromNow()))])],1)],1)}),t.$vuetify.breakpoint.xsOnly||t.notifications.length<t.notifications[0].totalCount?o("v-list-tile",[o("v-layout",{attrs:{row:""}},[t.$vuetify.breakpoint.xsOnly?o("v-btn",{class:{"mr-1":t.notifications.length<t.notifications[0].totalCount},attrs:{block:"",disabled:0===t.notifications.length},on:{click:t.clearNotification}},[t._v("모두 삭제")]):t._e(),t.notifications.length<t.notifications[0].totalCount?o("v-btn",{class:{"ml-1":t.$vuetify.breakpoint.xsOnly},attrs:{block:"",flat:"",loading:t.loading},on:{click:t.moreNotification}},[t._v("더보기")]):t._e()],1)],1):t._e()]:o("v-list-tile",[o("v-list-tile-title",[t._v("새로운 알림이 없습니다.")])],1)],2),t.$vuetify.breakpoint.smAndUp?[o("v-divider"),o("v-card-actions",[o("v-btn",{attrs:{disabled:0===t.notifications.length},on:{click:t.clearNotification}},[t._v("모두 삭제")]),o("v-spacer"),o("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.closeDialog}},[t._v("닫기")])],1)]:t._e()],2)},e=[];function a(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(i){c(t,i,o[i])})}return t}function c(t,i,o){return i in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}var s={name:"NotificationCenter",props:["dialog"],data:function(){return{loading:!1}},methods:{notificationClicked:function(t){var i=this;this.$axios.delete("/notification/"+t.notificationId,{headers:{silent:!0}}).then(function(o){i.$store.dispatch("markNotification",t.notificationId)}).catch(function(t){console.log(t)}),t.href&&this.$router.push(t.href),this.$emit("closeDialog",null)},moreNotification:function(){var t=this;this.loading=!0,this.$axios.get("/notification",{params:{dateTimeBefore:this.$moment(this.notifications[this.notifications.length-1].createdDateTime).format("YMMDDHHmmss")},headers:{silent:!0}}).then(function(i){t.loading=!1,t.$store.dispatch("addNotifications",i.data)}).catch(function(i){t.loading=!1,t.$store.dispatch("showSnackbar",{text:"".concat(i.response?i.response.data.message:"새로운 알림을 불러오지 못했습니다."),color:"error"})})},closeDialog:function(){this.$emit("closeDialog",null)},clearNotification:function(){var t=this;this.$axios.put("/notification",{clearNotification:!0}).then(function(i){t.$store.dispatch("setNotifications",[]),t.$emit("closeDialog",null)}).catch(function(i){t.$store.dispatch("showSnackbar",{text:"".concat(i.response?i.response.data.message:"알림을 읽음 표시하지 못했습니다."),color:"error"})})}},computed:{notifications:function(){var t=this;return this.$store.getters.notifications.map(function(i){return a({},i,{createdDateTime:t.$moment(i.createdDateTime,"YYYYMMDDHHmmss")})})}}},r=s,l=(o("040e"),o("0c7c")),f=Object(l["a"])(r,n,e,!1,null,null,null);i["default"]=f.exports}}]);
//# sourceMappingURL=chunk-7f18a415.f28774a7.js.map