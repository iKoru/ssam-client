(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ddd6"],{d2b4:function(r,t,o){"use strict";o.r(t);var s=function(){var r=this,t=r.$createElement,o=r._self._c||t;return o("v-card",[o("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[o("span",[r._v("상세정보")]),o("v-spacer"),o("v-icon",{on:{click:r.closeDialog}},[r._v("close")])],1),o("v-card-text",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs4:"",md2:""}},[o("v-subheader",[r._v("구분")])],1),o("v-flex",{attrs:{xs8:"",md4:""}},[o("div",{staticClass:"v-subheader"},[r._v(r._s(r.boardTypeItems[r.board.boardType]))])]),o("v-flex",{attrs:{xs4:"",md2:""}},[o("v-subheader",[r._v("이름")])],1),o("v-flex",{attrs:{xs8:"",md4:""}},[o("div",{staticClass:"v-subheader d-inline-block word-break-all"},[o("span",{staticClass:"d-inline-block"},[r._v(r._s(r.board.boardName)+" ")]),o("span",{staticClass:"d-inline-block"},[r._v("("),o("router-link",{class:{"primary--text":r.$store.getters.isLight,"secondary--text":!r.$store.getters.isLight,"d-inline-flex":!0},attrs:{to:"/"+r.board.boardId},nativeOn:{click:function(t){return r.closeDialog(t)}}},[r._v("/"+r._s(r.board.boardId))]),r._v(")")],1)])]),o("v-flex",{attrs:{xs4:"",md2:""}},[o("v-subheader",[r._v("설명")])],1),o("v-flex",{attrs:{xs8:"",md10:""}},[o("div",{staticClass:"v-subheader d-inline-block word-break-all"},[r._v(r._s(r.board.boardDescription||"(등록된 설명이 없습니다.)"))])]),o("v-flex",{attrs:{xs4:"",md2:""}},[o("v-subheader",[r._v("공개여부")])],1),o("v-flex",{attrs:{xs8:"",md4:""}},[o("div",{staticClass:"v-subheader"},[r._v(r._s("NONE"===r.board.allGroupAuth?"비공개":"공개"))])]),o("v-flex",{attrs:{xs4:"",md2:""}},[o("v-subheader",[r._v("익명 게시물")])],1),o("v-flex",{attrs:{xs8:"",md4:""}},[o("div",{staticClass:"v-subheader"},[r._v(r._s(r.board.allowAnonymous?"허용":"비허용"))])]),"READWRITE"!==r.board.allGroupAuth?[o("v-flex",{attrs:{xs4:"",md2:""}},[o("v-subheader",{staticClass:"pr-0 d-inline"},[r._v(r._s("T"===r.board.boardType?"구독/":"")+"글쓰기 조건")])],1),o("v-flex",{attrs:{xs8:"",md10:""}},[o("div",{staticClass:"v-subheader d-inline-block word-break-all"},[r._v(r._s("READWRITE"===r.board.allGroupAuth?"모든 인증된 회원들이 구독할 수 있습니다.":r.board.boardAuth.map(function(r){return r.groupName}).join(", ")))])])]:r._e()],2),"T"===r.board.boardType?o("p",{staticClass:"justify-center align-center text-xs-center mt-3 font-weight-bold"},[r.userBoards.some(function(t){return t.boardId===r.board.boardId})?[r._v("내가 구독중인 토픽입니다.")]:"A"!==r.profile.auth?[r._v("인증회원만 토픽을 구독할 수 있습니다.")]:"READWRITE"===r.board.allGroupAuth||r.board.boardAuth.some(function(t){return r.userGroups.some(function(r){return r===t.groupId})})?[r._v("이 토픽을 구독할 수 있습니다.")]:"READONLY"===r.board.allGroupAuth?[r._v("이 토픽을 구독할 수 없지만 글을 읽을 수 있습니다.")]:[r._v("내가 구독할 수 없는 조건의 토픽입니다.")]],2):r._e()],1),o("v-card-actions",["T"===r.board.boardType&&r.userBoards.some(function(t){return t.boardId===r.board.boardId})?o("v-btn",{attrs:{flat:""},on:{click:r.leave}},[r._v("구독취소")]):r._e(),o("v-spacer"),"T"!==r.board.boardType||"A"!==r.profile.auth||r.userBoards.some(function(t){return t.boardId===r.board.boardId})||"READWRITE"!==r.board.allGroupAuth&&!r.board.boardAuth.some(function(t){return r.userGroups.some(function(r){return r===t.groupId})})?[o("v-btn",{attrs:{color:r.$store.getters.isLight?"primary":"secondary"},on:{click:r.closeDialog}},[r._v("닫기")])]:[o("v-btn",{attrs:{flat:""},on:{click:r.closeDialog}},[r._v("취소")]),o("v-btn",{attrs:{color:r.$store.getters.isLight?"primary":"secondary",loading:r.loading},on:{click:r.join}},[r._v("구독")])]],2)],1)},a=[],e={name:"boardInformation",props:["board"],data:function(){return{boardTypeItems:{T:"토픽",L:"라운지",D:"아카이브",X:"기타",E:"전직교사",N:"예비교사"},loading:!1}},computed:{boards:function(){var r=this.$store.getters.boards;return r.filter(function(t){return t.parentBoardId||!r.some(function(r){return r.parentBoardId===t.boardId})})},userBoards:function(){return this.$store.getters.userBoards},userGroups:function(){return this.$store.getters.profile.groups},profile:function(){return this.$store.getters.profile}},methods:{join:function(){var r=this;this.loading=!0,this.$axios.post("/user/board",{boardId:this.board.boardId},{headers:{silent:!0}}).then(function(t){r.$store.dispatch("addUserBoard",Object.assign({},r.board)),r.loading=!1,r.closeDialog(),r.$store.dispatch("showSnackbar",{text:"토픽을 구독하였습니다.",color:"success"})}).catch(function(t){console.log(t),r.loading=!1,r.$store.dispatch("showSnackbar",{text:"토픽을 구독하지 못했습니다.".concat(t&&t.response&&t.response.data?"["+t.response.data.message+"]":""),color:"error"})})},leave:function(){var r=this;this.$axios.delete("/user/board/"+this.board.boardId).then(function(t){r.$store.dispatch("removeUserBoard",r.board.boardId),r.closeDialog(),r.$store.dispatch("showSnackbar",{text:"토픽을 구독 해제하였습니다.",color:"success"})}).catch(function(t){console.log(t.response),r.$store.dispatch("showSnackbar",{text:t.response&&t.response.data.message||"토픽을 구독 해제하지 못했습니다.",color:"error"})})},closeDialog:function(){this.$emit("closeDialog",null)}}},d=e,n=o("0c7c"),i=Object(n["a"])(d,s,a,!1,null,null,null);t["default"]=i.exports}}]);